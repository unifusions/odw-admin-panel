import{j as e,r as c,q as rs,y as be}from"./app-CGYUPzMC.js";import{C as ce,d as ie,a as ts,b as ls}from"./card-D_D6tFEk.js";import{e as ns}from"./select-CvRpwpCQ.js";import{T as ze,a as We,b as ee}from"./tabs-Bwl_riIr.js";import{u as J,c as M,B as S}from"./button-86sgBqYo.js";import{c as Q}from"./createLucideIcon-mlU5Yd2c.js";import{u as as,P as de,p as U,b as os,d as cs,B as $,C as q,M as is,q as ds,r as ms,s as hs,t as _e,A as xs}from"./AuthenticatedLayout-C1HEbjx0.js";import{D as me,a as he,b as xe,c as ue,d as fe,e as le}from"./dialog-CsNCp4eR.js";import{c as us,P as re,a as G,e as fs}from"./index-DBJhD4T0.js";import{C as se}from"./clock-DdFSPb7g.js";import{B as gs}from"./building-Cf7DbZPp.js";import{U as pe}from"./user-DCNNeAWr.js";import{P as Ne}from"./phone-Bqcw0vTc.js";import{M as we}from"./mail-Bx0xYgs7.js";import{a as He,b as Fe,e as Ee,s as js,c as bs,i as vs,d as Z,C as ps}from"./calendar-CRl4Cscr.js";import{a as te}from"./addDays--5Ovw2Cz.js";import{f as O,s as ve}from"./format-CW6KcVUP.js";import{C as Ie}from"./circle-x-DcZkwmEo.js";import{L as ne}from"./label-BvZ_FGzT.js";import{T as Ns}from"./textarea-h9ni1wD_.js";import{C as Te}from"./checkbox-_MmmxXQP.js";import{C as ye}from"./circle-check-big-Dr200GAd.js";import{A as ws}from"./avatar-DT3o9T4i.js";import"./app-Bqpq0L9t.js";import"./index-Dawfl0EC.js";import"./index-5o-HobZ0.js";import"./chevron-down-DnXC-6cv.js";import"./check-CgxUml6v.js";import"./index-Cz90mCmq.js";import"./floating-ui.dom-CHyJ_zCg.js";import"./tslib.es6-BUas5LQb.js";import"./input-QMuAubht.js";import"./stethoscope-C7PEdZtr.js";import"./x-C68C8wy8.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Ss=Q("calendar-clock",ys);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ps=Q("circle-alert",Cs);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ks=Q("ellipsis",Ms);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],_s=Q("layout-grid",As);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ts=Q("list",Es);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Rs=Q("map",Ds);function Ls({viewMode:r,setViewMode:n}){return e.jsx(ce,{className:"shadow-card mb-6 py-0",children:e.jsx(ie,{className:"p-4",children:e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(ze,{value:r,onValueChange:n,children:e.jsxs(We,{className:"h-9",children:[e.jsxs(ee,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(Ts,{className:"h-4 w-4"}),"List"]}),e.jsxs(ee,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(_s,{className:"h-4 w-4"}),"Calendar"]})]})})})})})})}function Os({title:r,value:n,badge:s}){return e.jsx(e.Fragment,{children:e.jsx(ce,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(ie,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})})})})}function zs(r,n,s){return He(r,-n,s)}function Ws(r,n,s){return Fe(r,-n,s)}function Hs(r,n){return c.useReducer((s,i)=>n[s][i]??s,r)}var Se="ScrollArea",[Ve,Br]=us(Se),[Fs,z]=Ve(Se),Be=c.forwardRef((r,n)=>{const{__scopeScrollArea:s,type:i="hover",dir:t,scrollHideDelay:l=600,...o}=r,[d,a]=c.useState(null),[x,m]=c.useState(null),[u,h]=c.useState(null),[g,b]=c.useState(null),[P,D]=c.useState(null),[C,k]=c.useState(0),[_,p]=c.useState(0),[R,f]=c.useState(!1),[A,L]=c.useState(!1),j=J(n,E=>a(E)),v=as(t);return e.jsx(Fs,{scope:s,type:i,dir:v,scrollHideDelay:l,scrollArea:d,viewport:x,onViewportChange:m,content:u,onContentChange:h,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:R,onScrollbarXEnabledChange:f,scrollbarY:P,onScrollbarYChange:D,scrollbarYEnabled:A,onScrollbarYEnabledChange:L,onCornerWidthChange:k,onCornerHeightChange:p,children:e.jsx(re.div,{dir:v,...o,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":_+"px",...r.style}})})});Be.displayName=Se;var Xe="ScrollAreaViewport",Ye=c.forwardRef((r,n)=>{const{__scopeScrollArea:s,children:i,nonce:t,...l}=r,o=z(Xe,s),d=c.useRef(null),a=J(n,d,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),e.jsx(re.div,{"data-radix-scroll-area-viewport":"",...l,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Ye.displayName=Xe;var H="ScrollAreaScrollbar",Ue=c.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=z(H,r.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:o}=t,d=r.orientation==="horizontal";return c.useEffect(()=>(d?l(!0):o(!0),()=>{d?l(!1):o(!1)}),[d,l,o]),t.type==="hover"?e.jsx(Is,{...i,ref:n,forceMount:s}):t.type==="scroll"?e.jsx(Vs,{...i,ref:n,forceMount:s}):t.type==="auto"?e.jsx($e,{...i,ref:n,forceMount:s}):t.type==="always"?e.jsx(Ce,{...i,ref:n}):null});Ue.displayName=H;var Is=c.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=z(H,r.__scopeScrollArea),[l,o]=c.useState(!1);return c.useEffect(()=>{const d=t.scrollArea;let a=0;if(d){const x=()=>{window.clearTimeout(a),o(!0)},m=()=>{a=window.setTimeout(()=>o(!1),t.scrollHideDelay)};return d.addEventListener("pointerenter",x),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(a),d.removeEventListener("pointerenter",x),d.removeEventListener("pointerleave",m)}}},[t.scrollArea,t.scrollHideDelay]),e.jsx(de,{present:s||l,children:e.jsx($e,{"data-state":l?"visible":"hidden",...i,ref:n})})}),Vs=c.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=z(H,r.__scopeScrollArea),l=r.orientation==="horizontal",o=je(()=>a("SCROLL_END"),100),[d,a]=Hs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(d==="idle"){const x=window.setTimeout(()=>a("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(x)}},[d,t.scrollHideDelay,a]),c.useEffect(()=>{const x=t.viewport,m=l?"scrollLeft":"scrollTop";if(x){let u=x[m];const h=()=>{const g=x[m];u!==g&&(a("SCROLL"),o()),u=g};return x.addEventListener("scroll",h),()=>x.removeEventListener("scroll",h)}},[t.viewport,l,a,o]),e.jsx(de,{present:s||d!=="hidden",children:e.jsx(Ce,{"data-state":d==="hidden"?"hidden":"visible",...i,ref:n,onPointerEnter:G(r.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:G(r.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),$e=c.forwardRef((r,n)=>{const s=z(H,r.__scopeScrollArea),{forceMount:i,...t}=r,[l,o]=c.useState(!1),d=r.orientation==="horizontal",a=je(()=>{if(s.viewport){const x=s.viewport.offsetWidth<s.viewport.scrollWidth,m=s.viewport.offsetHeight<s.viewport.scrollHeight;o(d?x:m)}},10);return K(s.viewport,a),K(s.content,a),e.jsx(de,{present:i||l,children:e.jsx(Ce,{"data-state":l?"visible":"hidden",...t,ref:n})})}),Ce=c.forwardRef((r,n)=>{const{orientation:s="vertical",...i}=r,t=z(H,r.__scopeScrollArea),l=c.useRef(null),o=c.useRef(0),[d,a]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=Qe(d.viewport,d.content),m={...i,sizes:d,onSizesChange:a,hasThumb:x>0&&x<1,onThumbChange:h=>l.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function u(h,g){return qs(h,o.current,d,g)}return s==="horizontal"?e.jsx(Bs,{...m,ref:n,onThumbPositionChange:()=>{if(t.viewport&&l.current){const h=t.viewport.scrollLeft,g=De(h,d,t.dir);l.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{t.viewport&&(t.viewport.scrollLeft=h)},onDragScroll:h=>{t.viewport&&(t.viewport.scrollLeft=u(h,t.dir))}}):s==="vertical"?e.jsx(Xs,{...m,ref:n,onThumbPositionChange:()=>{if(t.viewport&&l.current){const h=t.viewport.scrollTop,g=De(h,d);l.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{t.viewport&&(t.viewport.scrollTop=h)},onDragScroll:h=>{t.viewport&&(t.viewport.scrollTop=u(h))}}):null}),Bs=c.forwardRef((r,n)=>{const{sizes:s,onSizesChange:i,...t}=r,l=z(H,r.__scopeScrollArea),[o,d]=c.useState(),a=c.useRef(null),x=J(n,a,l.onScrollbarXChange);return c.useEffect(()=>{a.current&&d(getComputedStyle(a.current))},[a]),e.jsx(Ge,{"data-orientation":"horizontal",...t,ref:x,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ge(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,u)=>{if(l.viewport){const h=l.viewport.scrollLeft+m.deltaX;r.onWheelScroll(h),es(h,u)&&m.preventDefault()}},onResize:()=>{a.current&&l.viewport&&o&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:oe(o.paddingLeft),paddingEnd:oe(o.paddingRight)}})}})}),Xs=c.forwardRef((r,n)=>{const{sizes:s,onSizesChange:i,...t}=r,l=z(H,r.__scopeScrollArea),[o,d]=c.useState(),a=c.useRef(null),x=J(n,a,l.onScrollbarYChange);return c.useEffect(()=>{a.current&&d(getComputedStyle(a.current))},[a]),e.jsx(Ge,{"data-orientation":"vertical",...t,ref:x,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ge(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,u)=>{if(l.viewport){const h=l.viewport.scrollTop+m.deltaY;r.onWheelScroll(h),es(h,u)&&m.preventDefault()}},onResize:()=>{a.current&&l.viewport&&o&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:oe(o.paddingTop),paddingEnd:oe(o.paddingBottom)}})}})}),[Ys,qe]=Ve(H),Ge=c.forwardRef((r,n)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:t,onThumbChange:l,onThumbPointerUp:o,onThumbPointerDown:d,onThumbPositionChange:a,onDragScroll:x,onWheelScroll:m,onResize:u,...h}=r,g=z(H,s),[b,P]=c.useState(null),D=J(n,j=>P(j)),C=c.useRef(null),k=c.useRef(""),_=g.viewport,p=i.content-i.viewport,R=U(m),f=U(a),A=je(u,10);function L(j){if(C.current){const v=j.clientX-C.current.left,E=j.clientY-C.current.top;x({x:v,y:E})}}return c.useEffect(()=>{const j=v=>{const E=v.target;(b==null?void 0:b.contains(E))&&R(v,p)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[_,b,p,R]),c.useEffect(f,[i,f]),K(b,A),K(g.content,A),e.jsx(Ys,{scope:s,scrollbar:b,hasThumb:t,onThumbChange:U(l),onThumbPointerUp:U(o),onThumbPositionChange:f,onThumbPointerDown:U(d),children:e.jsx(re.div,{...h,ref:D,style:{position:"absolute",...h.style},onPointerDown:G(r.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),C.current=b.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),L(j))}),onPointerMove:G(r.onPointerMove,L),onPointerUp:G(r.onPointerUp,j=>{const v=j.target;v.hasPointerCapture(j.pointerId)&&v.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=k.current,g.viewport&&(g.viewport.style.scrollBehavior=""),C.current=null})})})}),ae="ScrollAreaThumb",Ke=c.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=qe(ae,r.__scopeScrollArea);return e.jsx(de,{present:s||t.hasThumb,children:e.jsx(Us,{ref:n,...i})})}),Us=c.forwardRef((r,n)=>{const{__scopeScrollArea:s,style:i,...t}=r,l=z(ae,s),o=qe(ae,s),{onThumbPositionChange:d}=o,a=J(n,u=>o.onThumbChange(u)),x=c.useRef(void 0),m=je(()=>{x.current&&(x.current(),x.current=void 0)},100);return c.useEffect(()=>{const u=l.viewport;if(u){const h=()=>{if(m(),!x.current){const g=Gs(u,d);x.current=g,d()}};return d(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[l.viewport,m,d]),e.jsx(re.div,{"data-state":o.hasThumb?"visible":"hidden",...t,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:G(r.onPointerDownCapture,u=>{const g=u.target.getBoundingClientRect(),b=u.clientX-g.left,P=u.clientY-g.top;o.onThumbPointerDown({x:b,y:P})}),onPointerUp:G(r.onPointerUp,o.onThumbPointerUp)})});Ke.displayName=ae;var Pe="ScrollAreaCorner",Je=c.forwardRef((r,n)=>{const s=z(Pe,r.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?e.jsx($s,{...r,ref:n}):null});Je.displayName=Pe;var $s=c.forwardRef((r,n)=>{const{__scopeScrollArea:s,...i}=r,t=z(Pe,s),[l,o]=c.useState(0),[d,a]=c.useState(0),x=!!(l&&d);return K(t.scrollbarX,()=>{var u;const m=((u=t.scrollbarX)==null?void 0:u.offsetHeight)||0;t.onCornerHeightChange(m),a(m)}),K(t.scrollbarY,()=>{var u;const m=((u=t.scrollbarY)==null?void 0:u.offsetWidth)||0;t.onCornerWidthChange(m),o(m)}),x?e.jsx(re.div,{...i,ref:n,style:{width:l,height:d,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function oe(r){return r?parseInt(r,10):0}function Qe(r,n){const s=r/n;return isNaN(s)?0:s}function ge(r){const n=Qe(r.viewport,r.content),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=(r.scrollbar.size-s)*n;return Math.max(i,18)}function qs(r,n,s,i="ltr"){const t=ge(s),l=t/2,o=n||l,d=t-o,a=s.scrollbar.paddingStart+o,x=s.scrollbar.size-s.scrollbar.paddingEnd-d,m=s.content-s.viewport,u=i==="ltr"?[0,m]:[m*-1,0];return Ze([a,x],u)(r)}function De(r,n,s="ltr"){const i=ge(n),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-t,o=n.content-n.viewport,d=l-i,a=s==="ltr"?[0,o]:[o*-1,0],x=ns(r,a);return Ze([0,o],[0,d])(x)}function Ze(r,n){return s=>{if(r[0]===r[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(r[1]-r[0]);return n[0]+i*(s-r[0])}}function es(r,n){return r>0&&r<n}var Gs=(r,n=()=>{})=>{let s={left:r.scrollLeft,top:r.scrollTop},i=0;return function t(){const l={left:r.scrollLeft,top:r.scrollTop},o=s.left!==l.left,d=s.top!==l.top;(o||d)&&n(),s=l,i=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(i)};function je(r,n){const s=U(r),i=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(i.current),[]),c.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,n)},[s,n])}function K(r,n){const s=U(n);fs(()=>{let i=0;if(r){const t=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return t.observe(r),()=>{window.cancelAnimationFrame(i),t.unobserve(r)}}},[r,s])}var Ks=Be,Js=Ye,Qs=Je;function Re({className:r,children:n,...s}){return e.jsxs(Ks,{"data-slot":"scroll-area",className:M("relative",r),...s,children:[e.jsx(Js,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(Zs,{}),e.jsx(Qs,{})]})}function Zs({className:r,orientation:n="vertical",...s}){return e.jsx(Ue,{"data-slot":"scroll-area-scrollbar",orientation:n,className:M("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...s,children:e.jsx(Ke,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Y={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},er=r=>new Date(r),Le=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];function sr({appointments:r,onReschedule:n,onConfirm:s,onCancel:i}){var R,f,A,L,j,v,E;const[t,l]=c.useState(new Date),[o,d]=c.useState("month"),[a,x]=c.useState(null),[m,u]=c.useState(!1),h=y=>r==null?void 0:r.filter(N=>Z(er(N==null?void 0:N.appointment_date),y)).sort((N,w)=>N==null?void 0:N.time_slot.localeCompare(w==null?void 0:w.time_slot)),g=(y,N)=>{N.stopPropagation(),x(y),u(!0)},b=()=>{l(o==="month"?zs(t,1):o==="week"?Ws(t,1):te(t,-1))},P=()=>{l(o==="month"?He(t,1):o==="week"?Fe(t,1):te(t,1))},D=()=>{if(o==="month")return O(t,"MMMM yyyy");if(o==="week"){const y=ve(t),N=Ee(t);return`${O(y,"MMM d")} - ${O(N,"MMM d, yyyy")}`}else return O(t,"EEEE, MMMM d, yyyy")},C=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=()=>{const y=js(t),N=bs(y),w=ve(y),W=Ee(N),T=[];let V=w;for(;V<=W;)T.push(V),V=te(V,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:C.map(F=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:F},F))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T.map((F,I)=>{const B=h(F),Me=vs(F,t),ke=Z(F,new Date);return e.jsxs("div",{className:M("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!Me&&"bg-muted/30 opacity-50",ke&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:M("text-sm font-medium mb-2",ke&&"text-primary",!Me&&"text-muted-foreground"),children:O(F,"d")}),e.jsxs("div",{className:"space-y-1",children:[B.slice(0,3).map(X=>{var Ae;return e.jsxs("button",{onClick:ss=>g(X,ss),className:M("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",Y[X.status].class),children:[e.jsx("span",{className:"font-medium",children:X.time_slot})," - ",(Ae=X==null?void 0:X.patient)==null?void 0:Ae.first_name.split(" ")[0]]},X.id)}),(B==null?void 0:B.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",B.length-3," more"]})]})]},I)})})]})},_=()=>{const y=ve(t),N=[];for(let w=0;w<7;w++)N.push(te(y,w));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",N.map(w=>{const W=Z(w,new Date);return e.jsxs("div",{className:M("text-center py-2 rounded-lg",W&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:O(w,"EEE")}),e.jsx("div",{className:M("text-lg font-semibold",W&&"text-primary"),children:O(w,"d")})]},w.toISOString())})]}),e.jsx(Re,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:Le.map(w=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:w},w),N.map(W=>{const V=h(W).filter(I=>I.time===w),F=Z(W,new Date);return e.jsx("div",{className:M("min-h-[60px] p-1 border border-border rounded transition-colors",F&&"bg-primary/5"),children:V.map(I=>e.jsxs("button",{onClick:B=>g(I,B),className:M("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02]",Y[I.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:I.patientName}),e.jsx("div",{className:"truncate opacity-80",children:I.type})]},I.id))},`${W.toISOString()}-${w}`)})]}))})})]})},p=()=>{const y=h(t),N=Z(t,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:M("text-center py-4 rounded-lg mb-4",N&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:O(t,"EEEE")}),e.jsx("div",{className:M("text-3xl font-bold",N&&"text-primary"),children:O(t,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:O(t,"MMMM yyyy")})]}),e.jsx(Re,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:Le.map(w=>{const W=y.filter(T=>T.time===w);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:w}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:W.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:W.map(T=>e.jsx("button",{onClick:V=>g(T,V),className:M("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01]",Y[T.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:T.patientName}),e.jsx("div",{className:"text-sm opacity-80",children:T.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:T.doctor}),e.jsx($,{variant:"outline",className:"mt-1",children:Y[T.status].label})]})]})},T.id))})})]},w)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"shadow-card w-full",children:e.jsxs(ie,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:D()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(Y).map(([y,N])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:M("px-2 py-0.5 rounded text-xs",N.class),children:N.label})},y))}),e.jsx(ze,{value:o,onValueChange:y=>d(y),children:e.jsxs(We,{className:"h-9",children:[e.jsx(ee,{value:"month",className:"px-3",children:"Month"}),e.jsx(ee,{value:"week",className:"px-3",children:"Week"}),e.jsx(ee,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{variant:"outline",size:"icon",onClick:b,children:e.jsx(os,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",onClick:()=>l(new Date),children:"Today"}),e.jsx(S,{variant:"outline",size:"icon",onClick:P,children:e.jsx(cs,{className:"h-4 w-4"})})]})]})]}),o==="month"&&k(),o==="week"&&_(),o==="day"&&p()]})}),e.jsx(me,{open:m,onOpenChange:u,children:e.jsx(he,{className:"sm:max-w-[500px]",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs(xe,{children:[e.jsxs(ue,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(R=a==null?void 0:a.patient)==null?void 0:R.first_name.split(" ").map(y=>y[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(f=a==null?void 0:a.patient)==null?void 0:f.first_name}),e.jsx($,{className:M("mt-1",Y[a.status].class),children:Y[a.status].label})]})]}),e.jsx(fe,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(q,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:a.appointment_date})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(se,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:a.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(gs,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((A=a==null?void 0:a.clinic)==null?void 0:A.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(pe,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((L=a==null?void 0:a.appointable)==null?void 0:L.name)??"Next Available Provider"," "]}),(a==null?void 0:a.appointable)&&e.jsx($,{variant:"outline",children:a==null?void 0:a.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(j=a==null?void 0:a.patient)==null?void 0:j.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[(E=(v=a==null?void 0:a.patient)==null?void 0:v.first_name)==null?void 0:E.toLowerCase().replace(" ","."),"@email.com"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[a.status==="pending"&&e.jsx(S,{className:"flex-1",onClick:()=>{s(a),u(!1)},children:"Confirm"}),(a.status==="pending"||a.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:"outline",className:"flex-1",onClick:()=>{n(a),u(!1)},children:"Reschedule"}),e.jsx(S,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{i(a),u(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function rr({open:r,onOpenChange:n,appointment:s,onCancel:i}){var t,l;return e.jsx(me,{open:r,onOpenChange:n,children:e.jsxs(he,{className:"max-w-md",children:[e.jsxs(xe,{children:[e.jsx(ue,{children:"Cancel Appointment"}),e.jsx(fe,{children:"Are you sure you want to cancel this appointment?"})]}),s&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(t=s==null?void 0:s.patient)==null?void 0:t.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(l=s==null?void 0:s.appointable)==null?void 0:l.name})]})}),e.jsxs(le,{children:[e.jsx(S,{variant:"outline",onClick:()=>n(!1),children:"Keep Appointment"}),e.jsxs(S,{variant:"destructive",onClick:i,children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function tr({appointment:r,sendEmail:n,sendSMS:s}){var i;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(ye,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(i=r==null?void 0:r.patient)==null?void 0:i.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(n||s)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),n&&e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),"Email"]}),s&&e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(Ne,{className:"h-3 w-3"}),"SMS"]})]})]})}function lr({open:r,onOpenChange:n,appointment:s,onConfirm:i}){var b,P,D,C,k,_;const[t,l]=c.useState(""),[o,d]=c.useState(!0),[a,x]=c.useState(!0),[m,u]=c.useState("details"),h=()=>{l(""),d(!0),x(!0),u("details"),n(!1)},g=()=>{if(s){const p=[];o&&p.push("email"),a&&p.push("sms"),i(s,t,p),u("success")}};return s?e.jsx(me,{open:r,onOpenChange:h,children:e.jsx(he,{className:"max-w-md",children:m==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(xe,{children:[e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(fe,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(P=(b=s==null?void 0:s.patient)==null?void 0:b.first_name)==null?void 0:P.split(" ").map(p=>p[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(D=s==null?void 0:s.patient)==null?void 0:D.first_name}),((C=s==null?void 0:s.dentalservice)==null?void 0:C.name)&&e.jsx($,{variant:"outline",className:"mt-1",children:(k=s==null?void 0:s.dentalservice)==null?void 0:k.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:(_=s==null?void 0:s.appointable)==null?void 0:_.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ne,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(Ns,{placeholder:"Add any notes or instructions for the patient...",value:t,onChange:p=>l(p.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(Te,{id:"email",checked:o,onCheckedChange:p=>d(!!p)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(Te,{id:"sms",checked:a,onCheckedChange:p=>x(!!p)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(le,{children:[e.jsx(S,{variant:"outline",onClick:h,children:"Cancel"}),e.jsx(S,{onClick:g,children:"Confirm Appointment"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(tr,{appointment:s,sendEmail:o,sendSMS:a}),e.jsx(le,{children:e.jsx(S,{onClick:h,className:"w-full",children:"Done"})})]})})}):null}const nr=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function ar({open:r,onOpenChange:n,appointment:s,onReschedule:i}){var C,k,_,p,R;const[t,l]=c.useState(),[o,d]=c.useState(""),[a,x]=c.useState(""),[m,u]=c.useState(""),[h,g]=c.useState("select"),b=()=>{l(void 0),d(""),x(""),u(""),g("select"),n(!1)},P=()=>{t&&o&&g("confirm")},D=()=>{s&&t&&o&&(i(s,t,o,m),b())};return s?e.jsx(me,{open:r,onOpenChange:b,children:e.jsxs(he,{className:"max-w-2xl",children:[e.jsxs(xe,{children:[e.jsxs(ue,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(fe,{children:["Select a new date and time for ",(C=s==null?void 0:s.patient)==null?void 0:C.first_name,"'s"," ",(k=s==null?void 0:s.type)==null?void 0:k.toLowerCase()," appointment"]})]}),h==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(p=(_=s==null?void 0:s.patient)==null?void 0:_.first_name)==null?void 0:p.split(" ").map(f=>f[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(R=s==null?void 0:s.patient)==null?void 0:R.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s==null?void 0:s.time_slot]})]}),e.jsx($,{variant:"outline",children:s==null?void 0:s.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Select New Date"}),e.jsx(ps,{mode:"single",selected:t,onSelect:l,disabled:f=>f<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:nr.map(f=>e.jsx(S,{type:"button",variant:o===f?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(f),children:f},f))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ps,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:t&&O(t,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:o})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(le,{children:h==="select"?e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:"outline",onClick:b,children:"Cancel"}),e.jsx(S,{onClick:P,disabled:!t||!o,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{variant:"outline",onClick:()=>g("select"),children:"Back"}),e.jsx(S,{onClick:D,children:"Confirm Reschedule"})]})})]})}):null}const Oe={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function or({appointments:r,showActions:n=!0,onReschedule:s,onConfirm:i,onCancel:t}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),n&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(l=>{var o,d,a;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(ws,{text:(o=l==null?void 0:l.patient)==null?void 0:o.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(pe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=l==null?void 0:l.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((a=l==null?void 0:l.clinic)==null?void 0:a.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:M("badge-status",Oe[l==null?void 0:l.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),Oe[l.status].label]})}),n&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.status==="pending"&&i&&e.jsxs(S,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>i(l),children:[e.jsx(ye,{className:"h-4 w-4"}),"Confirm"]}),(l.status==="pending"||l.status==="confirmed")&&s&&e.jsxs(S,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>s(l),children:[e.jsx(Ss,{className:"h-4 w-4"}),"Reschedule"]}),(l.status==="pending"||l.status==="confirmed")&&t&&e.jsxs(S,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>t(l),children:[e.jsx(Ie,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(ds,{children:[e.jsx(ms,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(ks,{className:"h-4 w-4"})})}),e.jsxs(hs,{align:"end",children:[e.jsx(_e,{children:"View Details"}),e.jsx(_e,{children:"Edit Notes"})]})]})]})})]},l.id)})})]})})}const cr={pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"};function Xr({appointments:r,pendingAppointments:n,monthlyStats:s}){const{auth:i}=rs().props,t=i.user.role,[l,o]=c.useState("calendar"),[d,a]=c.useState(!1),[x,m]=c.useState(null),[u,h]=c.useState(!1),[g,b]=c.useState(!1),P=f=>{m(f),a(!0)},D=f=>{m(f),h(!0)},C=f=>{const A=f.replace(/\s+/g," ").replace(/\u202F/g," "),[L,j]=A.split(" ");let[v,E]=L.split(":");return v==="12"&&(v="00"),j==="PM"&&(v=parseInt(v,10)+12),`${v}:${E}`},k=(f,A,L,j)=>{let v="appointments.reschedule";t==="clinic_admin"&&(v="clinic.appointments.reschedule"),t==="clinic_user"&&(v="clinic.user.appointments.reschedule");const E=C(L),y=O(A,"yyyy-MM-dd");be.put(route(v,{appointment:f.id}),{new_slot:E,new_dt:y})},_=(f,A,L)=>{let j="appointments.confirm";t==="clinic_admin"&&(j="clinic.appointments.confirm"),t==="clinic_user"&&(j="clinic.user.appointments.confirm"),be.put(route(j,{appointment:x}))},p=f=>{m(f),b(!0)},R=()=>{let f="appointments.cancel";x&&(t==="clinic_admin"&&(f="clinic.appointments.cancel"),t==="clinic_user"&&(f="clinic.user.appointments.cancel"),be.put(route(f,{appointment:x}),{onFinish:()=>{m(null),b(!1)}}))};return e.jsxs(xs,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:Object.entries(s).map(([f,A])=>e.jsx(Os,{title:cr[f]??f,value:A},f))}),e.jsx(Ls,{viewMode:l,setViewMode:f=>o(f)}),l==="list"?e.jsxs(ce,{className:"shadow-card",children:[e.jsx(ts,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(ls,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(ie,{className:"p-0 pt-4",children:e.jsx(or,{appointments:r,onReschedule:P})})]}):e.jsx(sr,{appointments:r,onReschedule:P,onConfirm:D,onCancel:p}),e.jsx(ar,{open:d,onOpenChange:a,appointment:x,onReschedule:k}),e.jsx(lr,{open:u,onOpenChange:h,appointment:x,onConfirm:_}),e.jsx(rr,{open:g,onOpenChange:b,appointment:x,onCancel:R})]})}export{Xr as default};
