import{j as s,q as o}from"./app-gTnaJgA3.js";import{D as n}from"./Pagination-eAQ_Dv0o.js";import"./select-CYs-Uctu.js";import{C as N,d as b,e as v}from"./card-Bhb_vsbj.js";import{B as l,A as p}from"./AuthenticatedLayout-DJ8-3KyR.js";import{c as m}from"./button-Blg-GYzd.js";import{L as w}from"./link-button-Ctxr7Lny.js";import{M as C}from"./message-square-DVTm9amt.js";import{P as h}from"./paperclip-62m5lbjV.js";import{E as y}from"./eye-W1QpbtNr.js";import{C as g}from"./clock-DRQQ8Pyc.js";import{S}from"./shield-BSqWj0fN.js";import{C as j}from"./circle-check-big-CAgM8E-g.js";import{F as _}from"./file-exclamation-point-C9ZnerrP.js";import{S as d,N as R}from"./summary-card-DtDuhcdo.js";import{S as k}from"./stethoscope-DqR_97mW.js";import"./app-CK0NxaSB.js";import"./index-spsts5mh.js";import"./index-DP5tSnDM.js";import"./index-BxtszkHN.js";import"./Combination-uFuk5kAN.js";import"./tslib.es6-BUas5LQb.js";import"./index-C6XzcVRl.js";import"./index-B8X4-DhB.js";import"./floating-ui.react-dom-D9EAUDn-.js";import"./floating-ui.dom-g0iQpA8R.js";import"./index-BitAmouY.js";import"./index-D6ei9Hwz.js";import"./chevron-down-ChSr9nFW.js";import"./createLucideIcon-Crjk9jNs.js";import"./check-DZsZBx8W.js";import"./index-DlDaoWmT.js";import"./input-CLmUZ-_M.js";const x={in_review:{label:"In Review",icon:g,class:"bg-warning/10 text-warning"},insurance_review:{label:"Insurance Review",icon:S,class:"bg-info/10 text-info"},answered:{label:"Answered",icon:j,class:"bg-success/10 text-success"},closed:{label:"Closed",icon:j,class:"bg-success/10 text-success"},pending:{label:"Pending",icon:_,class:"bg-destructive/10 text-destructive"}};function O({opinion:e}){var a,t,r,i,u,f;const c=(a=x[e==null?void 0:e.status])==null?void 0:a.icon;return s.jsxs(N,{className:` 
                     shadow-card hover:shadow-card-hover transition-all animate-fade-in mb-5`,children:[s.jsx(b,{className:"p-6 pb-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:s.jsx(C,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h3",{className:"font-semibold",children:(t=e==null?void 0:e.patient)==null?void 0:t.first_name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["SO-",e.id]}),e.is_quick&&s.jsx(l,{children:"Quick"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.category&&s.jsx(l,{variant:"secondary",children:e.category}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Requested ",e==null?void 0:e.created_at]})]})]})]}),s.jsxs(l,{className:m("flex items-center gap-1",(r=x[e==null?void 0:e.status])==null?void 0:r.class),children:[s.jsx(c,{className:"h-3 w-3"}),(i=x[e==null?void 0:e.status])==null?void 0:i.label]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:e==null?void 0:e.subject})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.description})]}),(e==null?void 0:e.replies)&&s.jsxs("div",{className:m("rounded-lg border p-4",(e==null?void 0:e.status)==="rejected"?"border-destructive/30 bg-destructive/5":"border-success/30 bg-success/5"),children:[s.jsx("p",{className:m("text-sm font-medium mb-1 text-success"),children:(e==null?void 0:e.status)==="rejected"?"Rejection Response":"Expert Response"}),s.jsx("p",{className:"text-sm text-foreground",children:(u=e==null?void 0:e.replies)==null?void 0:u.reply_message}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{children:(f=e.replies)==null?void 0:f.file_name})]})]})]})}),s.jsx(v,{className:"mt-0",children:s.jsxs("div",{className:"w-full flex items-center justify-between border-t border-border pt-4 mt-0 ",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.attachments," attachments"]})]}),s.jsxs(w,{size:"sm",href:route("second-opinion.show",e),children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"View Details"]})]})})]},e.id)}function xe(){const{so_pending_count:e,so_review_count:c,so_completed_count:a,secondopinions:t}=o().props;return s.jsxs(p,{header:"Second Opinion",pageTitle:"All Second Opinions",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[s.jsx(d,{title:"Opinion Requests",value:e,icon:g,iconColor:"warning"}),s.jsx(d,{title:"In Review",value:c,icon:k,iconColor:"info"}),s.jsx(d,{title:"Completed Opinions",value:a,icon:R,iconColor:"primary"})]}),t.data.map(r=>s.jsx(O,{opinion:r},r.id)),s.jsx(n,{links:t.links})]})}export{xe as default};
