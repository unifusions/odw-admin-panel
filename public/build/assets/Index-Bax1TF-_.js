import{r as l,j as s,q as o,a as n}from"./app-h6ehwo7a.js";import{A as c}from"./AuthenticatedLayout-BV9VHTLQ.js";import"./TextArea-D_WbF6Pb.js";import"./TextInput-px6aV3Ik.js";import"./flatpickr-EsGhyibN.js";import{P as d}from"./Pagination-ABvdm00-.js";import"./index-C40zP8_T.js";import"./Sidebar-BEAosURM.js";import"./DentistIcon-Dr9Q3hLE.js";import"./index-Chjiymov.js";const h=({src:i,onClose:a})=>(l.useEffect(()=>{const e=r=>{r.key==="Escape"&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"modal show fade d-block",tabIndex:"-1",role:"dialog",onClick:a,style:{backgroundColor:"rgba(0,0,0,0.8)"},children:s.jsx("div",{className:"modal-dialog modal-fullscreen",role:"document",onClick:e=>e.stopPropagation(),children:s.jsxs("div",{className:"modal-content bg-transparent border-0",children:[s.jsx("div",{className:"modal-body d-flex justify-content-center align-items-center p-0",children:s.jsx("img",{src:i,alt:"Lightbox",className:"img-fluid",style:{maxHeight:"100vh"}})}),s.jsx("button",{type:"button",className:"btn-close position-absolute top-0 end-0 m-3","aria-label":"Close",onClick:a})]})})})}));function y(){const[i,a]=l.useState(null),e=({deal:t})=>s.jsxs(n,{href:route("deals.edit",t),className:"btn btn-white btn-sm",children:[s.jsx("i",{class:"bi-pencil-fill me-1"})," Edit"]}),{deals:r}=o().props;return s.jsx(c,{header:"Deals",pageTitle:"All Deals",callToAction:s.jsx(n,{href:route("deals.create"),className:"btn btn-primary",children:"Add Deal"}),children:s.jsxs("div",{class:"card",children:[s.jsx("div",{class:"card-header card-header-content-md-between",children:s.jsx("div",{class:"mb-2 mb-md-0"})}),s.jsx("div",{class:"table-responsive",children:s.jsxs("table",{id:"datatable",class:"table  ",children:[s.jsx("thead",{class:"thead-light",children:s.jsxs("tr",{role:"row",children:[s.jsx("th",{}),s.jsx("th",{class:"",tabindex:"0","aria-controls":"datatable",rowspan:"1",colspan:"1","aria-label":"Product: activate to sort column ascending",children:"Title"}),s.jsx("th",{class:"sorting",tabindex:"0","aria-controls":"datatable",rowspan:"1",colspan:"1","aria-label":"Type: activate to sort column ascending",children:"Description"}),s.jsx("th",{class:"sorting_disabled",rowspan:"1",colspan:"1","aria-label":"Stocks",children:"Start Date"}),s.jsx("th",{rowspan:"1",colspan:"1","aria-label":"SKU: activate to sort column ascending",children:"End Date"}),s.jsx("th",{class:"sorting",tabindex:"0","aria-controls":"datatable",rowspan:"1",colspan:"1","aria-label":"Price: activate to sort column ascending",children:"Status"}),s.jsx("th",{class:"sorting_disabled",rowspan:"1",colspan:"1","aria-label":"Actions",children:"Actions"})]})}),s.jsxs("tbody",{children:[r&&r.data.map(t=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("img",{className:"avatar cursor-pointer",src:t.image_url,onClick:()=>a(t.image_url)})}),s.jsx("td",{children:t.title}),s.jsx("td",{children:t.description}),s.jsx("td",{children:t.start_date}),s.jsx("td",{children:t.end_date}),s.jsx("td",{children:t.is_active}),s.jsx("td",{children:s.jsx(e,{deal:t})})]})),i&&s.jsx(h,{src:i,onClose:()=>a(null)})]})]})}),s.jsx("div",{class:"card-footer",children:s.jsx(d,{links:r.links})})]})})}export{y as default};
