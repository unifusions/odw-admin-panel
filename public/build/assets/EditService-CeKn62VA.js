import{r as d,W as u,j as e,y as v}from"./app-CZmb_3CW.js";import{I as m}from"./InputLabel-BwSQGSsY.js";import{T as r}from"./TextInput-ZZeVGwpQ.js";import x from"./ServiceModal-5zjtFa22.js";import{I as b}from"./ImageUploader-CVpDYwak.js";import{T as f}from"./TextArea-BLN-ReRP.js";import"./index-Chjiymov.js";function I({service:s}){const[p,c]=d.useState(null),l=d.useRef(null),{data:t,setData:o,processing:g,post:j,reset:N}=u({name:s.name||"",image_path:s.image_path||"",desc:s.desc||"",cost:s.cost||"",avg_cost:s.avg_cost||""}),i=()=>{l.current&&l.current.hideModal(),c(null)},h=a=>{a.preventDefault();const n=new FormData;t.image_path&&n.append("image_path",t.image_path),n.append("_method","PUT"),v.post(route("services.update",s),{_method:"put",data:t,image_path:t.image_path,forceFormData:!0}),l.current&&l.current.hideModal(),c(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",class:"btn btn-white btn-sm",onClick:()=>c(`editServiceModal-${s.id}`),children:[e.jsx("i",{class:"bi-pencil-fill me-1"})," Edit"]}),e.jsx(x,{id:`editServiceModal-${s.id}`,activeModal:p,onClose:i,title:s.name,ref:l,children:e.jsxs("form",{action:"",onSubmit:h,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(m,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Service Icon"}),e.jsx("div",{class:"col-sm-9",children:e.jsx("div",{class:"d-flex align-items-center",children:e.jsx(b,{onFileSelect:a=>o("image_path",a),existingImage:t.image_path})})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(m,{htmlFor:"service_name",className:"form-label col-sm-3 col-form-label",value:"Service Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{id:"service_name",type:"text",name:"service_name",value:t.name,className:"form-control ",placeholder:"Service Name",onChange:a=>o("name",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"desc",className:"col-sm-3 col-form-label form-label",children:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(f,{name:"desc",className:"form-control",value:t.desc,onChange:a=>o("desc",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsxs("label",{for:"serviceCost",className:"col-sm-3 col-form-label form-label",children:["Cost",e.jsx("i",{className:"bi-question-circle text-body ms-1","data-bs-toggle":"tooltip","data-bs-placement":"top"})]}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{id:"serviceCost",type:"number",name:"cost",value:t.cost,className:"form-control ",placeholder:"Service Name",onChange:a=>o("cost",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(m,{htmlFor:"avgCost",className:"form-label col-sm-3 col-form-label",value:"Average Cost"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{id:"avgCost",type:"number",name:"cost",value:t.avg_cost,className:"form-control ",placeholder:"Average Cost",onChange:a=>o("avg_cost",a.target.value)})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3",onClick:i,children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Service"})]})]})},s.id)]})}export{I as default};
