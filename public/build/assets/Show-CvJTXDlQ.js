import{W as _,j as e,r as v,q as P}from"./app-BDrvQ-Fh.js";import{D as R}from"./DateTimeConverter-ghUxjCtc.js";import{A as F,F as L,B as A}from"./AuthenticatedLayout-Dmurvagr.js";import"./TextArea-ReiCawfW.js";import{B as D,c as M}from"./button-C9DuKgUG.js";import{C as i,a as o,b as n,d as c,e as U}from"./card-CQMuBvVe.js";import{L as w}from"./label-70R2CAFi.js";import{T as q}from"./textarea-BnEYYtTO.js";import{F as H}from"./FileUploader-n_VKk5bQ.js";import{S as y}from"./send-BHF8VWBU.js";import{L as V}from"./loader-C1uvpXws.js";import{C as E}from"./circle-check-big-I92J38ci.js";import{P as O}from"./paperclip-B7k-2UEv.js";import{L as $}from"./link-button-EgWiFZrD.js";import{S as z,a as W,b as X,c as K,d as Z}from"./select-BwL2NgdK.js";import{S as G}from"./SubmitButton-B9vQ8E3g.js";import{S as J}from"./stethoscope-ChF4dvUK.js";import{D as Q,a as Y,b as ee,c as se,e as te}from"./dialog-Dx4GLaow.js";import{X as ae}from"./x-B24eB6aR.js";import{S as h}from"./shield-DA9RK9Vv.js";import{U as k}from"./user-CyRy-t4Z.js";import{C as I}from"./message-square-VlcRmtPN.js";import{I as re,C as le}from"./id-card-9EF72h4h.js";import{B as C}from"./building-Pc0VzQbF.js";import{A as de}from"./arrow-left-DnHriVgt.js";import{M as ie}from"./mail-B9PiJMru.js";import{c as B}from"./createLucideIcon-HlBZp8tO.js";import{C as S}from"./clock-DH7CGz7L.js";import{C as ce}from"./circle-x-CFlA7bOn.js";import"./app-D_D9UtE4.js";import"./index-BsO8Jy5G.js";import"./input-BFYME9wT.js";import"./index-By11zwLU.js";import"./index-Cc0CZ3Ta.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./index-sgrgDCtd.js";import"./index-709C2Cvg.js";import"./Combination-ylOFAbdE.js";import"./index-D4DQtpoo.js";import"./index-C67hFgXz.js";import"./floating-ui.react-dom-B6xn-Qlo.js";import"./floating-ui.dom-g0iQpA8R.js";import"./index-C38P3_I-.js";import"./index-Cd8C1Kir.js";import"./chevron-down-BQEr59Or.js";import"./check-BQL5iUOq.js";import"./index-B3TDZUkv.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],oe=B("dollar-sign",me);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],xe=B("receipt",ne);function pe({estimate:s}){const{data:a,post:r,processing:l,errors:d,reset:x,setData:t}=_({message:"",estimation:null}),p=m=>{m.preventDefault(),r(route("estimates.replies.store",s),{forceFormData:!0})};return e.jsx(i,{className:"shadow-card",children:e.jsxs("form",{onSubmit:p,children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5"}),"Prepare Estimate Response"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"response",children:"Response to Patient *"}),e.jsx(q,{id:"response",placeholder:"Enter your detailed response including cost breakdown, insurance coverage details, payment options, and any additional notes...",value:a.message,onChange:m=>t("message",m.target.value),rows:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"response",children:"Upload detailed Estimate *"}),e.jsx(H,{onFileSelect:m=>t("estimation",m),selectedFile:a.estimation})]}),e.jsx("div",{className:"flex gap-2 justify-end",children:e.jsxs(D,{type:"submit",disabled:l,children:[l?e.jsx(V,{className:"animate-spin"}):e.jsx(y,{className:"h-4 w-4 mr-2"})," Send Estimate"]})})]})]})})}function he({reply:s}){return e.jsxs(i,{className:"shadow-card border-2 border-success/30",children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2 text-success",children:[e.jsx(E,{className:"h-5 w-5"}),"One Dental World Response"]})}),e.jsx(c,{children:e.jsx("p",{className:"text-sm",children:s==null?void 0:s.reply_message})}),e.jsx(U,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("a",{href:s.file_url,target:"_blank",children:e.jsxs("span",{className:"text-sm",children:[s.file_name," "]})})]})})]})}const je=[{label:"In Review",value:"in_review"},{label:"Completed",value:"completed"}];function ge({estimate:s}){const{data:a,setData:r,post:l,processing:d}=_({status:""}),x=t=>{t.preventDefault(),l(route("estimates.status",{estimate:s}))};return e.jsx(i,{className:"shadow-card",children:e.jsxs("form",{onSubmit:x,children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Update Status"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(z,{value:a.status,onValueChange:t=>r("status",t),defaultValue:s.status,children:[e.jsx(W,{children:e.jsx(X,{placeholder:"Assign Status"})}),e.jsx(K,{children:je.map(t=>e.jsx(Z,{value:t.value,children:t.label},t.value))})]}),e.jsx(G,{processing:d,actionText:" Update Status"})]})})]})})}function fe({open:s,onOpenChange:a,img:r}){return e.jsx(Q,{open:s,onOpenChange:a,children:e.jsxs(Y,{className:" max-w-md",children:[e.jsx(ee,{children:e.jsx(se,{children:"Image Preview"})}),e.jsx("img",{src:r,alt:"",className:""}),e.jsx(te,{children:e.jsxs(D,{variant:"ghost",onClick:a,children:[e.jsx(ae,{})," Close"]})})]})})}function Ne({insurance:s}){const[a,r]=v.useState(!1),[l,d]=v.useState();return e.jsxs(i,{children:[e.jsx(o,{children:e.jsxs(n,{className:"flex items-center gap-2 text-lg",children:[e.jsx(h,{className:"h-5 w-5 text-primary"}),"Insurance Details"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsx("h6",{children:s==null?void 0:s.insurance_provider}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:e.jsx(k,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Insurance for ",s==null?void 0:s.relation]}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(I,{className:"h-3"}),s==null?void 0:s.dob]})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Address"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",s==null?void 0:s.address_line_1,e.jsx("br",{}),s==null?void 0:s.address_line_2,e.jsx("br",{})," ",s==null?void 0:s.address_line_3," ",e.jsx("br",{}),s.city," - ",s.zip_code,", ",s.state,e.jsx("br",{})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(re,{className:"h-3 w-3"}),"Member ID"]}),e.jsx("p",{className:"text-xs font-medium truncate",children:s==null?void 0:s.member_id})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(le,{className:"h-3 w-3"}),"Plan #"]}),e.jsx("p",{className:"text-xs font-medium truncate",children:s==null?void 0:s.plan_no})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(C,{className:"h-3 w-3"}),"Carrier"]}),e.jsx("p",{className:"text-xs font-medium",children:s==null?void 0:s.carrier})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(C,{className:"h-3 w-3"}),"Mode"]}),e.jsx("p",{className:"text-xs font-medium",children:s==null?void 0:s.mode})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-1 border-t border-border py-3",children:s.attachments.length>0&&s.attachments.map((x,t)=>e.jsx("img",{src:x.temporary_url,alt:"",className:"h-40   object-contain cursor-pointer",onClick:()=>{d(x.temporary_url),r(!0)}}))}),e.jsx(fe,{open:a,img:l,onOpenChange:()=>{d(""),r(!1)}})]})]})}const ue=(s=[],a)=>s.reduce((r,l)=>{const d=Number(l==null?void 0:l[a]);return r+(isNaN(d)?0:d)},0),j={pending:{label:"Pending Review",icon:S,class:"bg-warning/10 text-warning"},in_review:{label:"Under Review",icon:S,class:"bg-warning/10 text-warning"},insurance_check:{label:"Insurance Check",icon:h,class:"bg-info/10 text-info"},answered:{label:"Answered",icon:E,class:"bg-success/10 text-success"},rejected:{label:"Rejected",icon:ce,class:"bg-destructive/10 text-destructive"}};function hs(){var t,p,m,g,f,N,u;const{estimate:s,patient:a,category:r,services:l,replied:d,urlPrevious:x}=P().props;return(t=j[s==null?void 0:s.status])==null||t.icon,e.jsxs(F,{pageTitle:"Dental Estimate Details",subTitle:`Estimate : EST-${s.id}`,children:[e.jsxs($,{variant:"ghost",className:"mb-4",href:x,children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Back to Estimates"]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(i,{className:"shadow-card",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-primary/10",children:e.jsx(L,{className:"h-7 w-7 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:(p=s==null?void 0:s.patient)==null?void 0:p.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["EST-",s.id]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(m=s==null?void 0:s.dentalservice)==null?void 0:m.name})]})]}),e.jsx(A,{className:M("flex items-center gap-1",(g=j[s==null?void 0:s.status])==null?void 0:g.class),children:(f=j[s==null?void 0:s.status])==null?void 0:f.label})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:(N=s==null?void 0:s.patient)==null?void 0:N.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:e.jsx(R,{dateTimeString:s.created_at})})]}),s.insurance&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.insurance.length})]})]})]})}),e.jsxs(i,{className:"shadow-card",children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Procedures Requested"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:(u=s==null?void 0:s.dentalcares)==null?void 0:u.map((T,b)=>e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium text-primary",children:b+1}),e.jsx("span",{className:"font-medium",children:T.name})]})},b))})})]}),(s==null?void 0:s.description)&&e.jsxs(i,{className:"shadow-card",children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Patient Notes"]})}),e.jsx(c,{children:e.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:e.jsx("p",{className:"text-sm",children:s.description})})})]}),(s==null?void 0:s.insurance)&&e.jsx(Ne,{insurance:s.insurance}),d?e.jsx(he,{reply:s==null?void 0:s.replies}):e.jsx(pe,{estimate:s})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i,{className:"shadow-card",children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Estimated Cost"]})}),e.jsx(c,{children:e.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/5",children:[e.jsxs("p",{className:"text-4xl font-bold text-primary",children:["$ ",ue(s==null?void 0:s.dentalcares,"national_cost")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Base Estimate on Average National Cost"})]})})]}),e.jsx(ge,{estimate:s}),(s==null?void 0:s.insurance)&&e.jsxs(i,{className:"shadow-card",children:[e.jsx(o,{children:e.jsxs(n,{className:"text-lg flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Insurance Details"]})}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"font-medium",children:s.insuranceProvider}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Insurance Provider"})]})})]})]})]})]})}export{hs as default};
