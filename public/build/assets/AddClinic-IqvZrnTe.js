import{r as o,W as F,j as e,b as h}from"./app-BDrvQ-Fh.js";import{T as c}from"./TextInput-GN7bQiB3.js";import{S as D}from"./SubmitButton-B9vQ8E3g.js";import"./app-D_D9UtE4.js";import"./button-C9DuKgUG.js";import"./loader-C1uvpXws.js";import"./createLucideIcon-HlBZp8tO.js";function k(){const[x,b]=o.useState([]),[p,r]=o.useState(""),[u,n]=o.useState([]),[j,d]=o.useState(!1),[f,i]=o.useState(!1),m=o.useRef(null),{data:l,setData:s,post:v,processing:N,errors:A,reset:g}=F({clinic_name:"",address_line_1:"",address_line_2:"",phone:"",logo:"",email:"",city_id:"",zip_code:""}),C=()=>{const a=bootstrap.Modal.getInstance(m.current);r(""),g(),a.toggle()},_=a=>{a.preventDefault(),v(route("clinics.store"),{onFinish:C})},y=async()=>{d(!0);try{const a=await h.get("/states");b(a.data)}catch(a){console.error("Error Fetching Data",a)}finally{d(!1)}},S=async a=>{i(!0);try{const t=await h.get(`/cities/${a}`);n(t.data),i(!1)}catch(t){console.error("Error fetching related data:",t),i(!1)}},w=async a=>{const t=a.target.value;if(r(t),!t){n([]);return}S(t)},L=a=>{s("city_id",a.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addClinicModal",onClick:y,disabled:j,children:[e.jsx("i",{className:"bi-hospital me-1"})," Add Clinic"]}),e.jsx("div",{id:"addClinicModal",className:"modal fade modal-lg",ref:m,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:"Add Clinic"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{action:"",onSubmit:_,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{className:"col-sm-3 col-form-label form-label",children:"Clinic Logo"}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("label",{className:"avatar avatar-xl avatar-circle avatar-uploader me-5",for:"avatarUploader",children:[e.jsx("img",{id:"avatarImg",className:"avatar-img",src:"https://placehold.co/160x160",alt:"Image Description"}),e.jsx("input",{type:"file",className:"js-file-attach avatar-uploader-input",id:"avatarUploader"}),e.jsx("span",{className:"avatar-uploader-trigger",children:e.jsx("i",{className:"bi-pencil avatar-uploader-icon shadow-sm"})})]}),e.jsx("button",{type:"button",className:"js-file-attach-reset-img btn btn-white",children:"Delete"})]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsxs("label",{for:"firstNameLabel",className:"col-sm-3 col-form-label form-label",children:["Clinic Name",e.jsx("i",{className:"bi-question-circle text-body ms-1","data-bs-toggle":"tooltip","data-bs-placement":"top","aria-label":"Displayed on public forums, such as Front.","data-bs-original-title":"Displayed on public forums, such as Front."})]}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{id:"clinic_name",type:"text",name:"clinic_name",value:l.clinic_name,className:"form-control ",placeholder:"Clinic Name",onChange:a=>s("clinic_name",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"emailLabel",className:"col-sm-3 col-form-label form-label",children:"Contact Email"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{id:"email",type:"email",name:"email",value:l.email,className:"form-control ",placeholder:"email@address.com",onChange:a=>s("email",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"phoneLabel",className:"col-sm-3 col-form-label form-label",children:"Phone "}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{name:"phone",value:l.phone,className:"form-control",placeholder:"+x(xxx)xxx-xx-xx",onChange:a=>s("phone",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Clinic Address"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(c,{name:"address_line_1",value:l.address_line_1,className:"form-control mb-2",placeholder:"Address Line 1",onChange:a=>s("address_line_1",a.target.value)}),e.jsx(c,{name:"address_line_2",value:l.address_line_2,className:"form-control",placeholder:"Address Line 2",onChange:a=>s("address_line_2",a.target.value)})]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"State"}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("select",{name:"",id:"",className:"form-select",onChange:w,value:p,children:[e.jsx("option",{value:"",children:"Select State"}),x.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"City"}),e.jsx("div",{className:"col-sm-9",children:f?"Loading":e.jsxs("select",{name:"",id:"",className:"form-select",onChange:L,value:l.city_id,children:[e.jsx("option",{value:"",children:"Select City"}),u.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Zip Code"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{name:"zip_code",value:l.zip_code,className:"form-control",placeholder:"",onChange:a=>s("zip_code",a.target.value)})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx(D,{processing:N,actionText:"Save Clinic"})]})]})})]})})})]})}export{k as default};
