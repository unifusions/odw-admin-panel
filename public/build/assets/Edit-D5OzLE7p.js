import{q as u,W as j,r as f,j as e}from"./app-UUdjsTkB.js";import{C as g}from"./Components-COxqEVZn.js";import{I as n}from"./InputLabel-8c_dgks7.js";import{S as b}from"./ServiceImageHeaderUploader-rfTchv1p.js";import"./TextArea-Bbfg5Ugi.js";import"./TextInputWithLabel-6CDliSmN.js";import{A as v}from"./AuthenticatedLayout-Du4dUmI-.js";import"./flatpickr-zawI5h0O.js";import{B as d}from"./button-DS4Vdg1W.js";import"./dialog-vm6d9-xf.js";import{C as N,d as D,e as C}from"./card-D8l0d7TN.js";import{a as p,b as _}from"./field-jP8kPTIm.js";import{I as F}from"./input-Dj0Ej_w5.js";import{D as I}from"./date-range-picker-D8FGUX6_.js";import{T as S}from"./textarea-BsSUQ4cr.js";import{X as y}from"./x-Dg8smiZD.js";import"./app-Bqpq0L9t.js";import"./index-_RV-OBit.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./label-aUTBcwx5.js";import"./index-qcSq6EF2.js";import"./index-CFokBAF2.js";import"./createLucideIcon-CdNpCLiX.js";import"./stethoscope-JWrV9WqX.js";import"./index-ZEQ_9hoZ.js";import"./Combination-lQbef46t.js";import"./index-DwZlzE8_.js";import"./calendar-oOCJldWr.js";import"./format-CW6KcVUP.js";import"./addDays--5Ovw2Cz.js";import"./index-BZMPCYQb.js";import"./floating-ui.react-dom-Bs-8wO6f.js";import"./floating-ui.dom-g0iQpA8R.js";import"./index-FbF0ACF0.js";import"./popover-BJdvFQxE.js";function he(){const{deal:t}=u().props,{data:a,setData:s,processing:i,put:c,errors:T,reset:w}=j({title:t.title||"",description:t.description||"",start_date:t.start_date||"",end_date:t.end_date||"",image:t.image||""}),[o,m]=f.useState({from:a.start_date,to:a.end_date}),l=r=>r.toISOString().split("T")[0],h=r=>{m(r),s({...a,start_date:r.from?l(r.from):"",end_date:r.to?l(r.to):""})},x=r=>{r.preventDefault(),c(route("deals.update",t),{forceFormData:!0})};return e.jsx(v,{header:"Deals",pageTitle:"Edit Deal",children:e.jsx("form",{onSubmit:x,children:e.jsxs(N,{children:[e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(g,{lg:6,className:"mb-3",children:e.jsx(b,{onFileSelect:r=>s("image",r),existingImage:t.image_url})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{children:[e.jsx(_,{htmlFor:"",children:"Title"}),e.jsx(F,{placeholder:"",onChange:r=>s("title",r.target.value),value:a.title})]}),e.jsxs(p,{children:[e.jsx(n,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(S,{id:"description",type:"text",name:"description",value:a.description,className:"form-control ",placeholder:"Description",onChange:r=>s("description",r.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(n,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Duration"}),e.jsxs("div",{className:" ",children:[e.jsx(I,{dateRange:o,onDateRangeChange:h,placeholder:o,className:"w-11/12"}),o&&e.jsx(d,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>m(void 0),children:e.jsx(y,{className:"h-4 w-4"})})]})]})]})]})}),e.jsx(C,{className:"border-t border-border",children:e.jsxs(d,{type:"submit",className:"btn btn-primary",disabled:i,children:[i?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Update Deal"," "]})})]})})})}export{he as default};
