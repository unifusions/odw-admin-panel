import{W as x,r as h,j as a}from"./app-HlCFYIOj.js";import{A as y}from"./AuthenticatedLayout-CePji0V7.js";import{S as j}from"./ServiceImageHeaderUploader-BEEWcNYx.js";import{C as f,a as k,b as v,c as C,d as S}from"./card-Ddk1fStP.js";import{L as g}from"./label-QdPCiEoZ.js";import{I as m}from"./input-9BPr6afE.js";import{B as N}from"./button-ChsKYCWg.js";import{B as b}from"./building-2-COfkuUPJ.js";import"./app-BhpSmq0W.js";import"./index-SvgtLhvb.js";import"./createLucideIcon-D4QO92PA.js";import"./message-square-BgcUhoJt.js";import"./stethoscope-BYgZ-fsY.js";import"./index-BRYWFTrf.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./index-DJfpl6GL.js";function q({settings:l,group:o}){const{data:w,setData:n,post:c,progress:i}=x({_method:"put",settings:{}}),[t,p]=h.useState(l.reduce((e,r)=>(e[r.key]=r.type==="json"?JSON.stringify(r.value,null,2):r.value,e),{})),s=(e,r)=>{p(u=>({...u,[e]:r})),n("settings",{...t,[e]:r})},d=e=>{e.preventDefault(),c(route("admin.settings.update",o),{forceFormData:!0})};return a.jsx(a.Fragment,{children:a.jsx(y,{header:`Settings (${o})`,pageTitle:`Settings (${o})`,children:a.jsxs(f,{className:"shadow-card",children:[a.jsxs(k,{children:[a.jsxs(v,{className:"flex items-center gap-2",children:[a.jsx(b,{className:"h-5 w-5 text-primary"}),"Settings"]}),a.jsx(C,{children:"Handle with care"})]}),a.jsx(S,{className:"space-y-4",children:a.jsxs("form",{onSubmit:d,className:"space-y-4",encType:"multipart/form-data",children:[l.map(e=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(g,{children:[" ",e.key.replace(/_/g," ")]}),e.type==="boolean"&&a.jsx(m,{type:"checkbox",checked:!!t[e.key],onChange:r=>s(e.key,r.target.checked?1:0)}),e.type==="string"&&a.jsx(m,{type:"text",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="number"&&a.jsx(m,{type:"number",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="json"&&a.jsx("textarea",{value:t[e.key]||"",onChange:r=>s(e.key,r.target.value),className:"border rounded p-2 w-full",rows:4}),e.type==="file"&&a.jsx("div",{className:"space-y-2",children:a.jsx(j,{onFileSelect:r=>s(e.key,r),existingImage:e.file_url})})]},e.id)),i&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Uploading: ",i.percentage,"%"]}),a.jsx(N,{className:"mt-4",type:"submit",children:"Save Settings"})]})})]})})})}export{q as default};
