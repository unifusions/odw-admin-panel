import{W as x,r as h,j as a}from"./app-CGYUPzMC.js";import{A as y}from"./AuthenticatedLayout-C1HEbjx0.js";import{S as j}from"./ServiceImageHeaderUploader-V_TNe5qp.js";import{C as f,a as k,b as v,c as C,d as S}from"./card-D_D6tFEk.js";import{L as g}from"./label-BvZ_FGzT.js";import{I as m}from"./input-QMuAubht.js";import{B as N}from"./button-86sgBqYo.js";import{B as b}from"./building-2-D_T4FWMT.js";import"./app-Bqpq0L9t.js";import"./index-Cz90mCmq.js";import"./index-DBJhD4T0.js";import"./index-Dawfl0EC.js";import"./floating-ui.dom-CHyJ_zCg.js";import"./tslib.es6-BUas5LQb.js";import"./createLucideIcon-mlU5Yd2c.js";import"./stethoscope-C7PEdZtr.js";import"./index-B5HlANO-.js";import"./index-Chjiymov.js";function z({settings:l,group:o}){const{data:w,setData:n,post:p,progress:i}=x({_method:"put",settings:{}}),[t,c]=h.useState(l.reduce((e,r)=>(e[r.key]=r.type==="json"?JSON.stringify(r.value,null,2):r.value,e),{})),s=(e,r)=>{c(u=>({...u,[e]:r})),n("settings",{...t,[e]:r})},d=e=>{e.preventDefault(),p(route("admin.settings.update",o),{forceFormData:!0})};return a.jsx(a.Fragment,{children:a.jsx(y,{header:`Settings (${o})`,pageTitle:`Settings (${o})`,children:a.jsxs(f,{className:"shadow-card",children:[a.jsxs(k,{children:[a.jsxs(v,{className:"flex items-center gap-2",children:[a.jsx(b,{className:"h-5 w-5 text-primary"}),"Settings"]}),a.jsx(C,{children:"Handle with care"})]}),a.jsx(S,{className:"space-y-4",children:a.jsxs("form",{onSubmit:d,className:"space-y-4",encType:"multipart/form-data",children:[l.map(e=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(g,{children:[" ",e.key.replace(/_/g," ")]}),e.type==="boolean"&&a.jsx(m,{type:"checkbox",checked:!!t[e.key],onChange:r=>s(e.key,r.target.checked?1:0)}),e.type==="string"&&a.jsx(m,{type:"text",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="number"&&a.jsx(m,{type:"number",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="json"&&a.jsx("textarea",{value:t[e.key]||"",onChange:r=>s(e.key,r.target.value),className:"border rounded p-2 w-full",rows:4}),e.type==="file"&&a.jsx("div",{className:"space-y-2",children:a.jsx(j,{onFileSelect:r=>s(e.key,r),existingImage:e.file_url})})]},e.id)),i&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Uploading: ",i.percentage,"%"]}),a.jsx(N,{className:"mt-4",type:"submit",children:"Save Settings"})]})})]})})})}export{z as default};
