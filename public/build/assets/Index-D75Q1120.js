import{j as e,r as o,q as ts,W as ls,y as ve}from"./app-DlSJyjXm.js";import{C as ie,d as de,a as ns,b as as}from"./card-CcK6MFIN.js";import{S as cs,a as os,b as is,c as ds,d as Z,e as ms}from"./select-CRD4gvpv.js";import{T as We,a as Fe,b as se}from"./tabs-7_PaehZm.js";import{u as Q,c as _,B as w}from"./button-MRkm1NrB.js";import{c as K}from"./createLucideIcon-CPoiTVFb.js";import{u as hs,P as me,p as $,b as xs,d as us,B as U,C as q,M as fs,q as gs,r as js,s as bs,t as Ee,A as vs}from"./AuthenticatedLayout-b1-C_Wn2.js";import{D as he,a as xe,b as ue,c as fe,d as ge,e as ne}from"./dialog-CJ-JbUT4.js";import{c as ps,P as te,a as G,e as Ns}from"./index-YbY15Erd.js";import{C as re}from"./clock-B5JXuvDJ.js";import{B as ws}from"./building-oFJyFTko.js";import{U as Ne}from"./user-CsWjwqGO.js";import{P as we}from"./phone-eZiGhRK6.js";import{M as Se}from"./mail-CwD4BH8C.js";import{a as He,b as Ve,e as Te,s as Ss,c as ys,i as Cs,d as ee,C as Ps}from"./calendar-wLaKepj8.js";import{a as le}from"./addDays--5Ovw2Cz.js";import{f as z,s as pe}from"./format-CW6KcVUP.js";import{C as Ie}from"./circle-x-WSGiJoZv.js";import{L as ae}from"./label-CoAyOUic.js";import{T as Ms}from"./textarea-DrGQ6SzL.js";import{C as De}from"./checkbox-Bp3e9IdA.js";import{C as ye}from"./circle-check-big-QlwkW1Fp.js";import{A as As}from"./avatar-BPwcReBP.js";import"./app-Bqpq0L9t.js";import"./index-HuXAq76-.js";import"./index-Bm3mwUCm.js";import"./chevron-down-sFG26WcG.js";import"./check-CCZM_zdk.js";import"./index-DzcFsrAw.js";import"./floating-ui.dom-CHyJ_zCg.js";import"./tslib.es6-BUas5LQb.js";import"./input-BabDYJuI.js";import"./stethoscope-DjoQowta.js";import"./x-CLHIR_hY.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],_s=K("calendar-clock",ks);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ts=K("circle-alert",Es);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Rs=K("ellipsis",Ds);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Os=K("funnel",Ls);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ws=K("layout-grid",zs);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Hs=K("list",Fs);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Is=K("map",Vs);function Bs({viewMode:r,setViewMode:n,statusFilter:s,setStatusFilter:i}){return e.jsx(ie,{className:"shadow-card mb-6 py-0",children:e.jsx(de,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs(cs,{value:s,onValueChange:i,children:[e.jsxs(os,{className:"w-[160px]",children:[e.jsx(Os,{className:"mr-2 h-4 w-4"}),e.jsx(is,{placeholder:"Status"})]}),e.jsxs(ds,{children:[e.jsx(Z,{value:"all",children:"All Status"}),e.jsx(Z,{value:"confirmed",children:"Confirmed"}),e.jsx(Z,{value:"pending",children:"Pending"}),e.jsx(Z,{value:"completed",children:"Completed"}),e.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(We,{value:r,onValueChange:n,children:e.jsxs(Fe,{className:"h-9",children:[e.jsxs(se,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(Hs,{className:"h-4 w-4"}),"List"]}),e.jsxs(se,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(Ws,{className:"h-4 w-4"}),"Calendar"]})]})})})]})})})}function Xs({title:r,value:n,badge:s}){return e.jsx(e.Fragment,{children:e.jsx(ie,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(de,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})})})})}function Ys(r,n,s){return He(r,-n,s)}function $s(r,n,s){return Ve(r,-n,s)}function Us(r,n){return o.useReducer((s,i)=>n[s][i]??s,r)}var Ce="ScrollArea",[Be,Jr]=ps(Ce),[qs,W]=Be(Ce),Xe=o.forwardRef((r,n)=>{const{__scopeScrollArea:s,type:i="hover",dir:t,scrollHideDelay:l=600,...c}=r,[d,a]=o.useState(null),[h,m]=o.useState(null),[f,x]=o.useState(null),[g,b]=o.useState(null),[R,L]=o.useState(null),[P,M]=o.useState(0),[E,T]=o.useState(0),[D,j]=o.useState(!1),[B,V]=o.useState(!1),p=Q(n,F=>a(F)),A=hs(t);return e.jsx(qs,{scope:s,type:i,dir:A,scrollHideDelay:l,scrollArea:d,viewport:h,onViewportChange:m,content:f,onContentChange:x,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:D,onScrollbarXEnabledChange:j,scrollbarY:R,onScrollbarYChange:L,scrollbarYEnabled:B,onScrollbarYEnabledChange:V,onCornerWidthChange:M,onCornerHeightChange:T,children:e.jsx(te.div,{dir:A,...c,ref:p,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":E+"px",...r.style}})})});Xe.displayName=Ce;var Ye="ScrollAreaViewport",$e=o.forwardRef((r,n)=>{const{__scopeScrollArea:s,children:i,nonce:t,...l}=r,c=W(Ye,s),d=o.useRef(null),a=Q(n,d,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),e.jsx(te.div,{"data-radix-scroll-area-viewport":"",...l,ref:a,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});$e.displayName=Ye;var H="ScrollAreaScrollbar",Ue=o.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=W(H,r.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=t,d=r.orientation==="horizontal";return o.useEffect(()=>(d?l(!0):c(!0),()=>{d?l(!1):c(!1)}),[d,l,c]),t.type==="hover"?e.jsx(Gs,{...i,ref:n,forceMount:s}):t.type==="scroll"?e.jsx(Ks,{...i,ref:n,forceMount:s}):t.type==="auto"?e.jsx(qe,{...i,ref:n,forceMount:s}):t.type==="always"?e.jsx(Pe,{...i,ref:n}):null});Ue.displayName=H;var Gs=o.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=W(H,r.__scopeScrollArea),[l,c]=o.useState(!1);return o.useEffect(()=>{const d=t.scrollArea;let a=0;if(d){const h=()=>{window.clearTimeout(a),c(!0)},m=()=>{a=window.setTimeout(()=>c(!1),t.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(a),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",m)}}},[t.scrollArea,t.scrollHideDelay]),e.jsx(me,{present:s||l,children:e.jsx(qe,{"data-state":l?"visible":"hidden",...i,ref:n})})}),Ks=o.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=W(H,r.__scopeScrollArea),l=r.orientation==="horizontal",c=be(()=>a("SCROLL_END"),100),[d,a]=Us("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>a("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,t.scrollHideDelay,a]),o.useEffect(()=>{const h=t.viewport,m=l?"scrollLeft":"scrollTop";if(h){let f=h[m];const x=()=>{const g=h[m];f!==g&&(a("SCROLL"),c()),f=g};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[t.viewport,l,a,c]),e.jsx(me,{present:s||d!=="hidden",children:e.jsx(Pe,{"data-state":d==="hidden"?"hidden":"visible",...i,ref:n,onPointerEnter:G(r.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:G(r.onPointerLeave,()=>a("POINTER_LEAVE"))})})}),qe=o.forwardRef((r,n)=>{const s=W(H,r.__scopeScrollArea),{forceMount:i,...t}=r,[l,c]=o.useState(!1),d=r.orientation==="horizontal",a=be(()=>{if(s.viewport){const h=s.viewport.offsetWidth<s.viewport.scrollWidth,m=s.viewport.offsetHeight<s.viewport.scrollHeight;c(d?h:m)}},10);return J(s.viewport,a),J(s.content,a),e.jsx(me,{present:i||l,children:e.jsx(Pe,{"data-state":l?"visible":"hidden",...t,ref:n})})}),Pe=o.forwardRef((r,n)=>{const{orientation:s="vertical",...i}=r,t=W(H,r.__scopeScrollArea),l=o.useRef(null),c=o.useRef(0),[d,a]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Ze(d.viewport,d.content),m={...i,sizes:d,onSizesChange:a,hasThumb:h>0&&h<1,onThumbChange:x=>l.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function f(x,g){return rr(x,c.current,d,g)}return s==="horizontal"?e.jsx(Js,{...m,ref:n,onThumbPositionChange:()=>{if(t.viewport&&l.current){const x=t.viewport.scrollLeft,g=Re(x,d,t.dir);l.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:x=>{t.viewport&&(t.viewport.scrollLeft=x)},onDragScroll:x=>{t.viewport&&(t.viewport.scrollLeft=f(x,t.dir))}}):s==="vertical"?e.jsx(Qs,{...m,ref:n,onThumbPositionChange:()=>{if(t.viewport&&l.current){const x=t.viewport.scrollTop,g=Re(x,d);l.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:x=>{t.viewport&&(t.viewport.scrollTop=x)},onDragScroll:x=>{t.viewport&&(t.viewport.scrollTop=f(x))}}):null}),Js=o.forwardRef((r,n)=>{const{sizes:s,onSizesChange:i,...t}=r,l=W(H,r.__scopeScrollArea),[c,d]=o.useState(),a=o.useRef(null),h=Q(n,a,l.onScrollbarXChange);return o.useEffect(()=>{a.current&&d(getComputedStyle(a.current))},[a]),e.jsx(Ke,{"data-orientation":"horizontal",...t,ref:h,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":je(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,f)=>{if(l.viewport){const x=l.viewport.scrollLeft+m.deltaX;r.onWheelScroll(x),ss(x,f)&&m.preventDefault()}},onResize:()=>{a.current&&l.viewport&&c&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:oe(c.paddingLeft),paddingEnd:oe(c.paddingRight)}})}})}),Qs=o.forwardRef((r,n)=>{const{sizes:s,onSizesChange:i,...t}=r,l=W(H,r.__scopeScrollArea),[c,d]=o.useState(),a=o.useRef(null),h=Q(n,a,l.onScrollbarYChange);return o.useEffect(()=>{a.current&&d(getComputedStyle(a.current))},[a]),e.jsx(Ke,{"data-orientation":"vertical",...t,ref:h,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":je(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,f)=>{if(l.viewport){const x=l.viewport.scrollTop+m.deltaY;r.onWheelScroll(x),ss(x,f)&&m.preventDefault()}},onResize:()=>{a.current&&l.viewport&&c&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:oe(c.paddingTop),paddingEnd:oe(c.paddingBottom)}})}})}),[Zs,Ge]=Be(H),Ke=o.forwardRef((r,n)=>{const{__scopeScrollArea:s,sizes:i,hasThumb:t,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:a,onDragScroll:h,onWheelScroll:m,onResize:f,...x}=r,g=W(H,s),[b,R]=o.useState(null),L=Q(n,p=>R(p)),P=o.useRef(null),M=o.useRef(""),E=g.viewport,T=i.content-i.viewport,D=$(m),j=$(a),B=be(f,10);function V(p){if(P.current){const A=p.clientX-P.current.left,F=p.clientY-P.current.top;h({x:A,y:F})}}return o.useEffect(()=>{const p=A=>{const F=A.target;(b==null?void 0:b.contains(F))&&D(A,T)};return document.addEventListener("wheel",p,{passive:!1}),()=>document.removeEventListener("wheel",p,{passive:!1})},[E,b,T,D]),o.useEffect(j,[i,j]),J(b,B),J(g.content,B),e.jsx(Zs,{scope:s,scrollbar:b,hasThumb:t,onThumbChange:$(l),onThumbPointerUp:$(c),onThumbPositionChange:j,onThumbPointerDown:$(d),children:e.jsx(te.div,{...x,ref:L,style:{position:"absolute",...x.style},onPointerDown:G(r.onPointerDown,p=>{p.button===0&&(p.target.setPointerCapture(p.pointerId),P.current=b.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),V(p))}),onPointerMove:G(r.onPointerMove,V),onPointerUp:G(r.onPointerUp,p=>{const A=p.target;A.hasPointerCapture(p.pointerId)&&A.releasePointerCapture(p.pointerId),document.body.style.webkitUserSelect=M.current,g.viewport&&(g.viewport.style.scrollBehavior=""),P.current=null})})})}),ce="ScrollAreaThumb",Je=o.forwardRef((r,n)=>{const{forceMount:s,...i}=r,t=Ge(ce,r.__scopeScrollArea);return e.jsx(me,{present:s||t.hasThumb,children:e.jsx(er,{ref:n,...i})})}),er=o.forwardRef((r,n)=>{const{__scopeScrollArea:s,style:i,...t}=r,l=W(ce,s),c=Ge(ce,s),{onThumbPositionChange:d}=c,a=Q(n,f=>c.onThumbChange(f)),h=o.useRef(void 0),m=be(()=>{h.current&&(h.current(),h.current=void 0)},100);return o.useEffect(()=>{const f=l.viewport;if(f){const x=()=>{if(m(),!h.current){const g=tr(f,d);h.current=g,d()}};return d(),f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[l.viewport,m,d]),e.jsx(te.div,{"data-state":c.hasThumb?"visible":"hidden",...t,ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:G(r.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),b=f.clientX-g.left,R=f.clientY-g.top;c.onThumbPointerDown({x:b,y:R})}),onPointerUp:G(r.onPointerUp,c.onThumbPointerUp)})});Je.displayName=ce;var Me="ScrollAreaCorner",Qe=o.forwardRef((r,n)=>{const s=W(Me,r.__scopeScrollArea),i=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&i?e.jsx(sr,{...r,ref:n}):null});Qe.displayName=Me;var sr=o.forwardRef((r,n)=>{const{__scopeScrollArea:s,...i}=r,t=W(Me,s),[l,c]=o.useState(0),[d,a]=o.useState(0),h=!!(l&&d);return J(t.scrollbarX,()=>{var f;const m=((f=t.scrollbarX)==null?void 0:f.offsetHeight)||0;t.onCornerHeightChange(m),a(m)}),J(t.scrollbarY,()=>{var f;const m=((f=t.scrollbarY)==null?void 0:f.offsetWidth)||0;t.onCornerWidthChange(m),c(m)}),h?e.jsx(te.div,{...i,ref:n,style:{width:l,height:d,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function oe(r){return r?parseInt(r,10):0}function Ze(r,n){const s=r/n;return isNaN(s)?0:s}function je(r){const n=Ze(r.viewport,r.content),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=(r.scrollbar.size-s)*n;return Math.max(i,18)}function rr(r,n,s,i="ltr"){const t=je(s),l=t/2,c=n||l,d=t-c,a=s.scrollbar.paddingStart+c,h=s.scrollbar.size-s.scrollbar.paddingEnd-d,m=s.content-s.viewport,f=i==="ltr"?[0,m]:[m*-1,0];return es([a,h],f)(r)}function Re(r,n,s="ltr"){const i=je(n),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-t,c=n.content-n.viewport,d=l-i,a=s==="ltr"?[0,c]:[c*-1,0],h=ms(r,a);return es([0,c],[0,d])(h)}function es(r,n){return s=>{if(r[0]===r[1]||n[0]===n[1])return n[0];const i=(n[1]-n[0])/(r[1]-r[0]);return n[0]+i*(s-r[0])}}function ss(r,n){return r>0&&r<n}var tr=(r,n=()=>{})=>{let s={left:r.scrollLeft,top:r.scrollTop},i=0;return function t(){const l={left:r.scrollLeft,top:r.scrollTop},c=s.left!==l.left,d=s.top!==l.top;(c||d)&&n(),s=l,i=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(i)};function be(r,n){const s=$(r),i=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(i.current),[]),o.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(s,n)},[s,n])}function J(r,n){const s=$(n);Ns(()=>{let i=0;if(r){const t=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(s)});return t.observe(r),()=>{window.cancelAnimationFrame(i),t.unobserve(r)}}},[r,s])}var lr=Xe,nr=$e,ar=Qe;function Le({className:r,children:n,...s}){return e.jsxs(lr,{"data-slot":"scroll-area",className:_("relative",r),...s,children:[e.jsx(nr,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(cr,{}),e.jsx(ar,{})]})}function cr({className:r,orientation:n="vertical",...s}){return e.jsx(Ue,{"data-slot":"scroll-area-scrollbar",orientation:n,className:_("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...s,children:e.jsx(Je,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Y={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},or=r=>new Date(r),Oe=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];function ir({appointments:r,onReschedule:n,onConfirm:s,onCancel:i}){var D,j,B,V,p,A,F;const[t,l]=o.useState(new Date),[c,d]=o.useState("month"),[a,h]=o.useState(null),[m,f]=o.useState(!1),x=N=>r==null?void 0:r.filter(v=>ee(or(v==null?void 0:v.appointment_date),N)).sort((v,u)=>v==null?void 0:v.time_slot.localeCompare(u==null?void 0:u.time_slot)),g=(N,v)=>{v.stopPropagation(),h(N),f(!0)},b=()=>{l(c==="month"?Ys(t,1):c==="week"?$s(t,1):le(t,-1))},R=()=>{l(c==="month"?He(t,1):c==="week"?Ve(t,1):le(t,1))},L=()=>{if(c==="month")return z(t,"MMMM yyyy");if(c==="week"){const N=pe(t),v=Te(t);return`${z(N,"MMM d")} - ${z(v,"MMM d, yyyy")}`}else return z(t,"EEEE, MMMM d, yyyy")},P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],M=()=>{const N=Ss(t),v=ys(N),u=pe(N),S=Te(v),y=[];let k=u;for(;k<=S;)y.push(k),k=le(k,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:P.map(C=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((C,O)=>{const I=x(C),Ae=Cs(C,t),ke=ee(C,new Date);return e.jsxs("div",{className:_("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!Ae&&"bg-muted/30 opacity-50",ke&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:_("text-sm font-medium mb-2",ke&&"text-primary",!Ae&&"text-muted-foreground"),children:z(C,"d")}),e.jsxs("div",{className:"space-y-1",children:[I.slice(0,3).map(X=>{var _e;return e.jsxs("button",{onClick:rs=>g(X,rs),className:_("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",Y[X.status].class),children:[e.jsx("span",{className:"font-medium",children:X.time_slot})," - ",(_e=X==null?void 0:X.patient)==null?void 0:_e.first_name.split(" ")[0]]},X.id)}),(I==null?void 0:I.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",I.length-3," more"]})]})]},O)})})]})},E=()=>{const N=pe(t),v=[];for(let u=0;u<7;u++)v.push(le(N,u));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",v.map(u=>{const S=ee(u,new Date);return e.jsxs("div",{className:_("text-center py-2 rounded-lg",S&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:z(u,"EEE")}),e.jsx("div",{className:_("text-lg font-semibold",S&&"text-primary"),children:z(u,"d")})]},u.toISOString())})]}),e.jsx(Le,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:Oe.map(u=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:u},u),v.map(S=>{const k=x(S).filter(O=>O.time===u),C=ee(S,new Date);return e.jsx("div",{className:_("min-h-[60px] p-1 border border-border rounded transition-colors",C&&"bg-primary/5"),children:k.map(O=>e.jsxs("button",{onClick:I=>g(O,I),className:_("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02]",Y[O.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:O.patientName}),e.jsx("div",{className:"truncate opacity-80",children:O.type})]},O.id))},`${S.toISOString()}-${u}`)})]}))})})]})},T=()=>{const N=x(t),v=ee(t,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:_("text-center py-4 rounded-lg mb-4",v&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:z(t,"EEEE")}),e.jsx("div",{className:_("text-3xl font-bold",v&&"text-primary"),children:z(t,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:z(t,"MMMM yyyy")})]}),e.jsx(Le,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:Oe.map(u=>{const S=N.filter(y=>y.time===u);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:u}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:S.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:S.map(y=>e.jsx("button",{onClick:k=>g(y,k),className:_("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01]",Y[y.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:y.patientName}),e.jsx("div",{className:"text-sm opacity-80",children:y.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:y.doctor}),e.jsx(U,{variant:"outline",className:"mt-1",children:Y[y.status].label})]})]})},y.id))})})]},u)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"shadow-card w-full",children:e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:L()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(Y).map(([N,v])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:_("px-2 py-0.5 rounded text-xs",v.class),children:v.label})},N))}),e.jsx(We,{value:c,onValueChange:N=>d(N),children:e.jsxs(Fe,{className:"h-9",children:[e.jsx(se,{value:"month",className:"px-3",children:"Month"}),e.jsx(se,{value:"week",className:"px-3",children:"Week"}),e.jsx(se,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{variant:"outline",size:"icon",onClick:b,children:e.jsx(xs,{className:"h-4 w-4"})}),e.jsx(w,{variant:"outline",onClick:()=>l(new Date),children:"Today"}),e.jsx(w,{variant:"outline",size:"icon",onClick:R,children:e.jsx(us,{className:"h-4 w-4"})})]})]})]}),c==="month"&&M(),c==="week"&&E(),c==="day"&&T()]})}),e.jsx(he,{open:m,onOpenChange:f,children:e.jsx(xe,{className:"sm:max-w-[500px]",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(D=a==null?void 0:a.patient)==null?void 0:D.first_name.split(" ").map(N=>N[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(j=a==null?void 0:a.patient)==null?void 0:j.first_name}),e.jsx(U,{className:_("mt-1",Y[a.status].class),children:Y[a.status].label})]})]}),e.jsx(ge,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(q,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:a.appointment_date})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(re,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:a.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(ws,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((B=a==null?void 0:a.clinic)==null?void 0:B.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Ne,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((V=a==null?void 0:a.appointable)==null?void 0:V.name)??"Next Available Provider"," "]}),(a==null?void 0:a.appointable)&&e.jsx(U,{variant:"outline",children:a==null?void 0:a.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(p=a==null?void 0:a.patient)==null?void 0:p.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[(F=(A=a==null?void 0:a.patient)==null?void 0:A.first_name)==null?void 0:F.toLowerCase().replace(" ","."),"@email.com"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[a.status==="pending"&&e.jsx(w,{className:"flex-1",onClick:()=>{s(a),f(!1)},children:"Confirm"}),(a.status==="pending"||a.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"outline",className:"flex-1",onClick:()=>{n(a),f(!1)},children:"Reschedule"}),e.jsx(w,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{i(a),f(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function dr({open:r,onOpenChange:n,appointment:s,onCancel:i}){var t,l;return e.jsx(he,{open:r,onOpenChange:n,children:e.jsxs(xe,{className:"max-w-md",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Cancel Appointment"}),e.jsx(ge,{children:"Are you sure you want to cancel this appointment?"})]}),s&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(t=s==null?void 0:s.patient)==null?void 0:t.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(l=s==null?void 0:s.appointable)==null?void 0:l.name})]})}),e.jsxs(ne,{children:[e.jsx(w,{variant:"outline",onClick:()=>n(!1),children:"Keep Appointment"}),e.jsxs(w,{variant:"destructive",onClick:i,children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function mr({appointment:r,sendEmail:n,sendSMS:s}){var i;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(ye,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(i=r==null?void 0:r.patient)==null?void 0:i.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(n||s)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),n&&e.jsxs(U,{variant:"secondary",className:"gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),"Email"]}),s&&e.jsxs(U,{variant:"secondary",className:"gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),"SMS"]})]})]})}function hr({open:r,onOpenChange:n,appointment:s,onConfirm:i,processing:t,isConfirmed:l}){var L,P,M,E,T,D;const[c,d]=o.useState(""),[a,h]=o.useState(!0),[m,f]=o.useState(!0),[x,g]=o.useState("details"),b=()=>{d(""),h(!0),f(!0),g("details"),n(!1)};o.useEffect(()=>{l&&g("success")},[l]);const R=()=>{if(s){const j=[];a&&j.push("email"),m&&j.push("sms"),i(s,c,j)}};return s?e.jsx(he,{open:r,onOpenChange:b,children:e.jsx(xe,{className:"max-w-md",children:x==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(ge,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(P=(L=s==null?void 0:s.patient)==null?void 0:L.first_name)==null?void 0:P.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(M=s==null?void 0:s.patient)==null?void 0:M.first_name}),((E=s==null?void 0:s.dentalservice)==null?void 0:E.name)&&e.jsx(U,{variant:"outline",className:"mt-1",children:(T=s==null?void 0:s.dentalservice)==null?void 0:T.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{children:(D=s==null?void 0:s.appointable)==null?void 0:D.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ae,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(Ms,{placeholder:"Add any notes or instructions for the patient...",value:c,onChange:j=>d(j.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(De,{id:"email",checked:a,onCheckedChange:j=>h(!!j)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(De,{id:"sms",checked:m,onCheckedChange:j=>f(!!j)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(ne,{children:[e.jsx(w,{variant:"outline",onClick:b,children:"Cancel"}),e.jsxs(w,{onClick:R,disabled:t,children:["Confirm Appointment ",t&&"Processing"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(mr,{appointment:s,sendEmail:a,sendSMS:m}),e.jsx(ne,{children:e.jsx(w,{onClick:b,className:"w-full",children:"Done"})})]})})}):null}const xr=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function ur({open:r,onOpenChange:n,appointment:s,onReschedule:i}){var P,M,E,T,D;const[t,l]=o.useState(),[c,d]=o.useState(""),[a,h]=o.useState(""),[m,f]=o.useState(""),[x,g]=o.useState("select"),b=()=>{l(void 0),d(""),h(""),f(""),g("select"),n(!1)},R=()=>{t&&c&&g("confirm")},L=()=>{s&&t&&c&&(i(s,t,c,m),b())};return s?e.jsx(he,{open:r,onOpenChange:b,children:e.jsxs(xe,{className:"max-w-2xl",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(ge,{children:["Select a new date and time for ",(P=s==null?void 0:s.patient)==null?void 0:P.first_name,"'s"," ",(M=s==null?void 0:s.type)==null?void 0:M.toLowerCase()," appointment"]})]}),x==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(T=(E=s==null?void 0:s.patient)==null?void 0:E.first_name)==null?void 0:T.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(D=s==null?void 0:s.patient)==null?void 0:D.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s==null?void 0:s.time_slot]})]}),e.jsx(U,{variant:"outline",children:s==null?void 0:s.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Select New Date"}),e.jsx(Ps,{mode:"single",selected:t,onSelect:l,disabled:j=>j<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:xr.map(j=>e.jsx(w,{type:"button",variant:c===j?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(j),children:j},j))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ts,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(re,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:t&&z(t,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(re,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:c})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(ne,{children:x==="select"?e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"outline",onClick:b,children:"Cancel"}),e.jsx(w,{onClick:R,disabled:!t||!c,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(w,{variant:"outline",onClick:()=>g("select"),children:"Back"}),e.jsx(w,{onClick:L,children:"Confirm Reschedule"})]})})]})}):null}const ze={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function fr({appointments:r,showActions:n=!0,onReschedule:s,onConfirm:i,onCancel:t}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),n&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(l=>{var c,d,a;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(As,{text:(c=l==null?void 0:l.patient)==null?void 0:c.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=l==null?void 0:l.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Is,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((a=l==null?void 0:l.clinic)==null?void 0:a.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:_("badge-status",ze[l==null?void 0:l.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),ze[l.status].label]})}),n&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.status==="pending"&&i&&e.jsxs(w,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>i(l),children:[e.jsx(ye,{className:"h-4 w-4"}),"Confirm"]}),(l.status==="pending"||l.status==="confirmed")&&s&&e.jsxs(w,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>s(l),children:[e.jsx(_s,{className:"h-4 w-4"}),"Reschedule"]}),(l.status==="pending"||l.status==="confirmed")&&t&&e.jsxs(w,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>t(l),children:[e.jsx(Ie,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(gs,{children:[e.jsx(js,{asChild:!0,children:e.jsx(w,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Rs,{className:"h-4 w-4"})})}),e.jsxs(bs,{align:"end",children:[e.jsx(Ee,{children:"View Details"}),e.jsx(Ee,{children:"Edit Notes"})]})]})]})})]},l.id)})})]})})}const gr={pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"};function Qr({appointments:r,statusFilter:n,monthlyStats:s}){const{auth:i}=ts().props,t=i.user.role,[l,c]=o.useState("calendar"),[d,a]=o.useState(!1),[h,m]=o.useState(null),[f,x]=o.useState(!1),[g,b]=o.useState(!1),[R,L]=o.useState(!1),[P,M]=o.useState(!1),E=u=>{m(u),a(!0)},T=u=>{M(!1),m(u),x(!0)},{data:D,put:j,processing:B}=ls({}),V=u=>{const S=u.replace(/\s+/g," ").replace(/\u202F/g," "),[y,k]=S.split(" ");let[C,O]=y.split(":");return C==="12"&&(C="00"),k==="PM"&&(C=parseInt(C,10)+12),`${C}:${O}`},p=(u,S,y,k)=>{let C="appointments.reschedule";t==="clinic_admin"&&(C="clinic.appointments.reschedule"),t==="clinic_user"&&(C="clinic.user.appointments.reschedule");const O=V(y),I=z(S,"yyyy-MM-dd");ve.put(route(C,{appointment:u.id}),{new_slot:O,new_dt:I})},A=(u,S,y)=>{let k="appointments.confirm";t==="clinic_admin"&&(k="clinic.appointments.confirm"),t==="clinic_user"&&(k="clinic.user.appointments.confirm"),L(!0),j(route(k,{appointment:h}),{content:S,notifications:y,onFinish:()=>{L(!1),M(!0)}})},F=u=>{m(u),b(!0)},N=()=>{let u="appointments.cancel";h&&(t==="clinic_admin"&&(u="clinic.appointments.cancel"),t==="clinic_user"&&(u="clinic.user.appointments.cancel"),ve.put(route(u,{appointment:h}),{onFinish:()=>{b(!1)},onSuccess:()=>{M(!0)}}))},v=u=>{ve.get(route("appointments.index",{status:u},{preserveState:!0,replace:!0}))};return e.jsxs(vs,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:Object.entries(s).map(([u,S])=>e.jsx(Xs,{title:gr[u]??u,value:S},u))}),e.jsx(Bs,{viewMode:l,setViewMode:u=>c(u),statusFilter:n,setStatusFilter:u=>v(u)}),l==="list"?e.jsxs(ie,{className:"shadow-card",children:[e.jsx(ns,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(as,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(de,{className:"p-0 pt-4",children:e.jsx(fr,{appointments:r,onReschedule:E})})]}):e.jsx(ir,{appointments:r,onReschedule:E,onConfirm:T,onCancel:F}),e.jsx(ur,{open:d,onOpenChange:a,appointment:h,onReschedule:p}),e.jsx(hr,{open:f,onOpenChange:x,appointment:h,onConfirm:A,processing:R,isConfirmed:P}),e.jsx(dr,{open:g,onOpenChange:b,appointment:h,onCancel:N})]})}export{Qr as default};
