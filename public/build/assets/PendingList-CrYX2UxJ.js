var ce=Object.defineProperty;var le=(n,s,e)=>s in n?ce(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var i=(n,s,e)=>le(n,typeof s!="symbol"?s+"":s,e);import{r as R,W as ue,q as de,j as o,Y as fe}from"./app-BK9PCMc-.js";import{A as we}from"./AuthenticatedLayout-DGUI2q7O.js";import A from"./Modal-DyzkaKcn.js";import{g as ee,t as N,c as k,m as he,a as me,b as be,d as xe,s as F,e as re,h as ye,i as pe,j as te,k as Te,l as U,n as ge,w as J,o as De,f as S}from"./format-CW6KcVUP.js";import{a as se}from"./addDays--5Ovw2Cz.js";import"./app-BhpSmq0W.js";import"./index-D3ZR-14Z.js";import"./button-BtMfAeD_.js";import"./input-8dewTzz_.js";import"./createLucideIcon-zgHq1fnL.js";import"./message-square-BbzCfuvQ.js";import"./stethoscope-BbCb1X1C.js";function Me(){return Object.assign({},ee())}function ke(n,s){const e=N(n,s==null?void 0:s.in).getDay();return e===0?7:e}function _e(n,s){const e=Pe(s)?new s(0):k(s,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function Pe(n){var s;return typeof n=="function"&&((s=n.prototype)==null?void 0:s.constructor)===n}const Ne=10;class ne{constructor(){i(this,"subPriority",0)}validate(s,e){return!0}}class je extends ne{constructor(s,e,t,r,a){super(),this.value=s,this.validateValue=e,this.setValue=t,this.priority=r,a&&(this.subPriority=a)}validate(s,e){return this.validateValue(s,this.value,e)}set(s,e,t){return this.setValue(s,e,this.value,t)}}class ve extends ne{constructor(e,t){super();i(this,"priority",Ne);i(this,"subPriority",-1);this.context=e||(r=>k(t,r))}set(e,t){return t.timestampIsSet?e:k(e,_e(e,this.context))}}class u{run(s,e,t,r){const a=this.parse(s,e,t,r);return a?{setter:new je(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(s,e,t){return!0}}class Ye extends u{constructor(){super(...arguments);i(this,"priority",140);i(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}const m={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},D={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function b(n,s){return n&&{value:s(n.value),rest:n.rest}}function w(n,s){const e=s.match(n);return e?{value:parseInt(e[0],10),rest:s.slice(e[0].length)}:null}function M(n,s){const e=s.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:s.slice(1)};const t=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,c=e[5]?parseInt(e[5],10):0;return{value:t*(r*he+a*me+c*be),rest:s.slice(e[0].length)}}function ae(n){return w(m.anyDigitsSigned,n)}function h(n,s){switch(n){case 1:return w(m.singleDigit,s);case 2:return w(m.twoDigits,s);case 3:return w(m.threeDigits,s);case 4:return w(m.fourDigits,s);default:return w(new RegExp("^\\d{1,"+n+"}"),s)}}function W(n,s){switch(n){case 1:return w(m.singleDigitSigned,s);case 2:return w(m.twoDigitsSigned,s);case 3:return w(m.threeDigitsSigned,s);case 4:return w(m.fourDigitsSigned,s);default:return w(new RegExp("^-?\\d{1,"+n+"}"),s)}}function B(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ie(n,s){const e=s>0,t=e?s:1-s;let r;if(t<=50)r=n||100;else{const a=t+50,c=Math.trunc(a/100)*100,x=n>=a%100;r=n+c-(x?100:0)}return e?r:1-r}function oe(n){return n%400===0||n%4===0&&n%100!==0}class Oe extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,r){const a=c=>({year:c,isTwoDigitYear:t==="yy"});switch(t){case"y":return b(h(4,e),a);case"yo":return b(r.ordinalNumber(e,{unit:"year"}),a);default:return b(h(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const x=ie(r.year,a);return e.setFullYear(x,0,1),e.setHours(0,0,0,0),e}const c=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(c,0,1),e.setHours(0,0,0,0),e}}class Ie extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,r){const a=c=>({year:c,isTwoDigitYear:t==="YY"});switch(t){case"Y":return b(h(4,e),a);case"Yo":return b(r.ordinalNumber(e,{unit:"year"}),a);default:return b(h(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const c=xe(e,a);if(r.isTwoDigitYear){const g=ie(r.year,c);return e.setFullYear(g,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),F(e,a)}const x=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(x,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),F(e,a)}}class Ee extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return W(t==="R"?4:t.length,e)}set(e,t,r){const a=k(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),re(a)}}class He extends u{constructor(){super(...arguments);i(this,"priority",130);i(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return W(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class Ce extends u{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"Q":case"QQ":return h(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class Le extends u{constructor(){super(...arguments);i(this,"priority",120);i(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"q":case"qq":return h(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class qe extends u{constructor(){super(...arguments);i(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);i(this,"priority",110)}parse(e,t,r){const a=c=>c-1;switch(t){case"M":return b(w(m.month,e),a);case"MM":return b(h(2,e),a);case"Mo":return b(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class Re extends u{constructor(){super(...arguments);i(this,"priority",110);i(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,r){const a=c=>c-1;switch(t){case"L":return b(w(m.month,e),a);case"LL":return b(h(2,e),a);case"Lo":return b(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}function Qe(n,s,e){const t=N(n,e==null?void 0:e.in),r=ye(t,e)-s;return t.setDate(t.getDate()-r*7),N(t,e==null?void 0:e.in)}class We extends u{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,r){switch(t){case"w":return w(m.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return h(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return F(Qe(e,r,a),a)}}function Fe(n,s,e){const t=N(n,e==null?void 0:e.in),r=pe(t,e)-s;return t.setDate(t.getDate()-r*7),t}class Be extends u{constructor(){super(...arguments);i(this,"priority",100);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,r){switch(t){case"I":return w(m.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return h(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return re(Fe(e,r))}}const Ge=[31,28,31,30,31,30,31,31,30,31,30,31],Xe=[31,29,31,30,31,30,31,31,30,31,30,31];class ze extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"subPriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"d":return w(m.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return h(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=oe(r),c=e.getMonth();return a?t>=1&&t<=Xe[c]:t>=1&&t<=Ge[c]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}}class Ze extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"subpriority",1);i(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,r){switch(t){case"D":case"DD":return w(m.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return h(t.length,e)}}validate(e,t){const r=e.getFullYear();return oe(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}}function G(n,s,e){var P,T,v,y;const t=ee(),r=(e==null?void 0:e.weekStartsOn)??((T=(P=e==null?void 0:e.locale)==null?void 0:P.options)==null?void 0:T.weekStartsOn)??t.weekStartsOn??((y=(v=t.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,a=N(n,e==null?void 0:e.in),c=a.getDay(),g=(s%7+7)%7,_=7-r,j=s<0||s>6?s-(c+_)%7:(g+_)%7-(c+_)%7;return se(a,j,e)}class $e extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}class Ke extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,r,a){const c=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(t){case"e":case"ee":return b(h(t.length,e),c);case"eo":return b(r.ordinalNumber(e,{unit:"day"}),c);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}class Ve extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,r,a){const c=x=>{const g=Math.floor((x-1)/7)*7;return(x+a.weekStartsOn+6)%7+g};switch(t){case"c":case"cc":return b(h(t.length,e),c);case"co":return b(r.ordinalNumber(e,{unit:"day"}),c);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}function Ae(n,s,e){const t=N(n,e==null?void 0:e.in),r=ke(t,e),a=s-r;return se(t,a,e)}class Ue extends u{constructor(){super(...arguments);i(this,"priority",90);i(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,r){const a=c=>c===0?7:c;switch(t){case"i":case"ii":return h(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return b(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return b(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return b(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return b(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=Ae(e,r),e.setHours(0,0,0,0),e}}class Je extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class Se extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class er extends u{constructor(){super(...arguments);i(this,"priority",80);i(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class rr extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,r){switch(t){case"h":return w(m.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return h(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}}class tr extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,r){switch(t){case"H":return w(m.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return h(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}}class sr extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,r){switch(t){case"K":return w(m.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return h(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}}class nr extends u{constructor(){super(...arguments);i(this,"priority",70);i(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,r){switch(t){case"k":return w(m.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return h(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}}class ar extends u{constructor(){super(...arguments);i(this,"priority",60);i(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"m":return w(m.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return h(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}}class ir extends u{constructor(){super(...arguments);i(this,"priority",50);i(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"s":return w(m.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return h(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}}class or extends u{constructor(){super(...arguments);i(this,"priority",30);i(this,"incompatibleTokens",["t","T"])}parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return b(h(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}}class cr extends u{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return M(D.basicOptionalMinutes,e);case"XX":return M(D.basic,e);case"XXXX":return M(D.basicOptionalSeconds,e);case"XXXXX":return M(D.extendedOptionalSeconds,e);case"XXX":default:return M(D.extended,e)}}set(e,t,r){return t.timestampIsSet?e:k(e,e.getTime()-te(e)-r)}}class lr extends u{constructor(){super(...arguments);i(this,"priority",10);i(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return M(D.basicOptionalMinutes,e);case"xx":return M(D.basic,e);case"xxxx":return M(D.basicOptionalSeconds,e);case"xxxxx":return M(D.extendedOptionalSeconds,e);case"xxx":default:return M(D.extended,e)}}set(e,t,r){return t.timestampIsSet?e:k(e,e.getTime()-te(e)-r)}}class ur extends u{constructor(){super(...arguments);i(this,"priority",40);i(this,"incompatibleTokens","*")}parse(e){return ae(e)}set(e,t,r){return[k(e,r*1e3),{timestampIsSet:!0}]}}class dr extends u{constructor(){super(...arguments);i(this,"priority",20);i(this,"incompatibleTokens","*")}parse(e){return ae(e)}set(e,t,r){return[k(e,r),{timestampIsSet:!0}]}}const fr={G:new Ye,y:new Oe,Y:new Ie,R:new Ee,u:new He,Q:new Ce,q:new Le,M:new qe,L:new Re,w:new We,I:new Be,d:new ze,D:new Ze,E:new $e,e:new Ke,c:new Ve,i:new Ue,a:new Je,b:new Se,B:new er,h:new rr,H:new tr,K:new sr,k:new nr,m:new ar,s:new ir,S:new or,X:new cr,x:new lr,t:new ur,T:new dr},wr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mr=/^'([^]*?)'?$/,br=/''/g,xr=/\S/,yr=/[a-zA-Z]/;function pr(n,s,e,t){var I,E,Q,H;const r=()=>k(e,NaN),a=Me(),c=a.locale??Te,x=a.firstWeekContainsDate??((E=(I=a.locale)==null?void 0:I.options)==null?void 0:E.firstWeekContainsDate)??1,g=a.weekStartsOn??((H=(Q=a.locale)==null?void 0:Q.options)==null?void 0:H.weekStartsOn)??0,_={firstWeekContainsDate:x,weekStartsOn:g,locale:c},j=[new ve(t==null?void 0:t.in,e)],P=s.match(hr).map(l=>{const f=l[0];if(f in U){const p=U[f];return p(l,c.formatLong)}return l}).join("").match(wr),T=[];for(let l of P){ge(l)&&J(l,s,n),De(l)&&J(l,s,n);const f=l[0],p=fr[f];if(p){const{incompatibleTokens:C}=p;if(Array.isArray(C)){const L=T.find(q=>C.includes(q.token)||q.token===f);if(L)throw new RangeError(`The format string mustn't contain \`${L.fullToken}\` and \`${l}\` at the same time`)}else if(p.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${l}\` and any other token at the same time`);T.push({token:f,fullToken:l});const Y=p.run(n,l,c.match,_);if(!Y)return r();j.push(Y.setter),n=Y.rest}else{if(f.match(yr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");if(l==="''"?l="'":f==="'"&&(l=Tr(l)),n.indexOf(l)===0)n=n.slice(l.length);else return r()}}if(n.length>0&&xr.test(n))return r();const v=j.map(l=>l.priority).sort((l,f)=>f-l).filter((l,f,p)=>p.indexOf(l)===f).map(l=>j.filter(f=>f.priority===l).sort((f,p)=>p.subPriority-f.subPriority)).map(l=>l[0]);let y=N(e,t==null?void 0:t.in);if(isNaN(+y))return r();const O={};for(const l of v){if(!l.validate(y,_))return r();const f=l.set(y,O,_);Array.isArray(f)?(y=f[0],Object.assign(O,f[1])):y=f}return y}function Tr(n){return n.match(mr)[1].replace(br,"'")}function Hr({appointments:n}){var H,l,f,p,C,Y,L,q,X,z;const[s,e]=R.useState(null),t=R.useRef(null),r=R.useRef(null),a=R.useRef(null),{data:c,put:x,processing:g,errors:_,reset:j}=ue(),[P,T]=R.useState(null),{auth:v}=de().props,y=v.user.role,O=()=>{const d=bootstrap.Modal.getInstance(t.current);d==null||d.hide()},I=()=>{s&&(y==="clinic_admin"&&(routeName="clinic.appointments.cancel"),y==="clinic_user"&&(routeName="clinic.user.appointments.cancel"),x(route(routeName,{appointment:s}),{onFinish:()=>{O()}}))},E=()=>{if(!s)return;let d="appointments.confirm";y==="clinic_admin"&&(d="clinic.appointments.confirm"),y==="clinic_user"&&(d="clinic.user.appointments.confirm"),x(route(d,{appointment:s}),{onFinish:()=>{O()}})},Q=d=>{var Z,$,K,V;return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"card mb-3",children:[o.jsx("div",{class:"card-header card-header-content-between border-bottom",children:o.jsxs("h4",{class:"card-header-title",children:["Appointment #",o.jsx("span",{className:"text-body me-3",children:d.id}),o.jsx("span",{class:`badge ${((Z=d==null?void 0:d.provider)==null?void 0:Z.type)==="Dentist"?"bg-soft-primary text-primary":"bg-soft-info text-info"}`,children:($=d==null?void 0:d.provider)==null?void 0:$.type})]})}),o.jsx("div",{class:"card-body",children:o.jsxs("div",{class:"row",children:[o.jsxs("div",{class:"col-md mb-4 mb-md-0",children:[o.jsxs("div",{class:"mb-4",children:[o.jsx("span",{class:"card-subtitle text-lowercase"}),o.jsx("h3",{children:d.patient&&o.jsxs(o.Fragment,{children:[(K=d.patient)==null?void 0:K.last_name,", ",(V=d.patient)==null?void 0:V.first_name," "]})})]}),o.jsxs("div",{children:[o.jsx("span",{class:"card-subtitle",children:"Request Date/Time"}),o.jsxs("h1",{class:"text-primary",children:[" ",S(new Date(d==null?void 0:d.appointment_date),"dd-MMM-yyyy")," | ",S(pr(d==null?void 0:d.time_slot,"HH:mm",new Date),"h:mm a")]})]})]}),o.jsx("div",{class:"col-md-auto",children:o.jsxs("div",{class:"d-grid d-sm-flex gap-3",children:[o.jsx("button",{className:"btn btn-white",onClick:()=>{e(d),T("cancel")},children:"Cancel Appointment"}),o.jsx("button",{className:"btn btn-primary",onClick:()=>{e(d),T("confirm")},children:"Confirm Appointment"})]})})]})})]})})};return o.jsx(o.Fragment,{children:o.jsxs(we,{header:"Pending Appointments",children:[o.jsx(fe,{title:"Appointments"}),o.jsx("div",{className:"container",children:n.map(d=>Q(d))}),o.jsxs(A,{isOpen:P==="confirm",onClose:()=>T(null),title:"Confirm Appointment",onConfirm:E,confirmText:"Confirm",confirmClass:"btn-success",children:["Are you sure you want to confirm appointment #",s==null?void 0:s.id," for"," ",(H=s==null?void 0:s.patient)==null?void 0:H.first_name," ",(l=s==null?void 0:s.patient)==null?void 0:l.last_name,"?"]}),o.jsxs(A,{isOpen:P==="cancel",onClose:()=>T(null),title:"Cancel Appointment",onConfirm:I,confirmText:"Cancel Appointment",confirmClass:"btn-danger",children:["Are you sure you want to cancel appointment #",s==null?void 0:s.id," for"," ",(f=s==null?void 0:s.patient)==null?void 0:f.first_name," ",(p=s==null?void 0:s.patient)==null?void 0:p.last_name,"?"]}),o.jsx("div",{className:"modal fade",id:"confirmModal",tabIndex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true",ref:t,children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"confirmModalLabel",children:"Confirm Appointment"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),o.jsxs("div",{className:"modal-body",children:["Are you sure you want to confirm appointment #",s==null?void 0:s.id," for"," ",(C=s==null?void 0:s.patient)==null?void 0:C.first_name," ",(Y=s==null?void 0:s.patient)==null?void 0:Y.last_name,"?"]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-success",onClick:E,children:"Confirm"})]})]})})}),o.jsx("div",{className:"modal fade",id:"confirmModal",tabIndex:"-1","aria-labelledby":"confirmModalLabel","aria-hidden":"true",ref:a,children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"confirmModalLabel",children:"Cancel Appointment"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),o.jsxs("div",{className:"modal-body",children:["Are you sure you want to cancel appointment #",s==null?void 0:s.id," for"," ",(L=s==null?void 0:s.patient)==null?void 0:L.first_name," ",(q=s==null?void 0:s.patient)==null?void 0:q.last_name,"?"]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),o.jsx("button",{type:"button",className:"btn btn-danger",onClick:I,children:"Cancel Appointment"})]})]})})}),o.jsx("div",{className:"modal fade",id:"rescheduleModal",tabIndex:"-1","aria-labelledby":"rescheduleModalLabel","aria-hidden":"true",ref:r,children:o.jsx("div",{className:"modal-dialog modal-dialog-centered",children:o.jsxs("div",{className:"modal-content",children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h5",{className:"modal-title",id:"rescheduleModalLabel",children:"Reschedule Appointment"}),o.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("p",{children:["Select a new date and time for appointment #",s==null?void 0:s.id," with"," ",(X=s==null?void 0:s.patient)==null?void 0:X.first_name," ",(z=s==null?void 0:s.patient)==null?void 0:z.last_name,"."]}),o.jsx("input",{type:"date",className:"form-control mb-2"}),o.jsx("input",{type:"time",className:"form-control"})]}),o.jsxs("div",{className:"modal-footer",children:[o.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),o.jsx("button",{type:"button",className:"btn btn-primary",children:"Save Changes"})]})]})})})]})})}export{Hr as default};
