import{q as _,r as w,W as F,j as e,Y as S}from"./app-BHQ0zywF.js";import{I as D}from"./ImageUploader-Dx38kcJ5.js";import{u as I}from"./index-BjHZciSr.js";import"./TextArea-BvX_MmgF.js";import"./TextInput-B9TnIsFd.js";import"./TextInputWithLabel-DKeqc0x6.js";import{S as z}from"./SubmitButton-CbyTX24x.js";import{B as A}from"./button-D9VuUb7h.js";import{C as n,a as o,b as m,c as p,d as h,e as k}from"./card-DEULzQLA.js";import{I as r}from"./input-BKkQ3nFM.js";import{L as c}from"./label-DR2ru6Kr.js";import{S as u}from"./switch-z_KOzZiH.js";import{T as L}from"./textarea-XUOi930m.js";import{A as T}from"./AuthenticatedLayout-D3cOXf5f.js";import{B as O}from"./building-2-cL4tNOlW.js";import{M as P}from"./mail-DiV0PO7X.js";import{P as B}from"./phone-DE3ybQfL.js";import{M}from"./map-pin-CSkMxILm.js";import{C as g}from"./clock-CHnTMoci.js";import{I as U}from"./image-DdbEtUQZ.js";import{T as E}from"./trash-MyvI5WKZ.js";import"./app-D_D9UtE4.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./Components-CRptwAkA.js";import"./field-Tlel3kGC.js";import"./loader-BMP2fIOz.js";import"./createLucideIcon-bxdoWJOP.js";import"./index-DTogXhgp.js";import"./index-BF5qtzUM.js";import"./index-rTG2vCZL.js";import"./index-Dj8_41cZ.js";import"./index-bzZLt5H5.js";import"./message-square-B9gItJEo.js";import"./stethoscope-DYHhol2o.js";function _e(){const{categories:j}=_().props,x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=x.reduce((s,l)=>(s[l]={isOpen:!1,open:"",close:""},s),{});w.useState([]);const{data:a,setData:i,post:N,processing:f,errors:R,reset:G}=F({clinic_name:"",address_line_1:"",address_line_2:"",phone:"",logo:"",email:"",state:"",city:"",zip_code:"",latitude:"",longitude:"",desc:"",schedule:v,categories:[],images:[],logo_file:""}),y=s=>{let l;a.categories.includes(s)?l=a.categories.filter(t=>t!==s):l=[...a.categories,s],i("categories",l),console.log(a.categories)},C=s=>{s.preventDefault();const l=new FormData;l.append("clinic_name",a.clinic_name),l.append("email",a.email),l.append("phone",a.phone),l.append("address_line_1",a.address_line_1),l.append("address_line_2",a.address_line_2),l.append("city",a.city),l.append("state",a.state),l.append("zip_code",a.zip_code),l.append("latitude",a.latitude),l.append("longitude",a.longitude),l.append("desc",a.desc),a.categories.forEach((t,d)=>{l.append(`categories[${d}]`,t)}),l.append("schedule",JSON.stringify(a.schedule)),a.images.forEach((t,d)=>{l.append("images[]",t)}),N(route("clinics.store"),l,{forceFormData:!0})};function b(){const{getRootProps:s,getInputProps:l,isDragActive:t}=I({accept:{"image/*":[]},multiple:!0,onDrop:d=>{i("images",[...a.images,...d])}});return e.jsx("div",{...s(),className:`
        p-10 border-4 rounded-lg text-center cursor-pointer transition-colors
        ${t?"border-blue-500 bg-blue-100":"border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100"}
      `,children:e.jsxs("label",{class:"profile-cover-uploader-label btn btn-sm btn-white",for:"profileCoverUplaoder",children:[e.jsx("i",{class:"bi-camera-fill"}),e.jsx("input",{...l()}),t?e.jsx("p",{className:"text-blue-600",children:"Drop the files here ..."}):e.jsx("p",{className:"text-gray-500",children:"Drag 'n' drop some files here, or click to select files"})]})})}return e.jsxs(T,{header:"Add Clinic",children:[e.jsx(S,{title:"Add Clinic"}),e.jsx("form",{onSubmit:C,noValidate:!0,children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-1",children:[e.jsxs(n,{className:"shadow-card",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5 text-primary"}),"Clinic Information"]}),e.jsx(p,{children:"Update your clinic's basic information"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"clinicName",children:"Clinic Name"}),e.jsx(r,{id:"clinicName",placeholder:"Clinic Name",value:a.clinic_name,onChange:s=>i("clinic_name",s.target.value)})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(r,{id:"email",type:"email",value:a.email,placeholder:"email@address.com",onChange:s=>i("email",s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"phone",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(r,{id:"phone",value:a.phone,placeholder:"+x(xxx)xxx-xx-xx",onChange:s=>i("phone",s.target.value),className:"pl-9"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsx(r,{id:"address",defaultValue:"123 Medical Center Dr, New York, NY 10001",value:a.address_line_1,placeholder:"Address Line 1",onChange:s=>i("address_line_1",s.target.value),className:"pl-9 mb-3"}),e.jsx(r,{id:"address",value:a.address_line_2,placeholder:"Address Line 2",onChange:s=>i("address_line_2",s.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-2 grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"city",children:"City"}),e.jsx(r,{id:"city",value:a.city,onChange:s=>i("city",s.target.value),placeholder:"City"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"state",children:"State"}),e.jsx(r,{id:"state",value:a.state,onChange:s=>i("state",s.target.value),placeholder:"State"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"zip_code",children:"Zip Code"}),e.jsx(r,{id:"zip_code",value:a.zip_code,onChange:s=>i("zip_code",s.target.value),placeholder:"Zip Code"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:["   ",e.jsx(c,{htmlFor:"zip_code",children:"Latitude"}),e.jsx(r,{id:"latitude",value:a.latitude,onChange:s=>i("latitude",s.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"longitude",children:"Longitude"}),e.jsx(r,{id:"longitude",value:a.longitude,onChange:s=>i("longitude",s.target.value),className:"pl-9"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"website",children:"Description"}),e.jsx("div",{className:"relative",children:e.jsx(L,{value:a.desc,placeholder:"General Info",onChange:s=>i("desc",s.target.value)})})]})]})]}),e.jsxs(n,{className:"shadow-card",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-primary"}),"Business Hours"]}),e.jsx(p,{children:"Set your clinic's operating hours"})]}),e.jsx(h,{className:"space-y-4",children:x.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 ",children:[e.jsx(u,{checked:a.schedule[s].isOpen,onCheckedChange:l=>{i("schedule",{...a.schedule,[s]:{...a.schedule[s],isOpen:l}})}}),e.jsx("span",{className:"w-24 font-medium",children:s})]}),a.schedule[s]&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(r,{className:"form-control",type:"time",disabled:!a.schedule[s].isOpen,value:a.schedule[s].open,onChange:l=>i("schedule",{...a.schedule,[s]:{...a.schedule[s],open:l.target.value}})}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx(r,{className:"form-control",type:"time",value:a.schedule[s].close,disabled:!a.schedule[s].isOpen,onChange:l=>i("schedule",{...a.schedule,[s]:{...a.schedule[s],close:l.target.value}})})]})]},s))})]}),e.jsxs(n,{className:"shadow-card",children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-primary"}),"Available Treatments"]}),e.jsx(p,{children:"Set your clinic's treatment services"})]}),e.jsx(h,{className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-4 gap-6",children:j.map(s=>{const l=a.categories.includes(s.id);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{checked:l,onCheckedChange:()=>y(s.id)}),"  ",s.name]},s.id)})})})]}),e.jsxs(n,{children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-primary"}),"Image Gallery"]}),e.jsx(p,{children:"Update your clinic's logo/featured image and image gallery"})]}),e.jsxs(h,{className:"space-y-2",children:[e.jsxs("div",{className:"space-y-2 ",children:[e.jsx(c,{children:"Logo / Featured Image"}),e.jsx(D,{onFileSelect:s=>i("image_file",s),existingImage:a.logo,deleteFile:()=>i("image_file",null)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Galleries"}),a.images.length>0&&e.jsx("div",{className:"grid grid-cols-6",children:a.images.map((s,l)=>e.jsx("div",{className:" ",children:e.jsxs("div",{class:"card card-sm",children:[e.jsx("img",{class:"block h-20 w-full rounded-lg object-cover object-center",src:URL.createObjectURL(s),alt:`Preview ${l}`}),e.jsx("div",{class:"card-body",children:e.jsx("div",{class:"row col-divider text-center",children:e.jsx("div",{class:"col",children:e.jsx(A,{variant:"ghost",type:"button",className:"",onClick:()=>{const t=[...a.images];t.splice(l,1),i("images",t)},children:e.jsx(E,{className:"h-5"})})})})})]})},l))}),e.jsx("div",{className:"dropzone-container",children:e.jsx(b,{})})]})]}),e.jsx(k,{className:"border-t border-border",children:e.jsx(z,{processing:f,actionText:"Add Clinic"})})]})]})})]})}export{_e as default};
