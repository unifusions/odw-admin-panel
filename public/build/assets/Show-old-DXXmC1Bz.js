import{j as s,q as n,Y as x}from"./app-BK9PCMc-.js";import{C as i}from"./Card-BIPfvAw5.js";import{R as j,C as d,A as u}from"./Components-QH0_rlHC.js";import{D as h}from"./DateTimeConverter-DZaV3aek.js";import{L as o}from"./LegendIndicator-CHZV4Okv.js";import{A as f}from"./AuthenticatedLayout-DGUI2q7O.js";import v from"./MarkAsReview-D00pY5A-.js";import g from"./MarkAsClosed-GOI55Q7Y.js";import b from"./GiveOpinion-C7JEYGi9.js";import"./app-BhpSmq0W.js";import"./index-D3ZR-14Z.js";import"./button-BtMfAeD_.js";import"./input-8dewTzz_.js";import"./createLucideIcon-zgHq1fnL.js";import"./message-square-BbzCfuvQ.js";import"./stethoscope-BbCb1X1C.js";import"./Spinner-DOxwdcvD.js";import"./InputLabel-BcpLGGjX.js";import"./TextArea-CkGVUJBZ.js";import"./FileUploader-CLL1VNFP.js";import"./index-CnQ9IQpT.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";function N({status:e}){const r=({color:t,status:l})=>s.jsx("span",{className:`badge bg-soft-${t} text-${t} ms-sm-3`,children:s.jsx(o,{color:t,status:l})});switch(e){case"pending":return s.jsx(r,{color:"danger",status:"Pending"});case"in_review":return s.jsx(r,{color:"warning",status:"In Review"});case"answered":return s.jsx(r,{color:"success",status:"Answered"});case"closed":return s.jsx(r,{color:"secondary",status:"Closed"})}}function w({patient:e}){var r,t;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h4",{class:"card-header-title",children:"Patient"})}),s.jsx("div",{className:"card-body",children:s.jsxs("ul",{className:"list-group list-group-flush list-group-no-gutters",children:[s.jsx("li",{className:"list-group-item",children:s.jsxs("div",{className:"d-flex align-items-center mb-3",children:[s.jsx("div",{className:"avatar avatar-soft-primary avatar-circle",children:s.jsx("span",{className:"avatar-initials",children:e==null?void 0:e.first_name.charAt(0)})}),s.jsxs("div",{className:"ms-3",children:[s.jsxs("span",{class:"d-block h5 text-inherit mb-0",children:[(e==null?void 0:e.first_name)||""," ",(e==null?void 0:e.last_name)||""]}),s.jsx("span",{class:"d-block fs-5 text-body",children:"User Since"})]})]})}),s.jsxs("li",{class:"list-group-item",children:[s.jsx("div",{class:"d-flex justify-content-between align-items-center",children:s.jsx("h5",{children:"Contact info"})}),s.jsxs("ul",{class:"list-unstyled list-py-2 text-body",children:[s.jsxs("li",{children:[s.jsx("i",{class:"bi-at me-2"}),(r=e==null?void 0:e.user)==null?void 0:r.email]}),s.jsxs("li",{children:[s.jsx("i",{class:"bi-phone me-2"}),(t=e==null?void 0:e.user)==null?void 0:t.phone]})]})]})]})})]})})}function p({title:e,status:r,timestamp:t}){return s.jsxs("div",{className:"d-sm-flex align-items-sm-center mb-3",children:[s.jsx("h1",{className:"page-header-title",children:e}),s.jsx(N,{status:r}),s.jsxs("span",{className:"ms-2 ms-sm-3",children:[s.jsx("i",{className:"bi-calendar-week"})," ",s.jsx(h,{dateTimeString:t})]})]})}const a=({index:e,value:r})=>s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-md-6",children:e}),s.jsx("div",{className:"col-md-6 ",children:r})]});function U(){const{secondopinion:e,replied:r}=n().props,t=e.patient,l=e.category,c=e.attachments||[];return s.jsxs(f,{header:"Second Opinion",pageTitle:s.jsx(p,{title:`SO #${e.id} ${(e==null?void 0:e.subject)&&" | "+(e==null?void 0:e.subject)}`,status:e.status,timestamp:e.created_at}),callToAction:s.jsxs("div",{children:[s.jsx(b,{so:e,isDisabled:r}),s.jsx(v,{so:e,isDisabled:((e==null?void 0:e.status)=="in_review"||(e==null?void 0:e.status)=="closed"||r)&&!0}),s.jsx(g,{so:e,isDisabled:(e==null?void 0:e.status)=="closed"&&!0})]}),children:[s.jsx(x,{title:`Second Opinion : ${e.id}`}),s.jsxs(j,{children:[s.jsxs(d,{lg:8,children:[s.jsxs(i,{title:"Second Opinion Info",children:[s.jsx(a,{index:"Second Opinion #",value:`# ${e.id}`}),s.jsx(a,{index:"Subject",value:e==null?void 0:e.subject}),s.jsx(a,{index:"Requested On",value:e==null?void 0:e.created_at}),!(e!=null&&e.is_quick)&&s.jsxs(s.Fragment,{children:[s.jsx(a,{index:"Category",value:l&&(l==null?void 0:l.name)||"NA"}),s.jsx(a,{index:"Insurance",value:"Yes"}),s.jsx(a,{index:"Estimate Required",value:"Yes"})]})]}),s.jsxs(i,{title:"Patient Notes/Request",children:[s.jsx(a,{index:"Last Dental Visit",value:"3 weeks ago"}),s.jsx(a,{index:"Patient Notes/Request",value:e==null?void 0:e.description})]}),s.jsx(i,{title:"Attachments",children:s.jsx("div",{className:"d-flex flex-wrap justify-content-start gap-2",children:c.length>0?c.map(m=>s.jsx(u,{attachment:m})):"No attachments Found"})})]}),s.jsx(d,{lg:4,children:s.jsx(w,{patient:t})})]})]})}export{U as default};
