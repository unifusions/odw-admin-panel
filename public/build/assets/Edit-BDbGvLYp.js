import{r as p,q as x,W as h,j as e,Y as j}from"./app-CxDBxgXi.js";import{C as g}from"./Card-B7rPMY6P.js";import{D as u,R as f,C as r}from"./Components-obYhLU_h.js";import{I as m}from"./InputLabel-BnXRaMcG.js";import{A as b,P as v}from"./AuthenticatedLayout-B9hNuLXi.js";import{S as N}from"./ServiceImageHeaderUploader-Cv7iTA90.js";import{T as D}from"./TextArea-CF2RvD8T.js";import{T as C}from"./TextInputWithLabel-CpxwLgTA.js";import{F as y}from"./flatpickr-547Idqds.js";import{D as S}from"./DeleteConfirmModal-VTHaUbTg.js";import"./index-DfwO-8a2.js";import"./Sidebar-cum81-ZD.js";import"./DentistIcon-qYrCwK01.js";import"./index-BbyqvKkF.js";import"./index-Chjiymov.js";function z(){const[n,c]=p.useState([]),{deal:t}=x().props,{data:l,setData:s,processing:i,post:F,error:T,reset:_}=h({title:t.title||"",description:t.description||"",start_date:t.start_date||"",end_date:t.end_date||"",image:t.image||""}),o=a=>a.toISOString().split("T")[0],d=a=>{c(a),s("start_date",o(a[0])),s("end_date",o(a[1]))};return e.jsxs(b,{header:"Deals",children:[e.jsx(j,{title:"Create Deal"}),e.jsx(v,{title:"Create Deal"}),e.jsxs(u,{className:"mb-3 justify-content-between",children:[e.jsx("h1",{className:"page-header-title",children:"Edit Deal"}),e.jsx(S,{item:t,processUrl:"deals.destroy",category:"Deal"})]}),e.jsx("form",{children:e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(r,{lg:6,className:"mb-3",children:e.jsx(N,{onFileSelect:a=>s("image",a),existingImage:t.image_url})}),e.jsxs(r,{lg:6,children:[e.jsx(C,{label:"Title",id:"title",type:"text",name:"title",value:l.title,className:"form-control ",placeholder:"Title",onChange:a=>s("title",a.target.value),isSingleRow:!0}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(m,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(D,{id:"description",type:"text",name:"description",value:l.description,className:"form-control ",placeholder:"Description",onChange:a=>s("description",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(m,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Duration"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(y,{value:n,options:{mode:"range",dateFormat:"d-m-Y"},className:"js-flatpickr form-control flatpickr-custom",onChange:d})})]})]}),e.jsx(r,{lg:12,children:e.jsx("div",{className:"text-end",children:e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:i,children:[i?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Save Deal"," "]})})})]})})})]})}export{z as default};
