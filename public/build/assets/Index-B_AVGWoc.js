import{r as l,j as e,q as ht,W as xt,y as Ve}from"./app-gTnaJgA3.js";import{C as Pe,d as Re,a as pt,b as gt}from"./card-Bhb_vsbj.js";import{S as vt,a as jt,b as bt,c as wt,d as ue,e as Nt}from"./select-CYs-Uctu.js";import{d as pr,R as Ct,I as St,T as gr,a as vr,b as he}from"./tabs-BjvwK4_0.js";import{e as Ge,u as Y,c as L,B as T}from"./button-Blg-GYzd.js";import{c as se}from"./createLucideIcon-Crjk9jNs.js";import{C as yt,B as te,A as Mt}from"./AuthenticatedLayout-DJ8-3KyR.js";import{D as Ee,a as De,b as Ae,c as Te,d as ke,e as Ne}from"./dialog-BTZVwDOQ.js";import{c as Ue,b,P as q,e as _t,a as Pt,u as Rt}from"./index-DP5tSnDM.js";import{P as ee}from"./index-CzVJiClS.js";import{h as Et,a as Dt,F as At,D as Tt,u as Q,R as kt,P as It}from"./Combination-uFuk5kAN.js";import{c as Ot,u as jr}from"./index-BxtszkHN.js";import{a as Lt,C as ne,M as Ft}from"./message-square-DVTm9amt.js";import{C as xe}from"./clock-DRQQ8Pyc.js";import{B as zt}from"./building-DsGTT0E-.js";import{U as Be}from"./user-BJd8gb-N.js";import{P as He}from"./phone-Bzza2Ajk.js";import{M as Ke}from"./mail-BmsWHcBc.js";import{a as br,b as wr,e as lr,s as Vt,c as Wt,i as $t,d as me,C as Gt}from"./calendar-DAyA7GJ_.js";import{a as we}from"./addDays--5Ovw2Cz.js";import{f as G,s as We}from"./format-CW6KcVUP.js";import{C as Nr}from"./circle-x-j7rUj8W0.js";import{L as Ce}from"./label-D73CoYsL.js";import{T as Ut}from"./textarea-Z0xBnu4c.js";import{C as cr}from"./checkbox-DvLkSS-d.js";import{C as Xe}from"./circle-check-big-CAgM8E-g.js";import{L as Bt}from"./loader-BG9CGqLT.js";import{c as Cr,A as Ht,C as Kt,a as Xt,R as Yt}from"./index-B8X4-DhB.js";import{u as ir}from"./index-C6XzcVRl.js";import{A as qt}from"./avatar-DD2L9c2I.js";import"./app-CK0NxaSB.js";import"./index-spsts5mh.js";import"./index-D6ei9Hwz.js";import"./chevron-down-ChSr9nFW.js";import"./check-DZsZBx8W.js";import"./index-DlDaoWmT.js";import"./input-CLmUZ-_M.js";import"./stethoscope-DqR_97mW.js";import"./x-C7STSSw7.js";import"./tslib.es6-BUas5LQb.js";import"./index-BitAmouY.js";import"./floating-ui.react-dom-D9EAUDn-.js";import"./floating-ui.dom-g0iQpA8R.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Jt=se("calendar-clock",Zt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],en=se("circle-alert",Qt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],tn=se("ellipsis",rn);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sn=se("funnel",nn);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],an=se("layout-grid",on);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],cn=se("list",ln);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],un=se("map",dn);function mn(r){const n=fn(r),t=l.forwardRef((a,s)=>{const{children:o,...i}=a,d=l.Children.toArray(o),c=d.find(xn);if(c){const h=c.props.children,m=d.map(u=>u===c?l.Children.count(h)>1?l.Children.only(null):l.isValidElement(h)?h.props.children:null:u);return e.jsx(n,{...i,ref:s,children:l.isValidElement(h)?l.cloneElement(h,void 0,m):null})}return e.jsx(n,{...i,ref:s,children:o})});return t.displayName=`${r}.Slot`,t}function fn(r){const n=l.forwardRef((t,a)=>{const{children:s,...o}=t;if(l.isValidElement(s)){const i=gn(s),d=pn(o,s.props);return s.type!==l.Fragment&&(d.ref=a?Ge(a,i):i),l.cloneElement(s,d)}return l.Children.count(s)>1?l.Children.only(null):null});return n.displayName=`${r}.SlotClone`,n}var hn=Symbol("radix.slottable");function xn(r){return l.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===hn}function pn(r,n){const t={...n};for(const a in n){const s=r[a],o=n[a];/^on[A-Z]/.test(a)?s&&o?t[a]=(...d)=>{const c=o(...d);return s(...d),c}:s&&(t[a]=s):a==="style"?t[a]={...s,...o}:a==="className"&&(t[a]=[s,o].filter(Boolean).join(" "))}return{...r,...t}}function gn(r){var a,s;let n=(a=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:a.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?r.ref:(n=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var $e=["Enter"," "],vn=["ArrowDown","PageUp","Home"],Sr=["ArrowUp","PageDown","End"],jn=[...vn,...Sr],bn={ltr:[...$e,"ArrowRight"],rtl:[...$e,"ArrowLeft"]},wn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ve="Menu",[pe,Nn,Cn]=Ot(ve),[oe,yr]=Ue(ve,[Cn,Cr,pr]),Ie=Cr(),Mr=pr(),[Sn,ae]=oe(ve),[yn,je]=oe(ve),_r=r=>{const{__scopeMenu:n,open:t=!1,children:a,dir:s,onOpenChange:o,modal:i=!0}=r,d=Ie(n),[c,h]=l.useState(null),m=l.useRef(!1),u=Q(o),f=jr(s);return l.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(Yt,{...d,children:e.jsx(Sn,{scope:n,open:t,onOpenChange:u,content:c,onContentChange:h,children:e.jsx(yn,{scope:n,onClose:l.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:m,dir:f,modal:i,children:a})})})};_r.displayName=ve;var Mn="MenuAnchor",Ye=l.forwardRef((r,n)=>{const{__scopeMenu:t,...a}=r,s=Ie(t);return e.jsx(Ht,{...s,...a,ref:n})});Ye.displayName=Mn;var qe="MenuPortal",[_n,Pr]=oe(qe,{forceMount:void 0}),Rr=r=>{const{__scopeMenu:n,forceMount:t,children:a,container:s}=r,o=ae(qe,n);return e.jsx(_n,{scope:n,forceMount:t,children:e.jsx(ee,{present:t||o.open,children:e.jsx(It,{asChild:!0,container:s,children:a})})})};Rr.displayName=qe;var U="MenuContent",[Pn,Ze]=oe(U),Er=l.forwardRef((r,n)=>{const t=Pr(U,r.__scopeMenu),{forceMount:a=t.forceMount,...s}=r,o=ae(U,r.__scopeMenu),i=je(U,r.__scopeMenu);return e.jsx(pe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:a||o.open,children:e.jsx(pe.Slot,{scope:r.__scopeMenu,children:i.modal?e.jsx(Rn,{...s,ref:n}):e.jsx(En,{...s,ref:n})})})})}),Rn=l.forwardRef((r,n)=>{const t=ae(U,r.__scopeMenu),a=l.useRef(null),s=Y(n,a);return l.useEffect(()=>{const o=a.current;if(o)return Et(o)},[]),e.jsx(Je,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:b(r.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),En=l.forwardRef((r,n)=>{const t=ae(U,r.__scopeMenu);return e.jsx(Je,{...r,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Dn=mn("MenuContent.ScrollLock"),Je=l.forwardRef((r,n)=>{const{__scopeMenu:t,loop:a=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:f,onDismiss:x,disableOutsideScroll:v,..._}=r,D=ae(U,t),y=je(U,t),A=Ie(t),k=Mr(t),I=Nn(t),[F,j]=l.useState(null),V=l.useRef(null),H=Y(n,V,D.onContentChange),w=l.useRef(0),P=l.useRef(""),W=l.useRef(0),S=l.useRef(null),N=l.useRef("right"),g=l.useRef(0),R=v?kt:l.Fragment,E=v?{as:Dn,allowPinchZoom:!0}:void 0,O=p=>{var ce,or;const M=P.current+p,$=I().filter(J=>!J.disabled),K=document.activeElement,X=(ce=$.find(J=>J.ref.current===K))==null?void 0:ce.textValue,le=$.map(J=>J.textValue),be=Gn(le,M,X),de=(or=$.find(J=>J.textValue===be))==null?void 0:or.ref.current;(function J(ar){P.current=ar,window.clearTimeout(w.current),ar!==""&&(w.current=window.setTimeout(()=>J(""),1e3))})(M),de&&setTimeout(()=>de.focus())};l.useEffect(()=>()=>window.clearTimeout(w.current),[]),Dt();const C=l.useCallback(p=>{var $,K;return N.current===(($=S.current)==null?void 0:$.side)&&Bn(p,(K=S.current)==null?void 0:K.area)},[]);return e.jsx(Pn,{scope:t,searchRef:P,onItemEnter:l.useCallback(p=>{C(p)&&p.preventDefault()},[C]),onItemLeave:l.useCallback(p=>{var M;C(p)||((M=V.current)==null||M.focus(),j(null))},[C]),onTriggerLeave:l.useCallback(p=>{C(p)&&p.preventDefault()},[C]),pointerGraceTimerRef:W,onPointerGraceIntentChange:l.useCallback(p=>{S.current=p},[]),children:e.jsx(R,{...E,children:e.jsx(At,{asChild:!0,trapped:s,onMountAutoFocus:b(o,p=>{var M;p.preventDefault(),(M=V.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:f,onDismiss:x,children:e.jsx(Ct,{asChild:!0,...k,dir:y.dir,orientation:"vertical",loop:a,currentTabStopId:F,onCurrentTabStopIdChange:j,onEntryFocus:b(c,p=>{y.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Kt,{role:"menu","aria-orientation":"vertical","data-state":Hr(D.open),"data-radix-menu-content":"",dir:y.dir,...A,..._,ref:H,style:{outline:"none",..._.style},onKeyDown:b(_.onKeyDown,p=>{const $=p.target.closest("[data-radix-menu-content]")===p.currentTarget,K=p.ctrlKey||p.altKey||p.metaKey,X=p.key.length===1;$&&(p.key==="Tab"&&p.preventDefault(),!K&&X&&O(p.key));const le=V.current;if(p.target!==le||!jn.includes(p.key))return;p.preventDefault();const de=I().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);Sr.includes(p.key)&&de.reverse(),Wn(de)}),onBlur:b(r.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(w.current),P.current="")}),onPointerMove:b(r.onPointerMove,ge(p=>{const M=p.target,$=g.current!==p.clientX;if(p.currentTarget.contains(M)&&$){const K=p.clientX>g.current?"right":"left";N.current=K,g.current=p.clientX}}))})})})})})})});Er.displayName=U;var An="MenuGroup",Qe=l.forwardRef((r,n)=>{const{__scopeMenu:t,...a}=r;return e.jsx(q.div,{role:"group",...a,ref:n})});Qe.displayName=An;var Tn="MenuLabel",Dr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...a}=r;return e.jsx(q.div,{...a,ref:n})});Dr.displayName=Tn;var Se="MenuItem",dr="menu.itemSelect",Oe=l.forwardRef((r,n)=>{const{disabled:t=!1,onSelect:a,...s}=r,o=l.useRef(null),i=je(Se,r.__scopeMenu),d=Ze(Se,r.__scopeMenu),c=Y(n,o),h=l.useRef(!1),m=()=>{const u=o.current;if(!t&&u){const f=new CustomEvent(dr,{bubbles:!0,cancelable:!0});u.addEventListener(dr,x=>a==null?void 0:a(x),{once:!0}),_t(u,f),f.defaultPrevented?h.current=!1:i.onClose()}};return e.jsx(Ar,{...s,ref:c,disabled:t,onClick:b(r.onClick,m),onPointerDown:u=>{var f;(f=r.onPointerDown)==null||f.call(r,u),h.current=!0},onPointerUp:b(r.onPointerUp,u=>{var f;h.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:b(r.onKeyDown,u=>{const f=d.searchRef.current!=="";t||f&&u.key===" "||$e.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Oe.displayName=Se;var Ar=l.forwardRef((r,n)=>{const{__scopeMenu:t,disabled:a=!1,textValue:s,...o}=r,i=Ze(Se,t),d=Mr(t),c=l.useRef(null),h=Y(n,c),[m,u]=l.useState(!1),[f,x]=l.useState("");return l.useEffect(()=>{const v=c.current;v&&x((v.textContent??"").trim())},[o.children]),e.jsx(pe.ItemSlot,{scope:t,disabled:a,textValue:s??f,children:e.jsx(St,{asChild:!0,...d,focusable:!a,children:e.jsx(q.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...o,ref:h,onPointerMove:b(r.onPointerMove,ge(v=>{a?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(r.onPointerLeave,ge(v=>i.onItemLeave(v))),onFocus:b(r.onFocus,()=>u(!0)),onBlur:b(r.onBlur,()=>u(!1))})})})}),kn="MenuCheckboxItem",Tr=l.forwardRef((r,n)=>{const{checked:t=!1,onCheckedChange:a,...s}=r;return e.jsx(Fr,{scope:r.__scopeMenu,checked:t,children:e.jsx(Oe,{role:"menuitemcheckbox","aria-checked":ye(t)?"mixed":t,...s,ref:n,"data-state":rr(t),onSelect:b(s.onSelect,()=>a==null?void 0:a(ye(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Tr.displayName=kn;var kr="MenuRadioGroup",[In,On]=oe(kr,{value:void 0,onValueChange:()=>{}}),Ir=l.forwardRef((r,n)=>{const{value:t,onValueChange:a,...s}=r,o=Q(a);return e.jsx(In,{scope:r.__scopeMenu,value:t,onValueChange:o,children:e.jsx(Qe,{...s,ref:n})})});Ir.displayName=kr;var Or="MenuRadioItem",Lr=l.forwardRef((r,n)=>{const{value:t,...a}=r,s=On(Or,r.__scopeMenu),o=t===s.value;return e.jsx(Fr,{scope:r.__scopeMenu,checked:o,children:e.jsx(Oe,{role:"menuitemradio","aria-checked":o,...a,ref:n,"data-state":rr(o),onSelect:b(a.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,t)},{checkForDefaultPrevented:!1})})})});Lr.displayName=Or;var er="MenuItemIndicator",[Fr,Ln]=oe(er,{checked:!1}),zr=l.forwardRef((r,n)=>{const{__scopeMenu:t,forceMount:a,...s}=r,o=Ln(er,t);return e.jsx(ee,{present:a||ye(o.checked)||o.checked===!0,children:e.jsx(q.span,{...s,ref:n,"data-state":rr(o.checked)})})});zr.displayName=er;var Fn="MenuSeparator",Vr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...a}=r;return e.jsx(q.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});Vr.displayName=Fn;var zn="MenuArrow",Wr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...a}=r,s=Ie(t);return e.jsx(Xt,{...s,...a,ref:n})});Wr.displayName=zn;var Vn="MenuSub",[na,$r]=oe(Vn),fe="MenuSubTrigger",Gr=l.forwardRef((r,n)=>{const t=ae(fe,r.__scopeMenu),a=je(fe,r.__scopeMenu),s=$r(fe,r.__scopeMenu),o=Ze(fe,r.__scopeMenu),i=l.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=o,h={__scopeMenu:r.__scopeMenu},m=l.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return l.useEffect(()=>m,[m]),l.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),c(null)}},[d,c]),e.jsx(Ye,{asChild:!0,...h,children:e.jsx(Ar,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Hr(t.open),...r,ref:Ge(n,s.onTriggerChange),onClick:u=>{var f;(f=r.onClick)==null||f.call(r,u),!(r.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:b(r.onPointerMove,ge(u=>{o.onItemEnter(u),!u.defaultPrevented&&!r.disabled&&!t.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:b(r.onPointerLeave,ge(u=>{var x,v;m();const f=(x=t.content)==null?void 0:x.getBoundingClientRect();if(f){const _=(v=t.content)==null?void 0:v.dataset.side,D=_==="right",y=D?-5:5,A=f[D?"left":"right"],k=f[D?"right":"left"];o.onPointerGraceIntentChange({area:[{x:u.clientX+y,y:u.clientY},{x:A,y:f.top},{x:k,y:f.top},{x:k,y:f.bottom},{x:A,y:f.bottom}],side:_}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(u),u.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:b(r.onKeyDown,u=>{var x;const f=o.searchRef.current!=="";r.disabled||f&&u.key===" "||bn[a.dir].includes(u.key)&&(t.onOpenChange(!0),(x=t.content)==null||x.focus(),u.preventDefault())})})})});Gr.displayName=fe;var Ur="MenuSubContent",Br=l.forwardRef((r,n)=>{const t=Pr(U,r.__scopeMenu),{forceMount:a=t.forceMount,...s}=r,o=ae(U,r.__scopeMenu),i=je(U,r.__scopeMenu),d=$r(Ur,r.__scopeMenu),c=l.useRef(null),h=Y(n,c);return e.jsx(pe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:a||o.open,children:e.jsx(pe.Slot,{scope:r.__scopeMenu,children:e.jsx(Je,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:h,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var u;i.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:b(r.onFocusOutside,m=>{m.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:b(r.onEscapeKeyDown,m=>{i.onClose(),m.preventDefault()}),onKeyDown:b(r.onKeyDown,m=>{var x;const u=m.currentTarget.contains(m.target),f=wn[i.dir].includes(m.key);u&&f&&(o.onOpenChange(!1),(x=d.trigger)==null||x.focus(),m.preventDefault())})})})})})});Br.displayName=Ur;function Hr(r){return r?"open":"closed"}function ye(r){return r==="indeterminate"}function rr(r){return ye(r)?"indeterminate":r?"checked":"unchecked"}function Wn(r){const n=document.activeElement;for(const t of r)if(t===n||(t.focus(),document.activeElement!==n))return}function $n(r,n){return r.map((t,a)=>r[(n+a)%r.length])}function Gn(r,n,t){const s=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,o=t?r.indexOf(t):-1;let i=$n(r,Math.max(o,0));s.length===1&&(i=i.filter(h=>h!==t));const c=i.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Un(r,n){const{x:t,y:a}=r;let s=!1;for(let o=0,i=n.length-1;o<n.length;i=o++){const d=n[o],c=n[i],h=d.x,m=d.y,u=c.x,f=c.y;m>a!=f>a&&t<(u-h)*(a-m)/(f-m)+h&&(s=!s)}return s}function Bn(r,n){if(!n)return!1;const t={x:r.clientX,y:r.clientY};return Un(t,n)}function ge(r){return n=>n.pointerType==="mouse"?r(n):void 0}var Hn=_r,Kn=Ye,Xn=Rr,Yn=Er,qn=Qe,Zn=Dr,Jn=Oe,Qn=Tr,es=Ir,rs=Lr,ts=zr,ns=Vr,ss=Wr,os=Gr,as=Br,Le="DropdownMenu",[ls,sa]=Ue(Le,[yr]),z=yr(),[cs,Kr]=ls(Le),Xr=r=>{const{__scopeDropdownMenu:n,children:t,dir:a,open:s,defaultOpen:o,onOpenChange:i,modal:d=!0}=r,c=z(n),h=l.useRef(null),[m,u]=Pt({prop:s,defaultProp:o??!1,onChange:i,caller:Le});return e.jsx(cs,{scope:n,triggerId:ir(),triggerRef:h,contentId:ir(),open:m,onOpenChange:u,onOpenToggle:l.useCallback(()=>u(f=>!f),[u]),modal:d,children:e.jsx(Hn,{...c,open:m,onOpenChange:u,dir:a,modal:d,children:t})})};Xr.displayName=Le;var Yr="DropdownMenuTrigger",qr=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,disabled:a=!1,...s}=r,o=Kr(Yr,t),i=z(t);return e.jsx(Kn,{asChild:!0,...i,children:e.jsx(q.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:Ge(n,o.triggerRef),onPointerDown:b(r.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:b(r.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});qr.displayName=Yr;var is="DropdownMenuPortal",Zr=r=>{const{__scopeDropdownMenu:n,...t}=r,a=z(n);return e.jsx(Xn,{...a,...t})};Zr.displayName=is;var Jr="DropdownMenuContent",Qr=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=Kr(Jr,t),o=z(t),i=l.useRef(!1);return e.jsx(Yn,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...a,ref:n,onCloseAutoFocus:b(r.onCloseAutoFocus,d=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:b(r.onInteractOutside,d=>{const c=d.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,m=c.button===2||h;(!s.modal||m)&&(i.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qr.displayName=Jr;var ds="DropdownMenuGroup",us=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(qn,{...s,...a,ref:n})});us.displayName=ds;var ms="DropdownMenuLabel",fs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(Zn,{...s,...a,ref:n})});fs.displayName=ms;var hs="DropdownMenuItem",et=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(Jn,{...s,...a,ref:n})});et.displayName=hs;var xs="DropdownMenuCheckboxItem",ps=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(Qn,{...s,...a,ref:n})});ps.displayName=xs;var gs="DropdownMenuRadioGroup",vs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(es,{...s,...a,ref:n})});vs.displayName=gs;var js="DropdownMenuRadioItem",bs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(rs,{...s,...a,ref:n})});bs.displayName=js;var ws="DropdownMenuItemIndicator",Ns=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(ts,{...s,...a,ref:n})});Ns.displayName=ws;var Cs="DropdownMenuSeparator",Ss=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(ns,{...s,...a,ref:n})});Ss.displayName=Cs;var ys="DropdownMenuArrow",Ms=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(ss,{...s,...a,ref:n})});Ms.displayName=ys;var _s="DropdownMenuSubTrigger",Ps=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(os,{...s,...a,ref:n})});Ps.displayName=_s;var Rs="DropdownMenuSubContent",Es=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...a}=r,s=z(t);return e.jsx(as,{...s,...a,ref:n,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Es.displayName=Rs;var Ds=Xr,As=qr,Ts=Zr,ks=Qr,Is=et;function Os({...r}){return e.jsx(Ds,{"data-slot":"dropdown-menu",...r})}function Ls({...r}){return e.jsx(As,{"data-slot":"dropdown-menu-trigger",...r})}function Fs({className:r,sideOffset:n=4,...t}){return e.jsx(Ts,{children:e.jsx(ks,{"data-slot":"dropdown-menu-content",sideOffset:n,className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-border p-1 shadow-md",r),...t})})}function ur({className:r,inset:n,variant:t="default",...a}){return e.jsx(Is,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":t,className:L("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...a})}function zs({viewMode:r,setViewMode:n,statusFilter:t,setStatusFilter:a}){return e.jsx(Pe,{className:"shadow-card mb-6 py-0",children:e.jsx(Re,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs(vt,{value:t,onValueChange:a,children:[e.jsxs(jt,{className:"w-[160px]",children:[e.jsx(sn,{className:"mr-2 h-4 w-4"}),e.jsx(bt,{placeholder:"Status"})]}),e.jsxs(wt,{children:[e.jsx(ue,{value:"all",children:"All Status"}),e.jsx(ue,{value:"confirmed",children:"Confirmed"}),e.jsx(ue,{value:"pending",children:"Pending"}),e.jsx(ue,{value:"completed",children:"Completed"}),e.jsx(ue,{value:"cancelled",children:"Cancelled"})]})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(gr,{value:r,onValueChange:n,children:e.jsxs(vr,{className:"h-9",children:[e.jsxs(he,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(cn,{className:"h-4 w-4"}),"List"]}),e.jsxs(he,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(an,{className:"h-4 w-4"}),"Calendar"]})]})})})]})})})}function Vs({title:r,value:n,badge:t}){return e.jsx(e.Fragment,{children:e.jsx(Pe,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(Re,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})})})})}function Ws(r,n,t){return br(r,-n,t)}function $s(r,n,t){return wr(r,-n,t)}function Gs(r,n){return l.useReducer((t,a)=>n[t][a]??t,r)}var tr="ScrollArea",[rt,oa]=Ue(tr),[Us,B]=rt(tr),tt=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,type:a="hover",dir:s,scrollHideDelay:o=600,...i}=r,[d,c]=l.useState(null),[h,m]=l.useState(null),[u,f]=l.useState(null),[x,v]=l.useState(null),[_,D]=l.useState(null),[y,A]=l.useState(0),[k,I]=l.useState(0),[F,j]=l.useState(!1),[V,H]=l.useState(!1),w=Y(n,W=>c(W)),P=jr(s);return e.jsx(Us,{scope:t,type:a,dir:P,scrollHideDelay:o,scrollArea:d,viewport:h,onViewportChange:m,content:u,onContentChange:f,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:F,onScrollbarXEnabledChange:j,scrollbarY:_,onScrollbarYChange:D,scrollbarYEnabled:V,onScrollbarYEnabledChange:H,onCornerWidthChange:A,onCornerHeightChange:I,children:e.jsx(q.div,{dir:P,...i,ref:w,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":k+"px",...r.style}})})});tt.displayName=tr;var nt="ScrollAreaViewport",st=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,children:a,nonce:s,...o}=r,i=B(nt,t),d=l.useRef(null),c=Y(n,d,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(q.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});st.displayName=nt;var Z="ScrollAreaScrollbar",ot=l.forwardRef((r,n)=>{const{forceMount:t,...a}=r,s=B(Z,r.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,d=r.orientation==="horizontal";return l.useEffect(()=>(d?o(!0):i(!0),()=>{d?o(!1):i(!1)}),[d,o,i]),s.type==="hover"?e.jsx(Bs,{...a,ref:n,forceMount:t}):s.type==="scroll"?e.jsx(Hs,{...a,ref:n,forceMount:t}):s.type==="auto"?e.jsx(at,{...a,ref:n,forceMount:t}):s.type==="always"?e.jsx(nr,{...a,ref:n}):null});ot.displayName=Z;var Bs=l.forwardRef((r,n)=>{const{forceMount:t,...a}=r,s=B(Z,r.__scopeScrollArea),[o,i]=l.useState(!1);return l.useEffect(()=>{const d=s.scrollArea;let c=0;if(d){const h=()=>{window.clearTimeout(c),i(!0)},m=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(ee,{present:t||o,children:e.jsx(at,{"data-state":o?"visible":"hidden",...a,ref:n})})}),Hs=l.forwardRef((r,n)=>{const{forceMount:t,...a}=r,s=B(Z,r.__scopeScrollArea),o=r.orientation==="horizontal",i=ze(()=>c("SCROLL_END"),100),[d,c]=Gs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,s.scrollHideDelay,c]),l.useEffect(()=>{const h=s.viewport,m=o?"scrollLeft":"scrollTop";if(h){let u=h[m];const f=()=>{const x=h[m];u!==x&&(c("SCROLL"),i()),u=x};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,o,c,i]),e.jsx(ee,{present:t||d!=="hidden",children:e.jsx(nr,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:b(r.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:b(r.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),at=l.forwardRef((r,n)=>{const t=B(Z,r.__scopeScrollArea),{forceMount:a,...s}=r,[o,i]=l.useState(!1),d=r.orientation==="horizontal",c=ze(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,m=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?h:m)}},10);return ie(t.viewport,c),ie(t.content,c),e.jsx(ee,{present:a||o,children:e.jsx(nr,{"data-state":o?"visible":"hidden",...s,ref:n})})}),nr=l.forwardRef((r,n)=>{const{orientation:t="vertical",...a}=r,s=B(Z,r.__scopeScrollArea),o=l.useRef(null),i=l.useRef(0),[d,c]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=ut(d.viewport,d.content),m={...a,sizes:d,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function u(f,x){return Js(f,i.current,d,x)}return t==="horizontal"?e.jsx(Ks,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,x=mr(f,d,s.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=u(f,s.dir))}}):t==="vertical"?e.jsx(Xs,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,x=mr(f,d);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=u(f))}}):null}),Ks=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:a,...s}=r,o=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=Y(n,c,o.onScrollbarXChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(ct,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,u)=>{if(o.viewport){const f=o.viewport.scrollLeft+m.deltaX;r.onWheelScroll(f),ft(f,u)&&m.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&a({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_e(i.paddingLeft),paddingEnd:_e(i.paddingRight)}})}})}),Xs=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:a,...s}=r,o=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=Y(n,c,o.onScrollbarYChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(ct,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,u)=>{if(o.viewport){const f=o.viewport.scrollTop+m.deltaY;r.onWheelScroll(f),ft(f,u)&&m.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&a({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_e(i.paddingTop),paddingEnd:_e(i.paddingBottom)}})}})}),[Ys,lt]=rt(Z),ct=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,sizes:a,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:m,onResize:u,...f}=r,x=B(Z,t),[v,_]=l.useState(null),D=Y(n,w=>_(w)),y=l.useRef(null),A=l.useRef(""),k=x.viewport,I=a.content-a.viewport,F=Q(m),j=Q(c),V=ze(u,10);function H(w){if(y.current){const P=w.clientX-y.current.left,W=w.clientY-y.current.top;h({x:P,y:W})}}return l.useEffect(()=>{const w=P=>{const W=P.target;(v==null?void 0:v.contains(W))&&F(P,I)};return document.addEventListener("wheel",w,{passive:!1}),()=>document.removeEventListener("wheel",w,{passive:!1})},[k,v,I,F]),l.useEffect(j,[a,j]),ie(v,V),ie(x.content,V),e.jsx(Ys,{scope:t,scrollbar:v,hasThumb:s,onThumbChange:Q(o),onThumbPointerUp:Q(i),onThumbPositionChange:j,onThumbPointerDown:Q(d),children:e.jsx(q.div,{...f,ref:D,style:{position:"absolute",...f.style},onPointerDown:b(r.onPointerDown,w=>{w.button===0&&(w.target.setPointerCapture(w.pointerId),y.current=v.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),H(w))}),onPointerMove:b(r.onPointerMove,H),onPointerUp:b(r.onPointerUp,w=>{const P=w.target;P.hasPointerCapture(w.pointerId)&&P.releasePointerCapture(w.pointerId),document.body.style.webkitUserSelect=A.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})})})}),Me="ScrollAreaThumb",it=l.forwardRef((r,n)=>{const{forceMount:t,...a}=r,s=lt(Me,r.__scopeScrollArea);return e.jsx(ee,{present:t||s.hasThumb,children:e.jsx(qs,{ref:n,...a})})}),qs=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,style:a,...s}=r,o=B(Me,t),i=lt(Me,t),{onThumbPositionChange:d}=i,c=Y(n,u=>i.onThumbChange(u)),h=l.useRef(void 0),m=ze(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const u=o.viewport;if(u){const f=()=>{if(m(),!h.current){const x=Qs(u,d);h.current=x,d()}};return d(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[o.viewport,m,d]),e.jsx(q.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:b(r.onPointerDownCapture,u=>{const x=u.target.getBoundingClientRect(),v=u.clientX-x.left,_=u.clientY-x.top;i.onThumbPointerDown({x:v,y:_})}),onPointerUp:b(r.onPointerUp,i.onThumbPointerUp)})});it.displayName=Me;var sr="ScrollAreaCorner",dt=l.forwardRef((r,n)=>{const t=B(sr,r.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?e.jsx(Zs,{...r,ref:n}):null});dt.displayName=sr;var Zs=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,...a}=r,s=B(sr,t),[o,i]=l.useState(0),[d,c]=l.useState(0),h=!!(o&&d);return ie(s.scrollbarX,()=>{var u;const m=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(m),c(m)}),ie(s.scrollbarY,()=>{var u;const m=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(m),i(m)}),h?e.jsx(q.div,{...a,ref:n,style:{width:o,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function _e(r){return r?parseInt(r,10):0}function ut(r,n){const t=r/n;return isNaN(t)?0:t}function Fe(r){const n=ut(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=(r.scrollbar.size-t)*n;return Math.max(a,18)}function Js(r,n,t,a="ltr"){const s=Fe(t),o=s/2,i=n||o,d=s-i,c=t.scrollbar.paddingStart+i,h=t.scrollbar.size-t.scrollbar.paddingEnd-d,m=t.content-t.viewport,u=a==="ltr"?[0,m]:[m*-1,0];return mt([c,h],u)(r)}function mr(r,n,t="ltr"){const a=Fe(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,o=n.scrollbar.size-s,i=n.content-n.viewport,d=o-a,c=t==="ltr"?[0,i]:[i*-1,0],h=Nt(r,c);return mt([0,i],[0,d])(h)}function mt(r,n){return t=>{if(r[0]===r[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(r[1]-r[0]);return n[0]+a*(t-r[0])}}function ft(r,n){return r>0&&r<n}var Qs=(r,n=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},a=0;return function s(){const o={left:r.scrollLeft,top:r.scrollTop},i=t.left!==o.left,d=t.top!==o.top;(i||d)&&n(),t=o,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function ze(r,n){const t=Q(r),a=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(a.current),[]),l.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,n)},[t,n])}function ie(r,n){const t=Q(n);Rt(()=>{let a=0;if(r){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return s.observe(r),()=>{window.cancelAnimationFrame(a),s.unobserve(r)}}},[r,t])}var eo=tt,ro=st,to=dt;function fr({className:r,children:n,...t}){return e.jsxs(eo,{"data-slot":"scroll-area",className:L("relative",r),...t,children:[e.jsx(ro,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(no,{}),e.jsx(to,{})]})}function no({className:r,orientation:n="vertical",...t}){return e.jsx(ot,{"data-slot":"scroll-area-scrollbar",orientation:n,className:L("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:e.jsx(it,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const re={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},so=r=>new Date(r),hr=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];function oo({appointments:r,onReschedule:n,onConfirm:t,onCancel:a}){var F,j,V,H,w,P,W;const[s,o]=l.useState(new Date),[i,d]=l.useState("month"),[c,h]=l.useState(null),[m,u]=l.useState(!1),f=S=>r==null?void 0:r.filter(N=>me(so(N==null?void 0:N.appointment_date),S)).sort((N,g)=>N==null?void 0:N.time_slot.localeCompare(g==null?void 0:g.time_slot)),x=(S,N)=>{N.stopPropagation(),h(S),u(!0)},v=()=>{o(i==="month"?Ws(s,1):i==="week"?$s(s,1):we(s,-1))},_=()=>{o(i==="month"?br(s,1):i==="week"?wr(s,1):we(s,1))},D=()=>{if(i==="month")return G(s,"MMMM yyyy");if(i==="week"){const S=We(s),N=lr(s);return`${G(S,"MMM d")} - ${G(N,"MMM d, yyyy")}`}else return G(s,"EEEE, MMMM d, yyyy")},y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=()=>{const S=Vt(s),N=Wt(S),g=We(S),R=lr(N),E=[];let O=g;for(;O<=R;)E.push(O),O=we(O,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:y.map(C=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:E.map((C,p)=>{const M=f(C),$=$t(C,s),K=me(C,new Date);return e.jsxs("div",{className:L("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!$&&"bg-muted/30 opacity-50",K&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:L("text-sm font-medium mb-2",K&&"text-primary",!$&&"text-muted-foreground"),children:G(C,"d")}),e.jsxs("div",{className:"space-y-1",children:[M.slice(0,3).map(X=>{var le;return e.jsxs("button",{onClick:be=>x(X,be),className:L("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",re[X.status].class),children:[e.jsx("span",{className:"font-medium",children:X.time_slot})," - ",(le=X==null?void 0:X.patient)==null?void 0:le.first_name.split(" ")[0]]},X.id)}),(M==null?void 0:M.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",M.length-3," more"]})]})]},p)})})]})},k=()=>{const S=We(s),N=[];for(let g=0;g<7;g++)N.push(we(S,g));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",N.map(g=>{const R=me(g,new Date);return e.jsxs("div",{className:L("text-center py-2 rounded-lg",R&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:G(g,"EEE")}),e.jsx("div",{className:L("text-lg font-semibold",R&&"text-primary"),children:G(g,"d")})]},g.toISOString())})]}),e.jsx(fr,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:hr.map(g=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:g},g),N.map(R=>{const O=f(R).filter(p=>p.time===g),C=me(R,new Date);return e.jsx("div",{className:L("min-h-[60px] p-1 border border-border rounded transition-colors",C&&"bg-primary/5"),children:O.map(p=>e.jsxs("button",{onClick:M=>x(p,M),className:L("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02]",re[p.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:p.patientName}),e.jsx("div",{className:"truncate opacity-80",children:p.type})]},p.id))},`${R.toISOString()}-${g}`)})]}))})})]})},I=()=>{const S=f(s),N=me(s,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:L("text-center py-4 rounded-lg mb-4",N&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"EEEE")}),e.jsx("div",{className:L("text-3xl font-bold",N&&"text-primary"),children:G(s,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"MMMM yyyy")})]}),e.jsx(fr,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:hr.map(g=>{const R=S.filter(E=>E.time===g);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:g}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:R.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:R.map(E=>e.jsx("button",{onClick:O=>x(E,O),className:L("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01]",re[E.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:E.patientName}),e.jsx("div",{className:"text-sm opacity-80",children:E.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:E.doctor}),e.jsx(te,{variant:"outline",className:"mt-1",children:re[E.status].label})]})]})},E.id))})})]},g)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"shadow-card w-full",children:e.jsxs(Re,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:D()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(re).map(([S,N])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:L("px-2 py-0.5 rounded text-xs",N.class),children:N.label})},S))}),e.jsx(gr,{value:i,onValueChange:S=>d(S),children:e.jsxs(vr,{className:"h-9",children:[e.jsx(he,{value:"month",className:"px-3",children:"Month"}),e.jsx(he,{value:"week",className:"px-3",children:"Week"}),e.jsx(he,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:v,children:e.jsx(yt,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",onClick:()=>o(new Date),children:"Today"}),e.jsx(T,{variant:"outline",size:"icon",onClick:_,children:e.jsx(Lt,{className:"h-4 w-4"})})]})]})]}),i==="month"&&A(),i==="week"&&k(),i==="day"&&I()]})}),e.jsx(Ee,{open:m,onOpenChange:u,children:e.jsx(De,{className:"sm:max-w-[500px]",children:c&&e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(F=c==null?void 0:c.patient)==null?void 0:F.first_name.split(" ").map(S=>S[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(j=c==null?void 0:c.patient)==null?void 0:j.first_name}),e.jsx(te,{className:L("mt-1",re[c.status].class),children:re[c.status].label})]})]}),e.jsx(ke,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(ne,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:c.appointment_date})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(xe,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:c.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(zt,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((V=c==null?void 0:c.clinic)==null?void 0:V.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Be,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((H=c==null?void 0:c.appointable)==null?void 0:H.name)??"Next Available Provider"," "]}),(c==null?void 0:c.appointable)&&e.jsx(te,{variant:"outline",children:c==null?void 0:c.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(w=c==null?void 0:c.patient)==null?void 0:w.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(W=(P=c==null?void 0:c.patient)==null?void 0:P.email)==null?void 0:W.toLowerCase()})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[c.status==="pending"&&e.jsx(T,{className:"flex-1",onClick:()=>{t(c),u(!1)},children:"Confirm"}),(c.status==="pending"||c.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",className:"flex-1",onClick:()=>{n(c),u(!1)},children:"Reschedule"}),e.jsx(T,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{a(c),u(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function ao({open:r,onOpenChange:n,appointment:t,onCancel:a}){var s,o;return e.jsx(Ee,{open:r,onOpenChange:n,children:e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Ae,{children:[e.jsx(Te,{children:"Cancel Appointment"}),e.jsx(ke,{children:"Are you sure you want to cancel this appointment?"})]}),t&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(s=t==null?void 0:t.patient)==null?void 0:s.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(o=t==null?void 0:t.appointable)==null?void 0:o.name})]})}),e.jsxs(Ne,{children:[e.jsx(T,{variant:"outline",onClick:()=>n(!1),children:"Keep Appointment"}),e.jsxs(T,{variant:"destructive",onClick:a,children:[e.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function lo({appointment:r,sendEmail:n,sendSMS:t}){var a;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(Xe,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(a=r==null?void 0:r.patient)==null?void 0:a.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(n||t)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),n&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),"Email"]}),t&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),"SMS"]})]})]})}function co({open:r,onOpenChange:n,appointment:t,onConfirm:a,processing:s,isConfirmed:o}){var D,y,A,k,I,F;const[i,d]=l.useState(""),[c,h]=l.useState(!0),[m,u]=l.useState(!0),[f,x]=l.useState("details"),v=()=>{d(""),h(!0),u(!0),x("details"),n(!1)};l.useEffect(()=>{o&&x("success")},[o]);const _=()=>{if(t){const j=[];c&&j.push("email"),m&&j.push("sms"),a(t,i,j)}};return t?e.jsx(Ee,{open:r,onOpenChange:v,children:e.jsx(De,{className:"max-w-md",children:f==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(ke,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(y=(D=t==null?void 0:t.patient)==null?void 0:D.first_name)==null?void 0:y.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(A=t==null?void 0:t.patient)==null?void 0:A.first_name}),((k=t==null?void 0:t.dentalservice)==null?void 0:k.name)&&e.jsx(te,{variant:"outline",className:"mt-1",children:(I=t==null?void 0:t.dentalservice)==null?void 0:I.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:(F=t==null?void 0:t.appointable)==null?void 0:F.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(Ut,{placeholder:"Add any notes or instructions for the patient...",value:i,onChange:j=>d(j.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(cr,{id:"email",checked:c,onCheckedChange:j=>h(!!j)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(cr,{id:"sms",checked:m,onCheckedChange:j=>u(!!j)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(Ne,{children:[e.jsx(T,{variant:"outline",onClick:v,children:"Cancel"}),e.jsxs(T,{onClick:_,disabled:s,children:[" ",s?e.jsx(Bt,{className:"w-5 animate-spin"}):"Confirm Appointment"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(lo,{appointment:t,sendEmail:c,sendSMS:m}),e.jsx(Ne,{children:e.jsx(T,{onClick:v,className:"w-full",children:"Done"})})]})})}):null}const io=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function uo({open:r,onOpenChange:n,appointment:t,onReschedule:a}){var y,A,k,I,F;const[s,o]=l.useState(),[i,d]=l.useState(""),[c,h]=l.useState(""),[m,u]=l.useState(""),[f,x]=l.useState("select"),v=()=>{o(void 0),d(""),h(""),u(""),x("select"),n(!1)},_=()=>{s&&i&&x("confirm")},D=()=>{t&&s&&i&&(a(t,s,i,m),v())};return t?e.jsx(Ee,{open:r,onOpenChange:v,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(ke,{children:["Select a new date and time for ",(y=t==null?void 0:t.patient)==null?void 0:y.first_name,"'s"," ",(A=t==null?void 0:t.type)==null?void 0:A.toLowerCase()," appointment"]})]}),f==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(I=(k=t==null?void 0:t.patient)==null?void 0:k.first_name)==null?void 0:I.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(F=t==null?void 0:t.patient)==null?void 0:F.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t==null?void 0:t.time_slot]})]}),e.jsx(te,{variant:"outline",children:t==null?void 0:t.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select New Date"}),e.jsx(Gt,{mode:"single",selected:s,onSelect:o,disabled:j=>j<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:io.map(j=>e.jsx(T,{type:"button",variant:i===j?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(j),children:j},j))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(en,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:s&&G(s,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(xe,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:i})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(Ne,{children:f==="select"?e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",onClick:v,children:"Cancel"}),e.jsx(T,{onClick:_,disabled:!s||!i,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",onClick:()=>x("select"),children:"Back"}),e.jsx(T,{onClick:D,children:"Confirm Reschedule"})]})})]})}):null}const xr={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function mo({appointments:r,showActions:n=!0,onReschedule:t,onConfirm:a,onCancel:s}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),n&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(o=>{var i,d,c;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(qt,{text:(i=o==null?void 0:o.patient)==null?void 0:i.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:o==null?void 0:o.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:o==null?void 0:o.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=o==null?void 0:o.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((c=o==null?void 0:o.clinic)==null?void 0:c.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:L("badge-status",xr[o==null?void 0:o.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),xr[o.status].label]})}),n&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.status==="pending"&&a&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>a(o),children:[e.jsx(Xe,{className:"h-4 w-4"}),"Confirm"]}),(o.status==="pending"||o.status==="confirmed")&&t&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>t(o),children:[e.jsx(Jt,{className:"h-4 w-4"}),"Reschedule"]}),(o.status==="pending"||o.status==="confirmed")&&s&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>s(o),children:[e.jsx(Nr,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(Os,{children:[e.jsx(Ls,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(tn,{className:"h-4 w-4"})})}),e.jsxs(Fs,{align:"end",children:[e.jsx(ur,{children:"View Details"}),e.jsx(ur,{children:"Edit Notes"})]})]})]})})]},o.id)})})]})})}const fo={pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"};function aa({appointments:r,statusFilter:n,monthlyStats:t}){const{auth:a}=ht().props,s=a.user.role,[o,i]=l.useState("calendar"),[d,c]=l.useState(!1),[h,m]=l.useState(null),[u,f]=l.useState(!1),[x,v]=l.useState(!1),[_,D]=l.useState(!1),[y,A]=l.useState(!1),k=g=>{m(g),c(!0)},I=g=>{A(!1),m(g),f(!0)},{data:F,put:j,processing:V}=xt({}),H=g=>{const R=g.replace(/\s+/g," ").replace(/\u202F/g," "),[E,O]=R.split(" ");let[C,p]=E.split(":");return C==="12"&&(C="00"),O==="PM"&&(C=parseInt(C,10)+12),`${C}:${p}`},w=(g,R,E,O)=>{let C="appointments.reschedule";s==="clinic_admin"&&(C="clinic.appointments.reschedule"),s==="clinic_user"&&(C="clinic.user.appointments.reschedule");const p=H(E),M=G(R,"yyyy-MM-dd");Ve.put(route(C,{appointment:g.id}),{new_slot:p,new_dt:M})},P=(g,R,E)=>{let O="appointments.confirm";s==="clinic_admin"&&(O="clinic.appointments.confirm"),s==="clinic_user"&&(O="clinic.user.appointments.confirm"),D(!0),j(route(O,{appointment:h}),{content:R,notifications:E,onFinish:()=>{D(!1),A(!0)}})},W=g=>{m(g),v(!0)},S=()=>{let g="appointments.cancel";h&&(s==="clinic_admin"&&(g="clinic.appointments.cancel"),s==="clinic_user"&&(g="clinic.user.appointments.cancel"),Ve.put(route(g,{appointment:h}),{onFinish:()=>{v(!1)},onSuccess:()=>{v(!1)}}),v(!1))},N=g=>{Ve.get(route("appointments.index",{status:g},{preserveState:!0,replace:!0}))};return e.jsxs(Mt,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:Object.entries(t).map(([g,R])=>e.jsx(Vs,{title:fo[g]??g,value:R},g))}),e.jsx(zs,{viewMode:o,setViewMode:g=>i(g),statusFilter:n,setStatusFilter:g=>N(g)}),o==="list"?e.jsxs(Pe,{className:"shadow-card",children:[e.jsx(pt,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(gt,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(Re,{className:"p-0 pt-4",children:e.jsx(mo,{appointments:r,onReschedule:k})})]}):e.jsx(oo,{appointments:r,onReschedule:k,onConfirm:I,onCancel:W}),e.jsx(uo,{open:d,onOpenChange:c,appointment:h,onReschedule:w}),e.jsx(co,{open:u,onOpenChange:f,appointment:h,onConfirm:P,processing:_,isConfirmed:y}),e.jsx(ao,{open:x,onOpenChange:v,appointment:h,onCancel:S})]})}export{aa as default};
