import{W as x,r as h,j as a}from"./app-UUdjsTkB.js";import{A as y}from"./AuthenticatedLayout-Du4dUmI-.js";import{S as j}from"./ServiceImageHeaderUploader-rfTchv1p.js";import{C as f,a as k,b as v,c as C,d as S}from"./card-D8l0d7TN.js";import{L as g}from"./label-aUTBcwx5.js";import{I as m}from"./input-Dj0Ej_w5.js";import{B as N}from"./button-DS4Vdg1W.js";import{B as b}from"./building-2-CFoPTE2h.js";import"./app-Bqpq0L9t.js";import"./index-CFokBAF2.js";import"./createLucideIcon-CdNpCLiX.js";import"./stethoscope-JWrV9WqX.js";import"./index-_RV-OBit.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./index-qcSq6EF2.js";function W({settings:l,group:o}){const{data:w,setData:c,post:i,progress:n}=x({_method:"put",settings:{}}),[t,p]=h.useState(l.reduce((e,r)=>(e[r.key]=r.type==="json"?JSON.stringify(r.value,null,2):r.value,e),{})),s=(e,r)=>{p(u=>({...u,[e]:r})),c("settings",{...t,[e]:r})},d=e=>{e.preventDefault(),i(route("admin.settings.update",o),{forceFormData:!0})};return a.jsx(a.Fragment,{children:a.jsx(y,{header:`Settings (${o})`,pageTitle:`Settings (${o})`,children:a.jsxs(f,{className:"shadow-card",children:[a.jsxs(k,{children:[a.jsxs(v,{className:"flex items-center gap-2",children:[a.jsx(b,{className:"h-5 w-5 text-primary"}),"Settings"]}),a.jsx(C,{children:"Handle with care"})]}),a.jsx(S,{className:"space-y-4",children:a.jsxs("form",{onSubmit:d,className:"space-y-4",encType:"multipart/form-data",children:[l.map(e=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs(g,{children:[" ",e.key.replace(/_/g," ")]}),e.type==="boolean"&&a.jsx(m,{type:"checkbox",checked:!!t[e.key],onChange:r=>s(e.key,r.target.checked?1:0)}),e.type==="string"&&a.jsx(m,{type:"text",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="number"&&a.jsx(m,{type:"number",value:t[e.key]||"",onChange:r=>s(e.key,r.target.value)}),e.type==="json"&&a.jsx("textarea",{value:t[e.key]||"",onChange:r=>s(e.key,r.target.value),className:"border rounded p-2 w-full",rows:4}),e.type==="file"&&a.jsx("div",{className:"space-y-2",children:a.jsx(j,{onFileSelect:r=>s(e.key,r),existingImage:e.file_url})})]},e.id)),n&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Uploading: ",n.percentage,"%"]}),a.jsx(N,{className:"mt-4",type:"submit",children:"Save Settings"})]})})]})})})}export{W as default};
