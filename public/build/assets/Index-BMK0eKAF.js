import{j as s,q as n}from"./app-DlSJyjXm.js";import{D as N}from"./Pagination-BvUkSeA5.js";import"./select-CRD4gvpv.js";import{C as b,d as v,e as o}from"./card-CcK6MFIN.js";import{M as w,B as l,A as p}from"./AuthenticatedLayout-b1-C_Wn2.js";import{c as m}from"./button-MRkm1NrB.js";import{L as C}from"./link-button-ByOzW0Cd.js";import{P as h}from"./paperclip-MgyIP_do.js";import{E as y}from"./eye-COvboXPu.js";import{C as g}from"./clock-B5JXuvDJ.js";import{S}from"./shield-JS6MSmXE.js";import{C as j}from"./circle-check-big-QlwkW1Fp.js";import{F as _}from"./file-exclamation-point-C4jXv96p.js";import{S as d,N as R}from"./summary-card-BKlLP6Mp.js";import{S as k}from"./stethoscope-DjoQowta.js";import"./app-Bqpq0L9t.js";import"./index-HuXAq76-.js";import"./index-YbY15Erd.js";import"./index-Bm3mwUCm.js";import"./chevron-down-sFG26WcG.js";import"./createLucideIcon-CPoiTVFb.js";import"./check-CCZM_zdk.js";import"./index-DzcFsrAw.js";import"./floating-ui.dom-CHyJ_zCg.js";import"./tslib.es6-BUas5LQb.js";import"./input-BabDYJuI.js";const x={in_review:{label:"In Review",icon:g,class:"bg-warning/10 text-warning"},insurance_review:{label:"Insurance Review",icon:S,class:"bg-info/10 text-info"},answered:{label:"Answered",icon:j,class:"bg-success/10 text-success"},closed:{label:"Closed",icon:j,class:"bg-success/10 text-success"},pending:{label:"Pending",icon:_,class:"bg-destructive/10 text-destructive"}};function O({opinion:e}){var a,t,r,u,i,f;const c=(a=x[e==null?void 0:e.status])==null?void 0:a.icon;return s.jsxs(b,{className:` 
                     shadow-card hover:shadow-card-hover transition-all animate-fade-in mb-5`,children:[s.jsx(v,{className:"p-6 pb-0",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:s.jsx(w,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h3",{className:"font-semibold",children:(t=e==null?void 0:e.patient)==null?void 0:t.first_name}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["SO-",e.id]}),e.is_quick&&s.jsx(l,{children:"Quick"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.category&&s.jsx(l,{variant:"secondary",children:e.category}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Requested ",e==null?void 0:e.created_at]})]})]})]}),s.jsxs(l,{className:m("flex items-center gap-1",(r=x[e==null?void 0:e.status])==null?void 0:r.class),children:[s.jsx(c,{className:"h-3 w-3"}),(u=x[e==null?void 0:e.status])==null?void 0:u.label]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"rounded-lg bg-muted/50 p-4",children:s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:e==null?void 0:e.subject})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.description})]}),(e==null?void 0:e.replies)&&s.jsxs("div",{className:m("rounded-lg border p-4",(e==null?void 0:e.status)==="rejected"?"border-destructive/30 bg-destructive/5":"border-success/30 bg-success/5"),children:[s.jsx("p",{className:m("text-sm font-medium mb-1 text-success"),children:(e==null?void 0:e.status)==="rejected"?"Rejection Response":"Expert Response"}),s.jsx("p",{className:"text-sm text-foreground",children:(i=e==null?void 0:e.replies)==null?void 0:i.reply_message}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{children:(f=e.replies)==null?void 0:f.file_name})]})]})]})}),s.jsx(o,{className:"mt-0",children:s.jsxs("div",{className:"w-full flex items-center justify-between border-t border-border pt-4 mt-0 ",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.attachments," attachments"]})]}),s.jsxs(C,{size:"sm",href:route("second-opinion.show",e),children:[s.jsx(y,{className:"h-4 w-4 mr-2"}),"View Details"]})]})})]},e.id)}function te(){const{so_pending_count:e,so_review_count:c,so_completed_count:a,secondopinions:t}=n().props;return s.jsxs(p,{header:"Second Opinion",pageTitle:"All Second Opinions",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[s.jsx(d,{title:"Opinion Requests",value:e,icon:g,iconColor:"warning"}),s.jsx(d,{title:"In Review",value:c,icon:k,iconColor:"info"}),s.jsx(d,{title:"Completed Opinions",value:a,icon:R,iconColor:"primary"})]}),t.data.map(r=>s.jsx(O,{opinion:r},r.id)),s.jsx(N,{links:t.links})]})}export{te as default};
