import{r as a,W as g,j as e,b as N}from"./app-Dk56MVmL.js";import"./TextInput-Db3mraBy.js";import{S as r}from"./react-select.esm-CwWx1f_M.js";import"./index-oZ_CdorE.js";function R({clinic:l}){const[f,i]=a.useState([]),[d,m]=a.useState([]),[y,o]=a.useState(!1),[b,C]=a.useState(()=>l.branches.map(s=>({value:s.id,label:s.name}))),c=a.useRef(null),h=s=>{n("services",s)},u=s=>{n("branch_id",s.value)},{data:M,setData:n,post:v,processing:F,errors:w,reset:x}=g({clinic_branch_id:"",services:""}),j=()=>{const s=bootstrap.Modal.getInstance(c.current);x(),s.toggle()},p=async()=>{o(!0);try{const s=await N.get("/dental-services");i(s.data),m(()=>s.data.map(t=>({value:t.id,label:t.name})))}catch(s){console.error("Error Fetching Data",s)}finally{o(!1)}},S=s=>{s.preventDefault(),v(route("clinics.services.store",l),{onFinish:j,onError:t=>{console.log(t)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-grid mb-3",children:e.jsxs("button",{className:"btn btn-outline-primary  btn-dashed-outline","data-bs-toggle":"modal","data-bs-target":"#addServiceModal",onClick:p,children:[e.jsx("i",{className:"bi-hospital me-1"})," Add Service to Clinic/Branch"]})}),e.jsx("div",{id:"addServiceModal",className:"modal fade modal-lg",ref:c,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:"Add Clinic"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{action:"",onSubmit:S,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Branch "}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:b,onChange:u})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Services "}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:d,isMulti:!0,onChange:h})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Clinic"})]})]})})]})})})]})}export{R as default};
