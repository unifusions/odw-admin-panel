import{r as a,W as f,j as e,b as N}from"./app-Cxiu3gMj.js";import"./TextInput-V98molNJ.js";import{S as C}from"./SubmitButton-DANSN6OC.js";import{S as c}from"./react-select.esm-DAbhpmGS.js";import"./app-Dgm9znLA.js";import"./button-BsSaNFyx.js";import"./loader-DQQM4Jhf.js";import"./createLucideIcon-D4P67K03.js";import"./index-CnyDuYXe.js";import"./index-CsONDyV6.js";import"./floating-ui.dom-g0iQpA8R.js";function W({clinic:l}){const[y,n]=a.useState([]),[d,m]=a.useState([]),[M,o]=a.useState(!1),[h,B]=a.useState(()=>l.branches.map(s=>({value:s.id,label:s.name}))),r=a.useRef(null),b=s=>{i("services",s)},u=s=>{i("branch_id",s.value)},{data:F,setData:i,post:v,processing:x,errors:w,reset:p}=f({clinic_branch_id:"",services:""}),j=()=>{const s=bootstrap.Modal.getInstance(r.current);p(),s.toggle()},S=async()=>{o(!0);try{const s=await N.get("/dental-services");n(s.data),m(()=>s.data.map(t=>({value:t.id,label:t.name})))}catch(s){console.error("Error Fetching Data",s)}finally{o(!1)}},g=s=>{s.preventDefault(),v(route("clinics.services.store",l),{onFinish:j,onError:t=>{console.log(t)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-grid mb-3",children:e.jsxs("button",{className:"btn btn-outline-primary  btn-dashed-outline","data-bs-toggle":"modal","data-bs-target":"#addServiceModal",onClick:S,children:[e.jsx("i",{className:"bi-hospital me-1"})," Add Service to Clinic/Branch"]})}),e.jsx("div",{id:"addServiceModal",className:"modal fade modal-lg",ref:r,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:"Add Clinic"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{action:"",onSubmit:g,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Branch "}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{options:h,onChange:u})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"",className:"col-sm-3 col-form-label form-label",children:"Services "}),e.jsx("div",{className:"col-sm-9",children:e.jsx(c,{options:d,isMulti:!0,onChange:b})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx(C,{processing:x,actionText:"Save Clinic"})]})]})})]})})})]})}export{W as default};
