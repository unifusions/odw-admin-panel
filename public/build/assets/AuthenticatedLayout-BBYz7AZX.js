import{r as a,y,j as e,b as R,a as j,Y as O,W as D,q as w}from"./app-Cxiu3gMj.js";import{y as E,L as U}from"./index-Goy6Z_Xv.js";import{t as q,b as F,c as f,a as V,S as K}from"./button-BsSaNFyx.js";import{I as B}from"./input-CHhF9hnF.js";import{c as d}from"./createLucideIcon-D4P67K03.js";import{a as P,C as k,M as C}from"./message-square-CqUX1aWG.js";import{S as T}from"./stethoscope-B1VJ4sY7.js";function W(){const[c,o]=a.useState(!1);return a.useEffect(()=>{const r=y.on("start",()=>o(!0)),l=y.on("finish",()=>o(!1)),i=y.on("error",()=>o(!1));return()=>{r(),l(),i()}},[]),c}function G(...c){return q(F(c))}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],Y=d("badge-percent",Q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],J=d("chevron-left",Z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ee=d("file-text",X);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M14 9h-4",key:"1w2s2s"}],["path",{d:"M18 11h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"1tthqt"}],["path",{d:"M18 21V5a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16",key:"dw4p4i"}]],se=d("hospital",te);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],N=d("layout-dashboard",ae);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ne=d("log-out",re);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ie=d("search",oe);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],de=d("settings",ce);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],ue=d("user-pen",le);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M16.051 12.616a1 1 0 0 1 1.909.024l.737 1.452a1 1 0 0 0 .737.535l1.634.256a1 1 0 0 1 .588 1.806l-1.172 1.168a1 1 0 0 0-.282.866l.259 1.613a1 1 0 0 1-1.541 1.134l-1.465-.75a1 1 0 0 0-.912 0l-1.465.75a1 1 0 0 1-1.539-1.133l.258-1.613a1 1 0 0 0-.282-.866l-1.156-1.153a1 1 0 0 1 .572-1.822l1.633-.256a1 1 0 0 0 .737-.535z",key:"1m8t9f"}],["path",{d:"M8 15H7a4 4 0 0 0-4 4v2",key:"l9tmp8"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],he=d("user-star",me);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],L=d("users",fe);function xe(){const[c,o]=a.useState(!1),[r,l]=a.useState(""),[i,m]=a.useState([]),[n,h]=a.useState(-1),[_e,S]=a.useState(!1),g=a.useRef(null);a.useEffect(()=>{const t=s=>{(s.ctrlKey||s.metaKey)&&s.key==="k"?(s.preventDefault(),o(u=>!u)):s.key==="Escape"&&o(!1)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const A=async t=>{const s=t.target.value;if(l(s),s.length<2){m([]),h(-1);return}x(!0),S(!0);const u=await R.get(route("search"),{params:{q:s}});m(u.data),h(-1),S(!1)},z=({item:t,type:s})=>e.jsx(j,{class:"dropdown-item",href:t.route,children:e.jsxs("div",{class:"flex w-full items-center gap-3 px-3 py-2 text-left transition-colors",children:[e.jsx("div",{class:"h-10 w-10  flex-shrink-0",children:t.photo?e.jsx("img",{class:"avatar avatar-xs avatar-circle",src:t.photo,alt:""}):e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:t.name[0]})}),e.jsxs("div",{class:"flex-1 overflow-hidden",children:[e.jsx("p",{className:"truncate text-sm font-medium",children:t.name}),e.jsx("p",{className:"truncate text-xs text-muted-foreground",children:s})]})]})}),H=({group:t,result:s})=>e.jsxs(e.Fragment,{children:[s.map(u=>e.jsx(z,{item:u,type:t})),e.jsx("div",{class:"dropdown-divider"})]}),I=(t,s)=>{switch(t){default:return s.length>0&&e.jsx(H,{group:t,result:s})}},[_,x]=a.useState(!1),[M,b]=a.useState(0),p=a.useRef(null),v=a.useRef(null);route(),a.useEffect(()=>{b(0)},[r]),a.useEffect(()=>{const t=s=>{v.current&&!v.current.contains(s.target)&&p.current&&!p.current.contains(s.target)&&x(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const $=t=>{var s;if(_)switch(t.key){case"ArrowDown":t.preventDefault(),b(u=>(u+1)%i.length);break;case"ArrowUp":t.preventDefault(),b(u=>(u-1+i.length)%i.length);break;case"Enter":t.preventDefault(),i[M]&&handleSelect(i[M]);break;case"Escape":x(!1),(s=p.current)==null||s.blur();break}};return a.useEffect(()=>{const t=s=>{g.current&&!g.current.contains(s.target)&&(x(!1),l(""))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{ref:g,className:"relative w-full ",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(B,{ref:p,type:"text",placeholder:"Search appointments, opinions, estimates...",value:r,onChange:A,onKeyDown:$,className:"h-9 w-full border-1 border-border bg-background pl-9 pr-4 text-sm focus-visible:border-border focus-visible:border-foreground focus-visible:ring-0"})]}),_&&Object.keys(i).length>0&&e.jsxs("div",{ref:v,className:"absolute top-full z-50 mt-1 w-full overflow-hidden border border-border  bg-background shadow-lg",children:[r.trim()===""&&e.jsx("div",{className:"border-b border-border px-3 py-2",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"Search Results"})}),e.jsx("div",{className:"max-h-100 overflow-y-auto",children:Object.keys(i).map(t=>I(t,i[t]))})]})]})})}const pe=V("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function ge({className:c,variant:o="default",asChild:r=!1,...l}){const i=r?K:"span";return e.jsx(i,{"data-slot":"badge","data-variant":o,className:f(pe({variant:o}),c),...l})}function be({title:c,subtitle:o}){return e.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-gray-300 bg-background/95 px-6 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[e.jsx(O,{title:c}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-foreground",children:c}),o&&e.jsx("p",{className:"text-sm text-muted-foreground",children:o})]}),e.jsx("div",{className:"flex items-center gap-4 w-1/3",children:e.jsx("div",{className:"relative hidden md:block w-full",children:e.jsx(xe,{})})})]})}const ve=[{name:"Dashboard",href:"/admin/dashboard",icon:N},{name:"Appointments",href:"/admin/appointments",icon:k,badge:12},{name:"Second Opinion",href:"/admin/second-opinion",icon:C,badge:3},{name:"Dental Estimates",href:"/admin/estimates",icon:ee,badge:5},{name:"Compare Costs",href:"/admin/compare-costs",icon:C,badge:3},{name:"Patients",href:"/admin/patients",icon:L},{name:"Clinics",href:"/admin/clinics",icon:se,svgIcon:""},{name:"Dentists",href:"/admin/dentists",icon:ue},{name:"Specialists",href:"/admin/specialists",icon:he},{name:"Users",href:"/admin/clinic-users",icon:L},{name:"Treatments",href:"/admin/services",icon:T},{name:"Deals",href:"/admin/deals",icon:Y},{name:"Settings",href:"/admin/settings/mobile",icon:de}],ye=[{name:"Dashboard",href:"/clinic/admin/dashboard",icon:N},{name:"Appointments",href:"/clinic/admin/appointments",icon:k,badge:12}],je=[{name:"Dashboard",href:"/clinic/user/dashboard",icon:N},{name:"Appointments",href:"/clinic/user/appointments",icon:k,badge:12}],we={super_admin:"Administrator",moderator:"Moderator",clinic_user:"Clinic Staff",clinic_admin:"Clinic Admin"},ke={super_admin:"bg-accent text-accent-foreground",moderator:"bg-info text-info-foreground",clinic_user:"bg-success text-success-foreground"},Ne={super_admin:ve,clinic_admin:ye,clinic_user:je};function Se({userRole:c,userName:o}){route().current();const[r,l]=a.useState(!1),{post:i}=D();let m=Ne[c];return e.jsxs("aside",{className:f("fixed left-0 top-0 z-40 flex h-screen flex-col bg-sidebar transition-all duration-300",r?"w-20":"w-64"),children:[e.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-sidebar-border px-4",children:[e.jsxs(j,{to:"/",className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl ",children:e.jsx("img",{src:"/images/odw-brand.png",alt:"One Dental World",className:"h-10 w-10"})}),!r&&e.jsx("span",{className:"text-lg font-semibold text-sidebar-foreground",children:e.jsx("img",{className:"h-15",src:"/images/odw-logo-text.png",alt:"Logo"})})]}),e.jsx("button",{onClick:()=>l(!r),className:"rounded-lg p-1.5 text-sidebar-foreground/60 hover:bg-sidebar-accent hover:text-sidebar-foreground",children:r?e.jsx(P,{className:"h-5 w-5"}):e.jsx(J,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto p-4",children:m.map(n=>{const h=w().url.startsWith(n.href);return e.jsxs(j,{href:n.href,className:f("sidebar-link",h&&"active"),title:r?n.name:void 0,children:[e.jsx(n.icon,{className:"h-5 w-5 flex-shrink-0"}),!r&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"flex-1",children:n.name})})]},n.name)})}),e.jsxs("div",{className:"border-t border-sidebar-border p-4",children:[e.jsxs("div",{className:f("flex items-center gap-3",r&&"justify-center"),children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-sidebar-accent text-sm font-semibold text-sidebar-accent-foreground",children:o.split(" ").map(n=>n[0]).join("").toUpperCase()}),!r&&e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx("p",{className:"truncate text-sm font-medium text-sidebar-foreground",children:o}),e.jsx(ge,{className:f("mt-1 text-[10px] font-medium",ke[c]),children:we[c]})]})]}),!r&&e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:n=>{n.preventDefault(),i(route("logout"))},className:"mt-4 flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm text-sidebar-foreground/60 transition-colors hover:bg-sidebar-accent hover:text-sidebar-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("button",{type:"submit",className:"dropdown-item",children:"Logout"})]})})]})]})}function He({header:c,children:o,callToAction:r,pageTitle:l,subTitle:i}){W();const m=w().props.auth.user,n=w().props.flash;D(),a.useEffect(()=>{n.message&&E.success(n.message)},[n.message]),a.useEffect(()=>{n.failed&&E.error(n.failed)},[n.failed]);const[h]=a.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Se,{userRole:m.role,userName:m.name}),e.jsxs("main",{className:G("transition-all duration-300",h?"ml-20":"ml-64"),children:[e.jsx(be,{title:l,subtitle:i}),e.jsx("div",{className:"p-6",children:o})]})]}),e.jsx(U,{})]})}export{He as A,ge as B,J as C,ee as F,L as U};
