import{r as t,W as b,j as e}from"./app-BjQuEFph.js";import{I as j}from"./ImageUploader-D8dYQysq.js";import{I as l}from"./InputLabel-0QYCxuWv.js";import{T as u}from"./TextArea-CWQhUyiU.js";import{T as f}from"./TextInput-BQnnG9-x.js";import{F as N}from"./flatpickr-CqyzLNkl.js";import"./index-Chjiymov.js";function R(){const i=t.useRef(null),[m,v]=t.useState(!1),[c,n]=t.useState([]),{data:o,setData:s,processing:r,post:x,error:g,reset:D}=b({title:"",description:"",start_date:"",end_date:"",image:""}),d=a=>a.toISOString().split("T")[0],p=a=>{n(a),s("start_date",d(a[0])),s("end_date",d(a[1]))},h=a=>{a.preventDefault(),x(route("deals.store"),{forceFormData:!0})};return e.jsxs("div",{className:"col-sm-auto",children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDealModal",disabled:m,children:[e.jsx("i",{className:"bi-tag  me-1"})," Add Deal"]}),e.jsx("div",{id:"addDealModal",className:"modal fade modal-lg",ref:i,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",children:"Add Deal"})}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:h,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Deal Image"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(j,{onFileSelect:a=>s("image",a)}),"                                    "]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Title"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(f,{id:"title",type:"text",name:"title",value:o.title,className:"form-control ",placeholder:"Title",onChange:a=>s("title",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(u,{id:"description",type:"text",name:"description",value:o.description,className:"form-control ",placeholder:"Title",onChange:a=>s("description",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Duration"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(N,{value:c,options:{mode:"range",dateFormat:"d-m-Y"},className:"js-flatpickr form-control flatpickr-custom",onChange:p})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:r,children:[r?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Save Deal"," "]})]})]})})]})})})]})}export{R as default};
