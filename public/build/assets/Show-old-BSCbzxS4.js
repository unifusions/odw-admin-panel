import{j as s,q as n,Y as x}from"./app-BDrvQ-Fh.js";import{C as l}from"./Card-CvalKdbQ.js";import{R as j,C as d,A as u}from"./Components-BAqXsvKR.js";import{D as h}from"./DateTimeConverter-ghUxjCtc.js";import{L as o}from"./LegendIndicator-SK0zV8pg.js";import{A as f}from"./AuthenticatedLayout-Dmurvagr.js";import v from"./MarkAsReview-MQRlXC35.js";import g from"./MarkAsClosed-CljbOSBU.js";import b from"./GiveOpinion-Q2Emu64w.js";import"./app-D_D9UtE4.js";import"./index-BsO8Jy5G.js";import"./button-C9DuKgUG.js";import"./input-BFYME9wT.js";import"./createLucideIcon-HlBZp8tO.js";import"./message-square-VlcRmtPN.js";import"./stethoscope-ChF4dvUK.js";import"./Spinner-D5D1RUyg.js";import"./InputLabel-Dc8g30Io.js";import"./TextArea-ReiCawfW.js";import"./FileUploader-n_VKk5bQ.js";import"./index-Cc0CZ3Ta.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./SubmitButton-B9vQ8E3g.js";import"./loader-C1uvpXws.js";function N({status:e}){const r=({color:t,status:i})=>s.jsx("span",{className:`badge bg-soft-${t} text-${t} ms-sm-3`,children:s.jsx(o,{color:t,status:i})});switch(e){case"pending":return s.jsx(r,{color:"danger",status:"Pending"});case"in_review":return s.jsx(r,{color:"warning",status:"In Review"});case"answered":return s.jsx(r,{color:"success",status:"Answered"});case"closed":return s.jsx(r,{color:"secondary",status:"Closed"})}}function p({patient:e}){var r,t;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h4",{class:"card-header-title",children:"Patient"})}),s.jsx("div",{className:"card-body",children:s.jsxs("ul",{className:"list-group list-group-flush list-group-no-gutters",children:[s.jsx("li",{className:"list-group-item",children:s.jsxs("div",{className:"d-flex align-items-center mb-3",children:[s.jsx("div",{className:"avatar avatar-soft-primary avatar-circle",children:s.jsx("span",{className:"avatar-initials",children:e==null?void 0:e.first_name.charAt(0)})}),s.jsxs("div",{className:"ms-3",children:[s.jsxs("span",{class:"d-block h5 text-inherit mb-0",children:[(e==null?void 0:e.first_name)||""," ",(e==null?void 0:e.last_name)||""]}),s.jsx("span",{class:"d-block fs-5 text-body",children:"User Since"})]})]})}),s.jsxs("li",{class:"list-group-item",children:[s.jsx("div",{class:"d-flex justify-content-between align-items-center",children:s.jsx("h5",{children:"Contact info"})}),s.jsxs("ul",{class:"list-unstyled list-py-2 text-body",children:[s.jsxs("li",{children:[s.jsx("i",{class:"bi-at me-2"}),(r=e==null?void 0:e.user)==null?void 0:r.email]}),s.jsxs("li",{children:[s.jsx("i",{class:"bi-phone me-2"}),(t=e==null?void 0:e.user)==null?void 0:t.phone]})]})]})]})})]})})}function w({title:e,status:r,timestamp:t}){return s.jsxs("div",{className:"d-sm-flex align-items-sm-center mb-3",children:[s.jsx("h1",{className:"page-header-title",children:e}),s.jsx(N,{status:r}),s.jsxs("span",{className:"ms-2 ms-sm-3",children:[s.jsx("i",{className:"bi-calendar-week"})," ",s.jsx(h,{dateTimeString:t})]})]})}const a=({index:e,value:r})=>s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-md-6",children:e}),s.jsx("div",{className:"col-md-6 ",children:r})]});function J(){const{secondopinion:e,replied:r}=n().props,t=e.patient,i=e.category,c=e.attachments||[];return s.jsxs(f,{header:"Second Opinion",pageTitle:s.jsx(w,{title:`SO #${e.id} ${(e==null?void 0:e.subject)&&" | "+(e==null?void 0:e.subject)}`,status:e.status,timestamp:e.created_at}),callToAction:s.jsxs("div",{children:[s.jsx(b,{so:e,isDisabled:r}),s.jsx(v,{so:e,isDisabled:((e==null?void 0:e.status)=="in_review"||(e==null?void 0:e.status)=="closed"||r)&&!0}),s.jsx(g,{so:e,isDisabled:(e==null?void 0:e.status)=="closed"&&!0})]}),children:[s.jsx(x,{title:`Second Opinion : ${e.id}`}),s.jsxs(j,{children:[s.jsxs(d,{lg:8,children:[s.jsxs(l,{title:"Second Opinion Info",children:[s.jsx(a,{index:"Second Opinion #",value:`# ${e.id}`}),s.jsx(a,{index:"Subject",value:e==null?void 0:e.subject}),s.jsx(a,{index:"Requested On",value:e==null?void 0:e.created_at}),!(e!=null&&e.is_quick)&&s.jsxs(s.Fragment,{children:[s.jsx(a,{index:"Category",value:i&&(i==null?void 0:i.name)||"NA"}),s.jsx(a,{index:"Insurance",value:"Yes"}),s.jsx(a,{index:"Estimate Required",value:"Yes"})]})]}),s.jsxs(l,{title:"Patient Notes/Request",children:[s.jsx(a,{index:"Last Dental Visit",value:"3 weeks ago"}),s.jsx(a,{index:"Patient Notes/Request",value:e==null?void 0:e.description})]}),s.jsx(l,{title:"Attachments",children:s.jsx("div",{className:"d-flex flex-wrap justify-content-start gap-2",children:c.length>0?c.map(m=>s.jsx(u,{attachment:m})):"No attachments Found"})})]}),s.jsx(d,{lg:4,children:s.jsx(p,{patient:t})})]})]})}export{J as default};
