import{r as m,j as e}from"./app-BDrvQ-Fh.js";import{D as V,a as H,b as R,c as U,e as q}from"./dialog-Dx4GLaow.js";import{B as h,c as k}from"./button-C9DuKgUG.js";import{L as o}from"./label-70R2CAFi.js";import{C as J}from"./calendar-D_iTl5Ps.js";import{S as j,a as p,b as g,c as u,d as N}from"./select-BwL2NgdK.js";import{T as Y}from"./textarea-BnEYYtTO.js";import{P as z,a as W,b as $}from"./popover-mwMEiAid.js";import{C as c}from"./message-square-VlcRmtPN.js";import{S as v}from"./stethoscope-ChF4dvUK.js";import{U as n}from"./user-CyRy-t4Z.js";import{C as E}from"./clock-DH7CGz7L.js";import{f as G}from"./format-CW6KcVUP.js";import{C as b,a as y,b as w,d as C}from"./card-CQMuBvVe.js";import{T as K,a as Q,b as i,c as x}from"./tabs-CmhjC7tN.js";import{A as X,F as f}from"./AuthenticatedLayout-Dmurvagr.js";import{M as Z}from"./mail-B9PiJMru.js";import{P as ee}from"./phone-DsG47Ta4.js";import{S as se}from"./shield-DA9RK9Vv.js";import{I as le,C as ae}from"./id-card-9EF72h4h.js";import{B as I}from"./building-Pc0VzQbF.js";import"./app-D_D9UtE4.js";import"./index-sgrgDCtd.js";import"./index-By11zwLU.js";import"./index-D4DQtpoo.js";import"./Combination-ylOFAbdE.js";import"./tslib.es6-BUas5LQb.js";import"./index-B3TDZUkv.js";import"./x-B24eB6aR.js";import"./createLucideIcon-HlBZp8tO.js";import"./addDays--5Ovw2Cz.js";import"./chevron-down-BQEr59Or.js";import"./index-709C2Cvg.js";import"./index-C67hFgXz.js";import"./floating-ui.react-dom-B6xn-Qlo.js";import"./floating-ui.dom-g0iQpA8R.js";import"./index-C38P3_I-.js";import"./index-Cd8C1Kir.js";import"./check-BQL5iUOq.js";import"./index-BsO8Jy5G.js";import"./input-BFYME9wT.js";const re=[{value:"checkup",label:"Regular Checkup"},{value:"cleaning",label:"Teeth Cleaning"},{value:"filling",label:"Filling"},{value:"extraction",label:"Tooth Extraction"},{value:"root-canal",label:"Root Canal"},{value:"crown",label:"Crown/Bridge"},{value:"consultation",label:"Consultation"},{value:"emergency",label:"Emergency"}],de=[{value:"dr-wilson",label:"Dr. Sarah Wilson"},{value:"dr-chen",label:"Dr. Michael Chen"},{value:"dr-patel",label:"Dr. Priya Patel"},{value:"dr-johnson",label:"Dr. James Johnson"}],te=["09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM"],me=({patient:s,open:d,onOpenChange:r})=>{const[l,t]=m.useState(),[S,D]=m.useState(""),[P,T]=m.useState(""),[A,M]=m.useState(""),[L,_]=m.useState(""),O=()=>{if(!l||!S||!P||!A){toast({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}t(void 0),D(""),T(""),M(""),_(""),r(!1)};return s?e.jsx(V,{open:d,onOpenChange:r,children:e.jsxs(H,{className:"max-w-md",children:[e.jsx(R,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-5 w-5 text-primary"}),"Schedule Appointment"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-semibold text-primary",children:s==null?void 0:s.first_name.split(" ").map(a=>a[0]).join("")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Patient"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Appointment Type *"]}),e.jsxs(j,{value:P,onValueChange:T,children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsx(u,{children:re.map(a=>e.jsx(N,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),"Assign Doctor *"]}),e.jsxs(j,{value:A,onValueChange:M,children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select doctor"})}),e.jsx(u,{children:de.map(a=>e.jsx(N,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),"Date *"]}),e.jsxs(z,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:k("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[e.jsx(c,{className:"mr-2 h-4 w-4"}),l?G(l,"PPP"):"Pick a date"]})}),e.jsx($,{className:"w-auto p-0",align:"start",children:e.jsx(J,{mode:"single",selected:l,onSelect:t,initialFocus:!0,disabled:a=>a<new Date,className:"pointer-events-auto"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"Time *"]}),e.jsxs(j,{value:S,onValueChange:D,children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select time"})}),e.jsx(u,{children:te.map(a=>e.jsx(N,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Notes (Optional)"}),e.jsx(Y,{placeholder:"Add any special notes or requirements...",value:L,onChange:a=>_(a.target.value),rows:3})]})]}),e.jsxs(q,{className:"gap-2",children:[e.jsx(h,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(h,{onClick:O,children:"Schedule Appointment"})]})]})}):null},ce=s=>{const d=new Date(s),r=new Date;let l=r.getFullYear()-d.getFullYear();const t=r.getMonth()-d.getMonth();return(t<0||t===0&&r.getDate()<d.getDate())&&l--,l},B={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}},F=({status:s})=>{var d,r;return e.jsxs("span",{className:k("badge-status",(d=B[s])==null?void 0:d.class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),(r=B[s])==null?void 0:r.label]})},oe=({insurance:s})=>e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(w,{className:"flex items-center gap-2 text-lg",children:[e.jsx(se,{className:"h-5 w-5 text-primary"}),(s==null?void 0:s.insurance_provider)??"No provider"]})}),e.jsxs(C,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:e.jsx(n,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Insurance for ",s==null?void 0:s.relation]})]})]})}),e.jsx("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Address"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",s==null?void 0:s.address_line_1,e.jsx("br",{}),s==null?void 0:s.address_line_2,e.jsx("br",{})," ",s==null?void 0:s.address_line_3," ",e.jsx("br",{}),s.city," - ",s.zip_code,", ",s.state,e.jsx("br",{})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(le,{className:"h-3 w-3"}),"Member ID"]}),e.jsx("p",{className:"text-xs font-medium truncate",children:s==null?void 0:s.member_id})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(ae,{className:"h-3 w-3"}),"Plan #"]}),e.jsx("p",{className:"text-xs font-medium truncate",children:s==null?void 0:s.plan_no})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(I,{className:"h-3 w-3"}),"Carrier"]}),e.jsx("p",{className:"text-xs font-medium",children:s==null?void 0:s.carrier})]}),e.jsxs("div",{className:"rounded-lg border border-border p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mb-1",children:[e.jsx(I,{className:"h-3 w-3"}),"Mode"]}),e.jsx("p",{className:"text-xs font-medium",children:s==null?void 0:s.mode})]})]})]})]});function Qe({patient:s}){s==null||s.insurance;const[d,r]=m.useState(!1);return e.jsxs(X,{header:"Patients",pageTitle:s==null?void 0:s.first_name,subTitle:"Patient ID #PT-"+(s==null?void 0:s.id),children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(w,{className:"flex items-center gap-2 text-lg",children:[e.jsx(n,{className:"h-5 w-5 text-primary"}),"Profile Information"]})}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(ee,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.phone_number})]})]}),e.jsx("div",{className:"border-t border-border pt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[e.jsx(c,{className:"h-3 w-3"}),"Date of Birth"]}),e.jsx("p",{className:"text-sm font-medium",children:s!=null&&s.dob?new Date(s==null?void 0:s.dob).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not Available"})]}),e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[e.jsx(n,{className:"h-3 w-3"}),"Age"]}),e.jsxs("p",{className:"text-sm font-medium",children:[s!=null&&s.dob?ce(s.dateOfBirth):"Not Available"," years"]})]})]})}),s.upcomingAppointment&&e.jsxs("div",{className:"rounded-lg border border-primary/20 bg-primary/5 p-3",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Next Appointment"}),e.jsx("p",{className:"text-sm font-medium text-primary",children:s.upcomingAppointment})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(w,{className:"flex items-center gap-2 text-lg",children:[e.jsx(E,{className:"h-5 w-5 text-primary"}),"Patient History"]})}),e.jsx(C,{children:e.jsxs(K,{defaultValue:"appointments",className:"w-full",children:[e.jsxs(Q,{className:"grid w-full grid-cols-4",children:[e.jsxs(i,{value:"appointments",className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),"Appointments"]}),e.jsxs(i,{value:"treatments",className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Second Opinions"]}),e.jsxs(i,{value:"estimates",className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Estimates"]}),e.jsxs(i,{value:"insurances",className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Insurances"]})]}),e.jsx(x,{value:"appointments",className:"mt-4",children:(s==null?void 0:s.appointments.length)>0?e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.appointments.map(l=>{var t;return e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:e.jsx(c,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l==null?void 0:l.appointment_date," â€¢ ",(t=l==null?void 0:l.appointable)==null?void 0:t.name]})})]}),e.jsx(F,{status:l.status})]},l.id)})}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No appointment history"})}),e.jsx(x,{value:"treatments",className:"mt-4",children:(s==null?void 0:s.secondopinions.length)>0?e.jsx("div",{className:"space-y-3",children:s.secondopinions.map(l=>e.jsxs("div",{className:"p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:e.jsx(v,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.procedure}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.date})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-primary",children:l.cost}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tooth: ",l.tooth]})]})]}),l.notes&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2 pl-11",children:l.notes})]},l.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No Second Opinions history"})}),e.jsx(x,{value:"estimates",className:"mt-4",children:(s==null?void 0:s.estimates.length)>0?e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.estimates.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-full bg-primary/10 p-2",children:e.jsx(f,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.description}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.date})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("p",{className:"font-semibold",children:l.estimatedCost}),l.status,e.jsx(F,{status:l.status})]})]},l.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No estimate history"})}),e.jsx(x,{value:"insurances",className:"mt-4",children:(s==null?void 0:s.insurances.length)>0?e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.insurances.map(l=>e.jsx(oe,{insurance:l},l.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No insurance history"})})]})})]})})]})}),e.jsx(me,{patient:s,open:d,onOpenChange:r})]})}export{Qe as default};
