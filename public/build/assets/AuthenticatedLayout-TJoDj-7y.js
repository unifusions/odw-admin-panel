import{j as a,r as i,b as E,a as x,y as v,q as u,W as L}from"./app-DjTfD7mp.js";import{y as j,L as F}from"./index-DN8sr8cx.js";import{a as A}from"./Sidebar-B-dRX1P8.js";const f=({dotSize:r=10,color:t="#475F73"})=>a.jsxs("div",{className:"loading-dots",children:[a.jsx("span",{className:"dot",style:{width:r,height:r,backgroundColor:t}}),a.jsx("span",{className:"dot",style:{width:r,height:r,backgroundColor:t}}),a.jsx("span",{className:"dot",style:{width:r,height:r,backgroundColor:t}})]});function C(){const[r,t]=i.useState(!1),[c,l]=i.useState(""),[n,m]=i.useState([]),[h,o]=i.useState(-1),[g,p]=i.useState(!1);i.useEffect(()=>{const e=s=>{(s.ctrlKey||s.metaKey)&&s.key==="k"?(s.preventDefault(),t(d=>!d)):s.key==="Escape"&&t(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const b=async e=>{const s=e.target.value;if(l(s),s.length<2){m([]),o(-1);return}p(!0);const d=await E.get(route("search"),{params:{q:s}});m(d.data),o(-1),p(!1)},w=e=>{if(n.length){if(e.key==="ArrowDown")e.preventDefault(),o(s=>(s+1)%n.length);else if(e.key==="ArrowUp")e.preventDefault(),o(s=>(s-1+n.length)%n.length);else if(e.key==="Enter"&&h>=0){e.preventDefault();const s=n[h];s&&(window.location.href=route(s.route.name,s.route.params))}}},N=({item:e})=>a.jsx(x,{class:"dropdown-item",href:e.route,children:a.jsxs("div",{class:"d-flex align-items-center",children:[a.jsx("div",{class:"flex-shrink-0",children:a.jsx("span",{class:"icon icon-soft-dark icon-xs icon-circle",children:a.jsx("i",{class:"bi-geo-alt"})})}),a.jsx("div",{class:"flex-grow-1 text-truncate ms-2",children:a.jsx("span",{children:e.name})},e.id)]})}),y=({item:e})=>a.jsx(x,{class:"dropdown-item",href:e.route,children:a.jsxs("div",{class:"d-flex align-items-center",children:[a.jsx("div",{class:"flex-shrink-0",children:e.photo?a.jsx("img",{class:"avatar avatar-xs avatar-circle",src:e.photo,alt:""}):a.jsx("div",{class:"avatar avatar-xs avatar-soft-info avatar-circle",children:a.jsx("span",{class:"avatar-initials",children:e.name[0]})})}),a.jsx("div",{class:"flex-grow-1 text-truncate ms-2",children:a.jsx("span",{children:e.name})})]})}),k=({group:e,result:s})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{class:"dropdown-header",children:e}),s.map(d=>a.jsx(N,{item:d})),a.jsx("div",{class:"dropdown-divider"})]}),D=({group:e,result:s})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{class:"dropdown-header",children:e}),s.map(d=>a.jsx(y,{item:d})),a.jsx("div",{class:"dropdown-divider"})]}),S=(e,s)=>{switch(e){case"clinics":return s.length>0&&a.jsx(k,{group:e,result:s});default:return s.length>0&&a.jsx(D,{group:e,result:s})}};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"dropdown ms-2",children:[a.jsx("div",{className:"d-none d-lg-block",children:a.jsxs("div",{className:"input-group input-group-merge input-group-borderless input-group-hover-light navbar-input-group",children:[a.jsx("div",{className:"input-group-prepend input-group-text",children:a.jsx("i",{className:"bi-search"})}),a.jsx("input",{type:"search",className:"focus form-control",placeholder:"Search ","aria-label":"Search ",value:c,onChange:b,onKeyDown:w}),a.jsx("span",{class:"loader"})]})}),Object.keys(n).length>0&&a.jsx(a.Fragment,{children:a.jsx("div",{id:"searchDropdownMenu",class:"hs-form-search-menu-content dropdown-menu dropdown-menu-form-search navbar-dropdown-menu-borderless animated hs-form-search-menu-initialized slideInUp",style:{top:"120%",width:"100%",animationDuration:"300ms"},children:a.jsx("div",{class:"card",children:a.jsxs("div",{class:"card-body-height",children:[g&&a.jsx(f,{dotSize:5}),Object.keys(n).map(e=>S(e,n[e]))]})})})})]})})}function I(){const[r,t]=i.useState(!1);return i.useEffect(()=>{const c=v.on("start",()=>t(!0)),l=v.on("finish",()=>t(!1)),n=v.on("error",()=>t(!1));return()=>{c(),l(),n()}},[]),r}function O({header:r,children:t}){const c=I(),l=u().props.auth.user,n=u().props.flash,{post:m}=L();i.useState(!1),i.useState(!1);const h=o=>{o.preventDefault(),m(route("logout"))};return i.useEffect(()=>{n.message&&j.success(n.message)},[n.message]),i.useEffect(()=>{n.failed&&j.error(n.failed)},[n.failed]),a.jsx(a.Fragment,{children:a.jsxs("div",{className:"has-navbar-vertical-aside navbar-vertical-aside-show-xl   footer-offset",children:[a.jsx("header",{id:"header",className:"navbar navbar-expand-lg navbar-fixed navbar-height navbar-container navbar-bordered bg-white",children:a.jsxs("div",{className:"navbar-nav-wrap",children:[a.jsx(x,{className:"navbar-brand",href:"#","aria-label":"Front",children:a.jsx("img",{className:"navbar-brand-logo",src:"/images/odw-brand.png",alt:"Logo",height:20})}),a.jsxs("div",{className:"navbar-nav-wrap-content-start",children:[a.jsxs("button",{type:"button",className:"js-navbar-vertical-aside-toggle-invoker navbar-aside-toggler",children:[a.jsx("i",{className:"bi-arrow-bar-left navbar-toggler-short-align","data-bs-template":'<div className="tooltip d-none d-md-block" role="tooltip"><div className="arrow"></div><div className="tooltip-inner"></div></div>',"data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Collapse"}),a.jsx("i",{className:"bi-arrow-bar-right navbar-toggler-full-align","data-bs-template":'<div className="tooltip d-none d-md-block" role="tooltip"><div className="arrow"></div><div className="tooltip-inner"></div></div>',"data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Expand"})]}),r&&a.jsx("div",{className:"fs-2 fw-bold text-dark",children:r}),a.jsx(C,{})]}),a.jsx("div",{className:"navbar-nav-wrap-content-end",children:a.jsx("ul",{className:"navbar-nav",children:a.jsx("li",{className:"nav-item",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("a",{className:"navbar-dropdown-account-wrapper",href:"#!",id:"accountNavbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside","data-bs-dropdown-animation":!0,children:a.jsx("div",{className:"avatar avatar-sm avatar-dark avatar-circle",children:a.jsx("span",{className:"avatar-initials ",children:l.name&&Array.from(l.name)[0]})})}),a.jsxs("div",{className:"dropdown-menu dropdown-menu-end navbar-dropdown-menu navbar-dropdown-menu-borderless navbar-dropdown-account",style:{width:"16rem"},children:[a.jsx("div",{className:"dropdown-item-text",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar avatar-sm avatar-dark avatar-circle",children:a.jsx("span",{className:"avatar-initials ",children:Array.from(l.name)[0]})}),a.jsxs("div",{className:"flex-grow-1 ms-3",children:[a.jsx("h5",{className:"mb-0",children:l.name}),a.jsx("p",{className:"card-text text-body",children:l.email})]})]})}),a.jsx("div",{className:"dropdown-divider"}),a.jsx("a",{className:"dropdown-item",href:"#",children:"Profile & account"}),a.jsx("div",{className:"dropdown-divider"}),a.jsx("form",{onSubmit:h,children:a.jsx("button",{type:"submit",className:"dropdown-item",children:"Logout"})})]})]})})})})]})}),a.jsx(A,{}),a.jsxs("main",{id:"content",role:"main",className:"main",children:[a.jsx("div",{className:"content container-fluid",children:c?a.jsx(f,{}):t}),a.jsx("div",{className:"footer",children:a.jsxs("div",{className:"row justify-content-between align-items-center",children:[a.jsx("div",{className:"col",children:a.jsxs("p",{className:"fs-6 mb-0",children:["Â© 2025. ",a.jsx("span",{className:"d-none d-sm-inline-block",children:"OneDentalWorld."})]})}),a.jsx("div",{className:"col-auto",children:a.jsx("div",{className:"d-flex justify-content-end",children:a.jsx("ul",{className:"list-inline list-separator",children:a.jsx("li",{className:"list-inline-item",children:"V 0.6.4 - Beta"})})})})]})})]}),a.jsx(F,{})]})})}export{O as A};
