import{q as v,r as j,W as b,j as e,Y as N}from"./app-DaSilxSD.js";import{C as r}from"./Card-BcZi3oWh.js";import{I as f}from"./ImageUploader-BKpw9Y5u.js";import{u as _}from"./index-D4elnCUh.js";import{T as C}from"./TextArea-wiWZ-g-w.js";import"./TextInput-R9yevZI6.js";import{T as n}from"./TextInputWithLabel-DGFTyZaV.js";import{A as y}from"./AuthenticatedLayout-CjRm7B7j.js";import"./index-Chjiymov.js";import"./Components-BIHMbQHz.js";import"./index-CxdMSaZR.js";import"./Sidebar-jND5vsgK.js";import"./DentistIcon-BdH4btJC.js";function G(){const{categories:m}=v().props,o=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=o.reduce((s,l)=>(s[l]={isOpen:!1,open:"",close:""},s),{});j.useState([]);const{data:a,setData:i,post:h,processing:k,errors:w,reset:S}=b({clinic_name:"",address_line_1:"",address_line_2:"",phone:"",logo:"",email:"",state:"",city:"",zip_code:"",latitude:"",longitude:"",desc:"",schedule:p,categories:[],images:[],logo_file:""}),u=s=>{let l;a.categories.includes(s)?l=a.categories.filter(c=>c!==s):l=[...a.categories,s],i("categories",l)},t=s=>{const l=document.getElementById(s);if(l){const c=l.getBoundingClientRect();window.scrollY+c.top-50,l.scrollIntoView({behavior:"smooth",top:0})}},x=s=>{s.preventDefault();const l=new FormData;l.append("clinic_name",a.clinic_name),l.append("email",a.email),l.append("phone",a.phone),l.append("address_line_1",a.address_line_1),l.append("address_line_2",a.address_line_2),l.append("city",a.city),l.append("state",a.state),l.append("zip_code",a.zip_code),l.append("latitude",a.latitude),l.append("longitude",a.longitude),l.append("desc",a.desc),a.categories.forEach((c,d)=>{l.append(`categories[${d}]`,c)}),l.append("schedule",JSON.stringify(a.schedule)),a.images.forEach((c,d)=>{l.append("images[]",c)}),h(route("clinics.store"),l,{forceFormData:!0})};function g(){const{getRootProps:s,getInputProps:l}=_({accept:{"image/*":[]},multiple:!0,onDrop:c=>{i("images",[...a.images,...c])}});return e.jsxs("div",{...s({className:"dz-dropzone dz-clickable border rounded p-4 text-center",style:{cursor:"pointer",backgroundColor:"#fafafa"}}),children:[e.jsx("input",{...l()}),e.jsx("p",{className:"mb-0",children:"Drag & drop images here, or click to select files"})]})}return e.jsxs(y,{header:"Add Clinic",children:[e.jsx(N,{title:"Add Clinic"}),e.jsxs("div",{className:"row ",style:{flexGrow:1},children:[e.jsx("div",{className:"col-lg-3 mb-3 mb-lg-0 ",style:{position:"sticky",top:"80px",alignSelf:"flex-start",height:"calc(100vh - 180px)"},children:e.jsx("div",{className:"",children:e.jsx("div",{id:"navbarVerticalNavMenu",className:" navbar-collapse",children:e.jsxs("ul",{id:"navbarSettings",className:"  card card-navbar-nav nav nav-tabs nav-lg nav-vertical ",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",onClick:()=>t("information"),children:[e.jsx("i",{class:"bi-info-circle nav-icon"}),"Clinic Information"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",href:"#emailSection",onClick:()=>t("working-hours"),children:[e.jsx("i",{className:"bi-alarm nav-icon"})," Working Hours"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",onClick:()=>t("gallery"),children:[e.jsx("i",{className:"bi-images nav-icon"})," Images"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",onClick:()=>t("treatments"),children:[e.jsx("i",{className:"bi-capsule nav-icon"})," Treatments"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",href:"#twoStepVerificationSection",onClick:()=>t("publish"),children:[e.jsx("i",{className:"bi-plus-circle nav-icon"})," Publish"]})})]})})})}),e.jsx("div",{className:"col-lg-9 mb-3 mb-lg-0",children:e.jsxs("form",{action:"",onSubmit:x,noValidate:!0,children:[e.jsxs(r,{id:"information",title:"Clinic Information",children:[e.jsx(n,{id:"clinic_name",type:"text",value:a.clinic_name,placeholder:"Clinic Name",onChange:s=>i("clinic_name",s.target.value),label:"Name",className:" mb-4"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6",children:e.jsx(n,{id:"email",type:"email",value:a.email,placeholder:"email@address.com",onChange:s=>i("email",s.target.value),label:"Contact Email"})}),e.jsx("div",{className:"col-sm-6",children:e.jsx("div",{className:"mb-4",children:e.jsx(n,{id:"phone",label:"Phone Number",value:a.phone,className:"form-control",placeholder:"+x(xxx)xxx-xx-xx",onChange:s=>i("phone",s.target.value)})})}),e.jsx("div",{className:"col-sm-6",children:e.jsx(n,{id:"address_line_1",type:"text",value:a.address_line_1,placeholder:"",onChange:s=>i("address_line_1",s.target.value),label:"Address Line 1"})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"address_line_2",type:"text",value:a.address_line_2,placeholder:"",onChange:s=>i("address_line_2",s.target.value),label:"Address Line 2"})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"city",type:"text",value:a.city,placeholder:"",onChange:s=>i("city",s.target.value),label:"City"})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"city",type:"text",value:a.state,placeholder:"",onChange:s=>i("state",s.target.value),label:"State"})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"zip_code",type:"text",value:a.zip_code,placeholder:"20001",onChange:s=>i("zip_code",s.target.value),label:"ZIP Code"})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"latitude",type:"text",value:a.latitude,placeholder:"38.9072",onChange:s=>i("latitude",s.target.value),label:"Latitude"})}),e.jsx("div",{className:"col-sm-6 mb-3",children:e.jsx(n,{id:"longitude",type:"text",value:a.longitude,placeholder:"77.0369",onChange:s=>i("longitude",s.target.value),label:"Longitude"})})]}),e.jsx("label",{className:"form-label",children:"General Info "}),e.jsx(C,{name:"desc",className:"form-control",value:a.desc,placeholder:"General Info",onChange:s=>i("desc",s.target.value)})]}),e.jsx(r,{id:"working-hours",styles:{scrollMarginTop:"80px"},title:"Working Hours",children:o.map(s=>e.jsxs("div",{className:"row px-3 align-items-center",children:[e.jsxs("label",{className:"col-lg-3 form-check form-switch mb-3 ",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",checked:a.schedule[s].isOpen,onChange:l=>i("schedule",{...a.schedule,[s]:{...a.schedule[s],isOpen:l.target.checked}})})," ",s]}),a.schedule[s]&&e.jsx("div",{className:"col-lg-6 mb-3 align-items-center",children:e.jsxs("div",{className:"input-group input-group-md-vertical align-items-center",children:[e.jsx("input",{className:"form-control",type:"time",disabled:!a.schedule[s].isOpen,value:a.schedule[s].open,onChange:l=>i("schedule",{...a.schedule,[s]:{...a.schedule[s],open:l.target.value}})}),e.jsx("div",{className:"mx-3",children:" TO "}),e.jsx("input",{className:"form-control",type:"time",value:a.schedule[s].close,disabled:!a.schedule[s].isOpen,onChange:l=>i("schedule",{...a.schedule,[s]:{...a.schedule[s],close:l.target.value}})})]})})]},s))}),e.jsx(r,{id:"treatments",styles:{scrollMarginTop:"80px"},title:"Treatment",children:e.jsx("div",{className:"row",children:m.map(s=>{const l=a.categories.includes(s.id);return e.jsx("div",{className:"col-lg-4 mb-3",children:e.jsxs("label",{className:"form-check form-switch mb-3 ",children:[s.name,e.jsx("input",{type:"checkbox",className:"form-check-input",checked:l,onChange:()=>u(s.id)})]})},s.id)})})}),e.jsxs(r,{id:"gallery",styles:{scrollMarginTop:"80px"},title:"Images",children:[e.jsx("h4",{children:"Logo"}),e.jsx(f,{onFileSelect:s=>i("image_file",s)}),e.jsx("h4",{className:"mt-3 mb-3",children:"Gallery"}),e.jsx("div",{className:"dropzone-container",children:e.jsx(g,{})}),a.images.length>0&&e.jsx("div",{className:"row mt-3",children:a.images.map((s,l)=>e.jsx("div",{className:"col-3 mb-3",children:e.jsxs("div",{class:"card card-sm",children:[e.jsx("img",{class:"card-img-top",src:URL.createObjectURL(s),alt:`Preview ${l}`}),e.jsx("div",{class:"card-body",children:e.jsx("div",{class:"row col-divider text-center",children:e.jsx("div",{class:"col",children:e.jsx("a",{class:"text-danger",onClick:()=>{const c=[...a.images];c.splice(l,1),i("images",c)},children:e.jsx("i",{class:"bi-trash"})})})})})]})},l))})]}),e.jsx(r,{id:"publish",title:"Publish",children:e.jsx("button",{type:"submit",className:"btn btn-lg btn-primary ",children:"Publish"})})]})}),e.jsx("div",{className:"col-lg-4"})]})]})}export{G as default};
