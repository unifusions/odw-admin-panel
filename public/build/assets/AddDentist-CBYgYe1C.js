import{r as l,W as C,j as e,b as n}from"./app-BFbOAPnk.js";import{D as _}from"./DentistIcon-CPJH74L8.js";import{I as t}from"./InputLabel-CIvH1t6h.js";import"./TextArea-DCR5TeRv.js";import{T as i}from"./TextInput-BWKwyQmb.js";import{S as r}from"./react-select.esm-CL3EDBxu.js";import"./index-CCrNXFUV.js";function T(){const c=l.useRef(null),[m,d]=l.useState([]),[h,b]=l.useState([]),[x,u]=l.useState([]),{data:o,setData:a,post:v,processing:y,errors:F,reset:j}=C({name:"",practise_from:"",phone:"",email:"",clinic_id:"",clinic_branch_id:"",services:[]}),p=async()=>{const s=await n.get(route("dentists.create"));d(s.data.clinics),b(s.data.services)},N=async s=>{const D=await n.get(`/admin/clinicbranches/${s.value}`);a("clinic_id",s.value),u(D.data)},f=s=>{a("services",s)},g=()=>{const s=bootstrap.Modal.getInstance(c.current);j(),s.toggle()},S=s=>{s.preventDefault(),v(route("dentists.store"),{forceFormData:!0,onFinish:g})};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDentistModal",onClick:p,children:[e.jsx(_,{}),"Add Dentist"]}),e.jsx("div",{id:"addDentistModal",className:"modal fade modal-lg","aria-hidden":"false",ref:c,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header ",children:[e.jsx("h5",{className:"modal-title",children:"Add Dentist"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{action:"",onSubmit:S,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"dentistName",className:"col-sm-3 col-form-label form-label",value:"Dentist Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(i,{id:"dentistName",type:"text",name:"dentist_name",value:o.name,className:"form-control ",placeholder:"Dentist Name",onChange:s=>a("name",s.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"dentistName",className:"col-sm-3 col-form-label form-label",value:"Practise From"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(i,{id:"dentistName",type:"date",name:"practise_from",value:o.practise_from,className:"form-control ",placeholder:"",onChange:s=>a("practise_from",s.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"clinicSelect",className:"col-sm-3 col-form-label form-label",value:"Clinic"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:m,onChange:N})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"branchSelect",className:"col-sm-3 col-form-label form-label",value:"Branch"}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("select",{name:"",id:"branchSelect",className:"form-select",onChange:s=>{a("clinic_branch_id",s.target.value)},children:[e.jsx("option",{value:"",children:"Select Branch"}),x.map(s=>e.jsx("option",{value:s.id,children:s.name}))]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"branchSelect",className:"col-sm-3 col-form-label form-label",value:"Services"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:h,isMulti:!0,onChange:f})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Dentist"})]})]})})]})})})]})}export{T as default};
