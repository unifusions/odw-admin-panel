import{W as h,r as u,j as e}from"./app-BUY1gAUr.js";import{R as i,C as r}from"./Components-DCIdx8So.js";import{I as m}from"./InputLabel-BAc1Vz66.js";import{S as j}from"./Spinner-BeO30au_.js";import{T as g}from"./TextArea-Bmwc52QG.js";import{F as f}from"./FileUploader-BvuX6c3c.js";import"./index-B0cMa2Nx.js";import"./index-Chjiymov.js";function D({estimate:n,isDisabled:d}){const{data:l,post:c,processing:a,errors:N,reset:p,setData:t}=h({message:"",estimation:null}),o=u.useRef(null),b=()=>{const s=bootstrap.Modal.getInstance(o.current);p(),s.toggle()},x=s=>{s.preventDefault(),c(route("estimates.replies.store",n),{forceFormData:!0,onFinish:b()})};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#reply-modal",disabled:d,type:"submit",children:[a?e.jsx(j,{currentColor:"warning"}):"Give Estimation"," "]}),e.jsx("div",{id:"reply-modal",className:"modal fade modal-lg",ref:o,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",children:"Give Estimation"})})}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs(i,{className:"mb-3",children:[e.jsx(m,{htmlFor:"message",className:"form-label col-sm-3 col-form-label",value:"Notes"}),e.jsx(r,{lg:9,children:e.jsx(g,{id:"message",style:{fieldSizing:"content"},name:"message",value:l.message,placeholder:"Title",onChange:s=>t("message",s.target.value)})})]}),e.jsxs(i,{className:"mb-3",children:[e.jsx(m,{htmlFor:"message",className:"form-label col-sm-3 col-form-label",value:"Upload Opinion"}),e.jsx(r,{sm:9,children:e.jsx(f,{onFileSelect:s=>t("estimation",s),selectedFile:l.estimation})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:a,children:[a?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Submit Estimation"," "]})]})]})})]})})})]})}export{D as default};
