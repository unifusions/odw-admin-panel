import{r as l,j as e,q as xt,W as pt,y as Ve}from"./app-BDrvQ-Fh.js";import{C as Pe,d as Re,a as gt,b as vt}from"./card-CQMuBvVe.js";import{S as jt,a as bt,b as wt,c as Nt,d as ue,e as Ct}from"./select-BwL2NgdK.js";import{d as gr,R as St,I as yt,T as vr,a as jr,b as he}from"./tabs-CmhjC7tN.js";import{e as He,u as Y,c as L,B as T}from"./button-C9DuKgUG.js";import{c as se}from"./createLucideIcon-HlBZp8tO.js";import{C as Mt,B as te,f as _t,A as Pt}from"./AuthenticatedLayout-Dmurvagr.js";import{D as Ee,a as De,b as Ae,c as Te,d as ke,e as Ne}from"./dialog-Dx4GLaow.js";import{c as Ge,b,P as q,e as Rt,a as Et,u as Dt}from"./index-sgrgDCtd.js";import{P as ee}from"./index-B3TDZUkv.js";import{h as At,a as Tt,F as kt,D as It,u as Q,R as Ot,P as Lt}from"./Combination-ylOFAbdE.js";import{c as Ft,u as br}from"./index-709C2Cvg.js";import{a as zt,C as ne,M as Vt}from"./message-square-VlcRmtPN.js";import{C as xe}from"./clock-DH7CGz7L.js";import{B as Wt}from"./building-Pc0VzQbF.js";import{U as Ue}from"./user-CyRy-t4Z.js";import{P as Be}from"./phone-DsG47Ta4.js";import{M as Ke}from"./mail-B9PiJMru.js";import{a as wr,b as Nr,e as lr,s as $t,c as Ht,i as Gt,d as me,C as Ut}from"./calendar-D_iTl5Ps.js";import{a as we}from"./addDays--5Ovw2Cz.js";import{f as G,s as We}from"./format-CW6KcVUP.js";import{p as Bt}from"./parse-i6e8GMd_.js";import{C as Cr}from"./circle-x-CFlA7bOn.js";import{L as Ce}from"./label-70R2CAFi.js";import{T as Kt}from"./textarea-BnEYYtTO.js";import{C as cr}from"./checkbox-ClfJw-Qd.js";import{C as Xe}from"./circle-check-big-I92J38ci.js";import{L as Xt}from"./loader-C1uvpXws.js";import{c as Sr,A as Yt,C as qt,a as Zt,R as Jt}from"./index-C67hFgXz.js";import{u as ir}from"./index-D4DQtpoo.js";import{A as Qt}from"./avatar-AeMtdcI-.js";import"./app-D_D9UtE4.js";import"./index-By11zwLU.js";import"./index-Cd8C1Kir.js";import"./chevron-down-BQEr59Or.js";import"./check-BQL5iUOq.js";import"./index-BsO8Jy5G.js";import"./input-BFYME9wT.js";import"./stethoscope-ChF4dvUK.js";import"./x-B24eB6aR.js";import"./tslib.es6-BUas5LQb.js";import"./index-C38P3_I-.js";import"./floating-ui.react-dom-B6xn-Qlo.js";import"./floating-ui.dom-g0iQpA8R.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],rn=se("calendar-clock",en);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nn=se("circle-alert",tn);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],on=se("ellipsis",sn);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ln=se("funnel",an);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],dn=se("layout-grid",cn);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],mn=se("list",un);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],hn=se("map",fn);function xn(r){const n=pn(r),t=l.forwardRef((o,s)=>{const{children:a,...i}=o,d=l.Children.toArray(a),c=d.find(vn);if(c){const h=c.props.children,m=d.map(u=>u===c?l.Children.count(h)>1?l.Children.only(null):l.isValidElement(h)?h.props.children:null:u);return e.jsx(n,{...i,ref:s,children:l.isValidElement(h)?l.cloneElement(h,void 0,m):null})}return e.jsx(n,{...i,ref:s,children:a})});return t.displayName=`${r}.Slot`,t}function pn(r){const n=l.forwardRef((t,o)=>{const{children:s,...a}=t;if(l.isValidElement(s)){const i=bn(s),d=jn(a,s.props);return s.type!==l.Fragment&&(d.ref=o?He(o,i):i),l.cloneElement(s,d)}return l.Children.count(s)>1?l.Children.only(null):null});return n.displayName=`${r}.SlotClone`,n}var gn=Symbol("radix.slottable");function vn(r){return l.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===gn}function jn(r,n){const t={...n};for(const o in n){const s=r[o],a=n[o];/^on[A-Z]/.test(o)?s&&a?t[o]=(...d)=>{const c=a(...d);return s(...d),c}:s&&(t[o]=s):o==="style"?t[o]={...s,...a}:o==="className"&&(t[o]=[s,a].filter(Boolean).join(" "))}return{...r,...t}}function bn(r){var o,s;let n=(o=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?r.ref:(n=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var $e=["Enter"," "],wn=["ArrowDown","PageUp","Home"],yr=["ArrowUp","PageDown","End"],Nn=[...wn,...yr],Cn={ltr:[...$e,"ArrowRight"],rtl:[...$e,"ArrowLeft"]},Sn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ve="Menu",[pe,yn,Mn]=Ft(ve),[oe,Mr]=Ge(ve,[Mn,Sr,gr]),Ie=Sr(),_r=gr(),[_n,ae]=oe(ve),[Pn,je]=oe(ve),Pr=r=>{const{__scopeMenu:n,open:t=!1,children:o,dir:s,onOpenChange:a,modal:i=!0}=r,d=Ie(n),[c,h]=l.useState(null),m=l.useRef(!1),u=Q(a),f=br(s);return l.useEffect(()=>{const p=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(Jt,{...d,children:e.jsx(_n,{scope:n,open:t,onOpenChange:u,content:c,onContentChange:h,children:e.jsx(Pn,{scope:n,onClose:l.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:m,dir:f,modal:i,children:o})})})};Pr.displayName=ve;var Rn="MenuAnchor",Ye=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r,s=Ie(t);return e.jsx(Yt,{...s,...o,ref:n})});Ye.displayName=Rn;var qe="MenuPortal",[En,Rr]=oe(qe,{forceMount:void 0}),Er=r=>{const{__scopeMenu:n,forceMount:t,children:o,container:s}=r,a=ae(qe,n);return e.jsx(En,{scope:n,forceMount:t,children:e.jsx(ee,{present:t||a.open,children:e.jsx(Lt,{asChild:!0,container:s,children:o})})})};Er.displayName=qe;var U="MenuContent",[Dn,Ze]=oe(U),Dr=l.forwardRef((r,n)=>{const t=Rr(U,r.__scopeMenu),{forceMount:o=t.forceMount,...s}=r,a=ae(U,r.__scopeMenu),i=je(U,r.__scopeMenu);return e.jsx(pe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:o||a.open,children:e.jsx(pe.Slot,{scope:r.__scopeMenu,children:i.modal?e.jsx(An,{...s,ref:n}):e.jsx(Tn,{...s,ref:n})})})})}),An=l.forwardRef((r,n)=>{const t=ae(U,r.__scopeMenu),o=l.useRef(null),s=Y(n,o);return l.useEffect(()=>{const a=o.current;if(a)return At(a)},[]),e.jsx(Je,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:b(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Tn=l.forwardRef((r,n)=>{const t=ae(U,r.__scopeMenu);return e.jsx(Je,{...r,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),kn=xn("MenuContent.ScrollLock"),Je=l.forwardRef((r,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:f,onDismiss:p,disableOutsideScroll:v,...P}=r,D=ae(U,t),M=je(U,t),A=Ie(t),k=_r(t),O=yn(t),[F,j]=l.useState(null),W=l.useRef(null),K=Y(n,W,D.onContentChange),N=l.useRef(0),R=l.useRef(""),$=l.useRef(0),S=l.useRef(null),C=l.useRef("right"),g=l.useRef(0),E=v?Ot:l.Fragment,y=v?{as:kn,allowPinchZoom:!0}:void 0,I=x=>{var ce,or;const _=R.current+x,z=O().filter(J=>!J.disabled),H=document.activeElement,X=(ce=z.find(J=>J.ref.current===H))==null?void 0:ce.textValue,le=z.map(J=>J.textValue),be=Bn(le,_,X),de=(or=z.find(J=>J.textValue===be))==null?void 0:or.ref.current;(function J(ar){R.current=ar,window.clearTimeout(N.current),ar!==""&&(N.current=window.setTimeout(()=>J(""),1e3))})(_),de&&setTimeout(()=>de.focus())};l.useEffect(()=>()=>window.clearTimeout(N.current),[]),Tt();const w=l.useCallback(x=>{var z,H;return C.current===((z=S.current)==null?void 0:z.side)&&Xn(x,(H=S.current)==null?void 0:H.area)},[]);return e.jsx(Dn,{scope:t,searchRef:R,onItemEnter:l.useCallback(x=>{w(x)&&x.preventDefault()},[w]),onItemLeave:l.useCallback(x=>{var _;w(x)||((_=W.current)==null||_.focus(),j(null))},[w]),onTriggerLeave:l.useCallback(x=>{w(x)&&x.preventDefault()},[w]),pointerGraceTimerRef:$,onPointerGraceIntentChange:l.useCallback(x=>{S.current=x},[]),children:e.jsx(E,{...y,children:e.jsx(kt,{asChild:!0,trapped:s,onMountAutoFocus:b(a,x=>{var _;x.preventDefault(),(_=W.current)==null||_.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(It,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:f,onDismiss:p,children:e.jsx(St,{asChild:!0,...k,dir:M.dir,orientation:"vertical",loop:o,currentTabStopId:F,onCurrentTabStopIdChange:j,onEntryFocus:b(c,x=>{M.isUsingKeyboardRef.current||x.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(qt,{role:"menu","aria-orientation":"vertical","data-state":Kr(D.open),"data-radix-menu-content":"",dir:M.dir,...A,...P,ref:K,style:{outline:"none",...P.style},onKeyDown:b(P.onKeyDown,x=>{const z=x.target.closest("[data-radix-menu-content]")===x.currentTarget,H=x.ctrlKey||x.altKey||x.metaKey,X=x.key.length===1;z&&(x.key==="Tab"&&x.preventDefault(),!H&&X&&I(x.key));const le=W.current;if(x.target!==le||!Nn.includes(x.key))return;x.preventDefault();const de=O().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);yr.includes(x.key)&&de.reverse(),Gn(de)}),onBlur:b(r.onBlur,x=>{x.currentTarget.contains(x.target)||(window.clearTimeout(N.current),R.current="")}),onPointerMove:b(r.onPointerMove,ge(x=>{const _=x.target,z=g.current!==x.clientX;if(x.currentTarget.contains(_)&&z){const H=x.clientX>g.current?"right":"left";C.current=H,g.current=x.clientX}}))})})})})})})});Dr.displayName=U;var In="MenuGroup",Qe=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(q.div,{role:"group",...o,ref:n})});Qe.displayName=In;var On="MenuLabel",Ar=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(q.div,{...o,ref:n})});Ar.displayName=On;var Se="MenuItem",dr="menu.itemSelect",Oe=l.forwardRef((r,n)=>{const{disabled:t=!1,onSelect:o,...s}=r,a=l.useRef(null),i=je(Se,r.__scopeMenu),d=Ze(Se,r.__scopeMenu),c=Y(n,a),h=l.useRef(!1),m=()=>{const u=a.current;if(!t&&u){const f=new CustomEvent(dr,{bubbles:!0,cancelable:!0});u.addEventListener(dr,p=>o==null?void 0:o(p),{once:!0}),Rt(u,f),f.defaultPrevented?h.current=!1:i.onClose()}};return e.jsx(Tr,{...s,ref:c,disabled:t,onClick:b(r.onClick,m),onPointerDown:u=>{var f;(f=r.onPointerDown)==null||f.call(r,u),h.current=!0},onPointerUp:b(r.onPointerUp,u=>{var f;h.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:b(r.onKeyDown,u=>{const f=d.searchRef.current!=="";t||f&&u.key===" "||$e.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Oe.displayName=Se;var Tr=l.forwardRef((r,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:s,...a}=r,i=Ze(Se,t),d=_r(t),c=l.useRef(null),h=Y(n,c),[m,u]=l.useState(!1),[f,p]=l.useState("");return l.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[a.children]),e.jsx(pe.ItemSlot,{scope:t,disabled:o,textValue:s??f,children:e.jsx(yt,{asChild:!0,...d,focusable:!o,children:e.jsx(q.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:h,onPointerMove:b(r.onPointerMove,ge(v=>{o?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(r.onPointerLeave,ge(v=>i.onItemLeave(v))),onFocus:b(r.onFocus,()=>u(!0)),onBlur:b(r.onBlur,()=>u(!1))})})})}),Ln="MenuCheckboxItem",kr=l.forwardRef((r,n)=>{const{checked:t=!1,onCheckedChange:o,...s}=r;return e.jsx(zr,{scope:r.__scopeMenu,checked:t,children:e.jsx(Oe,{role:"menuitemcheckbox","aria-checked":ye(t)?"mixed":t,...s,ref:n,"data-state":rr(t),onSelect:b(s.onSelect,()=>o==null?void 0:o(ye(t)?!0:!t),{checkForDefaultPrevented:!1})})})});kr.displayName=Ln;var Ir="MenuRadioGroup",[Fn,zn]=oe(Ir,{value:void 0,onValueChange:()=>{}}),Or=l.forwardRef((r,n)=>{const{value:t,onValueChange:o,...s}=r,a=Q(o);return e.jsx(Fn,{scope:r.__scopeMenu,value:t,onValueChange:a,children:e.jsx(Qe,{...s,ref:n})})});Or.displayName=Ir;var Lr="MenuRadioItem",Fr=l.forwardRef((r,n)=>{const{value:t,...o}=r,s=zn(Lr,r.__scopeMenu),a=t===s.value;return e.jsx(zr,{scope:r.__scopeMenu,checked:a,children:e.jsx(Oe,{role:"menuitemradio","aria-checked":a,...o,ref:n,"data-state":rr(a),onSelect:b(o.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,t)},{checkForDefaultPrevented:!1})})})});Fr.displayName=Lr;var er="MenuItemIndicator",[zr,Vn]=oe(er,{checked:!1}),Vr=l.forwardRef((r,n)=>{const{__scopeMenu:t,forceMount:o,...s}=r,a=Vn(er,t);return e.jsx(ee,{present:o||ye(a.checked)||a.checked===!0,children:e.jsx(q.span,{...s,ref:n,"data-state":rr(a.checked)})})});Vr.displayName=er;var Wn="MenuSeparator",Wr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(q.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});Wr.displayName=Wn;var $n="MenuArrow",$r=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r,s=Ie(t);return e.jsx(Zt,{...s,...o,ref:n})});$r.displayName=$n;var Hn="MenuSub",[la,Hr]=oe(Hn),fe="MenuSubTrigger",Gr=l.forwardRef((r,n)=>{const t=ae(fe,r.__scopeMenu),o=je(fe,r.__scopeMenu),s=Hr(fe,r.__scopeMenu),a=Ze(fe,r.__scopeMenu),i=l.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=a,h={__scopeMenu:r.__scopeMenu},m=l.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return l.useEffect(()=>m,[m]),l.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),c(null)}},[d,c]),e.jsx(Ye,{asChild:!0,...h,children:e.jsx(Tr,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Kr(t.open),...r,ref:He(n,s.onTriggerChange),onClick:u=>{var f;(f=r.onClick)==null||f.call(r,u),!(r.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:b(r.onPointerMove,ge(u=>{a.onItemEnter(u),!u.defaultPrevented&&!r.disabled&&!t.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:b(r.onPointerLeave,ge(u=>{var p,v;m();const f=(p=t.content)==null?void 0:p.getBoundingClientRect();if(f){const P=(v=t.content)==null?void 0:v.dataset.side,D=P==="right",M=D?-5:5,A=f[D?"left":"right"],k=f[D?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+M,y:u.clientY},{x:A,y:f.top},{x:k,y:f.top},{x:k,y:f.bottom},{x:A,y:f.bottom}],side:P}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:b(r.onKeyDown,u=>{var p;const f=a.searchRef.current!=="";r.disabled||f&&u.key===" "||Cn[o.dir].includes(u.key)&&(t.onOpenChange(!0),(p=t.content)==null||p.focus(),u.preventDefault())})})})});Gr.displayName=fe;var Ur="MenuSubContent",Br=l.forwardRef((r,n)=>{const t=Rr(U,r.__scopeMenu),{forceMount:o=t.forceMount,...s}=r,a=ae(U,r.__scopeMenu),i=je(U,r.__scopeMenu),d=Hr(Ur,r.__scopeMenu),c=l.useRef(null),h=Y(n,c);return e.jsx(pe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:o||a.open,children:e.jsx(pe.Slot,{scope:r.__scopeMenu,children:e.jsx(Je,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:h,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var u;i.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:b(r.onFocusOutside,m=>{m.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:b(r.onEscapeKeyDown,m=>{i.onClose(),m.preventDefault()}),onKeyDown:b(r.onKeyDown,m=>{var p;const u=m.currentTarget.contains(m.target),f=Sn[i.dir].includes(m.key);u&&f&&(a.onOpenChange(!1),(p=d.trigger)==null||p.focus(),m.preventDefault())})})})})})});Br.displayName=Ur;function Kr(r){return r?"open":"closed"}function ye(r){return r==="indeterminate"}function rr(r){return ye(r)?"indeterminate":r?"checked":"unchecked"}function Gn(r){const n=document.activeElement;for(const t of r)if(t===n||(t.focus(),document.activeElement!==n))return}function Un(r,n){return r.map((t,o)=>r[(n+o)%r.length])}function Bn(r,n,t){const s=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,a=t?r.indexOf(t):-1;let i=Un(r,Math.max(a,0));s.length===1&&(i=i.filter(h=>h!==t));const c=i.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Kn(r,n){const{x:t,y:o}=r;let s=!1;for(let a=0,i=n.length-1;a<n.length;i=a++){const d=n[a],c=n[i],h=d.x,m=d.y,u=c.x,f=c.y;m>o!=f>o&&t<(u-h)*(o-m)/(f-m)+h&&(s=!s)}return s}function Xn(r,n){if(!n)return!1;const t={x:r.clientX,y:r.clientY};return Kn(t,n)}function ge(r){return n=>n.pointerType==="mouse"?r(n):void 0}var Yn=Pr,qn=Ye,Zn=Er,Jn=Dr,Qn=Qe,es=Ar,rs=Oe,ts=kr,ns=Or,ss=Fr,os=Vr,as=Wr,ls=$r,cs=Gr,is=Br,Le="DropdownMenu",[ds,ca]=Ge(Le,[Mr]),V=Mr(),[us,Xr]=ds(Le),Yr=r=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:s,defaultOpen:a,onOpenChange:i,modal:d=!0}=r,c=V(n),h=l.useRef(null),[m,u]=Et({prop:s,defaultProp:a??!1,onChange:i,caller:Le});return e.jsx(us,{scope:n,triggerId:ir(),triggerRef:h,contentId:ir(),open:m,onOpenChange:u,onOpenToggle:l.useCallback(()=>u(f=>!f),[u]),modal:d,children:e.jsx(Yn,{...c,open:m,onOpenChange:u,dir:o,modal:d,children:t})})};Yr.displayName=Le;var qr="DropdownMenuTrigger",Zr=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...s}=r,a=Xr(qr,t),i=V(t);return e.jsx(qn,{asChild:!0,...i,children:e.jsx(q.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:He(n,a.triggerRef),onPointerDown:b(r.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:b(r.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});Zr.displayName=qr;var ms="DropdownMenuPortal",Jr=r=>{const{__scopeDropdownMenu:n,...t}=r,o=V(n);return e.jsx(Zn,{...o,...t})};Jr.displayName=ms;var Qr="DropdownMenuContent",et=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=Xr(Qr,t),a=V(t),i=l.useRef(!1);return e.jsx(Jn,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...o,ref:n,onCloseAutoFocus:b(r.onCloseAutoFocus,d=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:b(r.onInteractOutside,d=>{const c=d.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,m=c.button===2||h;(!s.modal||m)&&(i.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});et.displayName=Qr;var fs="DropdownMenuGroup",hs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(Qn,{...s,...o,ref:n})});hs.displayName=fs;var xs="DropdownMenuLabel",ps=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(es,{...s,...o,ref:n})});ps.displayName=xs;var gs="DropdownMenuItem",rt=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(rs,{...s,...o,ref:n})});rt.displayName=gs;var vs="DropdownMenuCheckboxItem",js=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(ts,{...s,...o,ref:n})});js.displayName=vs;var bs="DropdownMenuRadioGroup",ws=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(ns,{...s,...o,ref:n})});ws.displayName=bs;var Ns="DropdownMenuRadioItem",Cs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(ss,{...s,...o,ref:n})});Cs.displayName=Ns;var Ss="DropdownMenuItemIndicator",ys=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(os,{...s,...o,ref:n})});ys.displayName=Ss;var Ms="DropdownMenuSeparator",_s=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(as,{...s,...o,ref:n})});_s.displayName=Ms;var Ps="DropdownMenuArrow",Rs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(ls,{...s,...o,ref:n})});Rs.displayName=Ps;var Es="DropdownMenuSubTrigger",Ds=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(cs,{...s,...o,ref:n})});Ds.displayName=Es;var As="DropdownMenuSubContent",Ts=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=V(t);return e.jsx(is,{...s,...o,ref:n,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ts.displayName=As;var ks=Yr,Is=Zr,Os=Jr,Ls=et,Fs=rt;function zs({...r}){return e.jsx(ks,{"data-slot":"dropdown-menu",...r})}function Vs({...r}){return e.jsx(Is,{"data-slot":"dropdown-menu-trigger",...r})}function Ws({className:r,sideOffset:n=4,...t}){return e.jsx(Os,{children:e.jsx(Ls,{"data-slot":"dropdown-menu-content",sideOffset:n,className:L("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-border p-1 shadow-md",r),...t})})}function ur({className:r,inset:n,variant:t="default",...o}){return e.jsx(Fs,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":t,className:L("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...o})}function $s({viewMode:r,setViewMode:n,statusFilter:t,setStatusFilter:o}){return e.jsx(Pe,{className:"shadow-card mb-6 py-0",children:e.jsx(Re,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs(jt,{value:t,onValueChange:o,children:[e.jsxs(bt,{className:"w-[160px]",children:[e.jsx(ln,{className:"mr-2 h-4 w-4"}),e.jsx(wt,{placeholder:"Status"})]}),e.jsxs(Nt,{children:[e.jsx(ue,{value:"all",children:"All Status"}),e.jsx(ue,{value:"confirmed",children:"Confirmed"}),e.jsx(ue,{value:"pending",children:"Pending"}),e.jsx(ue,{value:"completed",children:"Completed"}),e.jsx(ue,{value:"cancelled",children:"Cancelled"})]})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(vr,{value:r,onValueChange:n,children:e.jsxs(jr,{className:"h-9",children:[e.jsxs(he,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(mn,{className:"h-4 w-4"}),"List"]}),e.jsxs(he,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(dn,{className:"h-4 w-4"}),"Calendar"]})]})})})]})})})}function Hs({title:r,value:n,badge:t}){return e.jsx(e.Fragment,{children:e.jsx(Pe,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(Re,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})})})})}function Gs(r,n,t){return wr(r,-n,t)}function Us(r,n,t){return Nr(r,-n,t)}function Bs(r,n){return l.useReducer((t,o)=>n[t][o]??t,r)}var tr="ScrollArea",[tt,ia]=Ge(tr),[Ks,B]=tt(tr),nt=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,type:o="hover",dir:s,scrollHideDelay:a=600,...i}=r,[d,c]=l.useState(null),[h,m]=l.useState(null),[u,f]=l.useState(null),[p,v]=l.useState(null),[P,D]=l.useState(null),[M,A]=l.useState(0),[k,O]=l.useState(0),[F,j]=l.useState(!1),[W,K]=l.useState(!1),N=Y(n,$=>c($)),R=br(s);return e.jsx(Ks,{scope:t,type:o,dir:R,scrollHideDelay:a,scrollArea:d,viewport:h,onViewportChange:m,content:u,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:F,onScrollbarXEnabledChange:j,scrollbarY:P,onScrollbarYChange:D,scrollbarYEnabled:W,onScrollbarYEnabledChange:K,onCornerWidthChange:A,onCornerHeightChange:O,children:e.jsx(q.div,{dir:R,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":k+"px",...r.style}})})});nt.displayName=tr;var st="ScrollAreaViewport",ot=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,children:o,nonce:s,...a}=r,i=B(st,t),d=l.useRef(null),c=Y(n,d,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(q.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});ot.displayName=st;var Z="ScrollAreaScrollbar",at=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,d=r.orientation==="horizontal";return l.useEffect(()=>(d?a(!0):i(!0),()=>{d?a(!1):i(!1)}),[d,a,i]),s.type==="hover"?e.jsx(Xs,{...o,ref:n,forceMount:t}):s.type==="scroll"?e.jsx(Ys,{...o,ref:n,forceMount:t}):s.type==="auto"?e.jsx(lt,{...o,ref:n,forceMount:t}):s.type==="always"?e.jsx(nr,{...o,ref:n}):null});at.displayName=Z;var Xs=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const d=s.scrollArea;let c=0;if(d){const h=()=>{window.clearTimeout(c),i(!0)},m=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(ee,{present:t||a,children:e.jsx(lt,{"data-state":a?"visible":"hidden",...o,ref:n})})}),Ys=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),a=r.orientation==="horizontal",i=ze(()=>c("SCROLL_END"),100),[d,c]=Bs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,s.scrollHideDelay,c]),l.useEffect(()=>{const h=s.viewport,m=a?"scrollLeft":"scrollTop";if(h){let u=h[m];const f=()=>{const p=h[m];u!==p&&(c("SCROLL"),i()),u=p};return h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,a,c,i]),e.jsx(ee,{present:t||d!=="hidden",children:e.jsx(nr,{"data-state":d==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:b(r.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:b(r.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),lt=l.forwardRef((r,n)=>{const t=B(Z,r.__scopeScrollArea),{forceMount:o,...s}=r,[a,i]=l.useState(!1),d=r.orientation==="horizontal",c=ze(()=>{if(t.viewport){const h=t.viewport.offsetWidth<t.viewport.scrollWidth,m=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?h:m)}},10);return ie(t.viewport,c),ie(t.content,c),e.jsx(ee,{present:o||a,children:e.jsx(nr,{"data-state":a?"visible":"hidden",...s,ref:n})})}),nr=l.forwardRef((r,n)=>{const{orientation:t="vertical",...o}=r,s=B(Z,r.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[d,c]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=mt(d.viewport,d.content),m={...o,sizes:d,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function u(f,p){return ro(f,i.current,d,p)}return t==="horizontal"?e.jsx(qs,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollLeft,p=mr(f,d,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=u(f,s.dir))}}):t==="vertical"?e.jsx(Zs,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&a.current){const f=s.viewport.scrollTop,p=mr(f,d);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=u(f))}}):null}),qs=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:o,...s}=r,a=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=Y(n,c,a.onScrollbarXChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(it,{"data-orientation":"horizontal",...s,ref:h,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,u)=>{if(a.viewport){const f=a.viewport.scrollLeft+m.deltaX;r.onWheelScroll(f),ht(f,u)&&m.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_e(i.paddingLeft),paddingEnd:_e(i.paddingRight)}})}})}),Zs=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:o,...s}=r,a=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),h=Y(n,c,a.onScrollbarYChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(it,{"data-orientation":"vertical",...s,ref:h,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,u)=>{if(a.viewport){const f=a.viewport.scrollTop+m.deltaY;r.onWheelScroll(f),ht(f,u)&&m.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_e(i.paddingTop),paddingEnd:_e(i.paddingBottom)}})}})}),[Js,ct]=tt(Z),it=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:h,onWheelScroll:m,onResize:u,...f}=r,p=B(Z,t),[v,P]=l.useState(null),D=Y(n,N=>P(N)),M=l.useRef(null),A=l.useRef(""),k=p.viewport,O=o.content-o.viewport,F=Q(m),j=Q(c),W=ze(u,10);function K(N){if(M.current){const R=N.clientX-M.current.left,$=N.clientY-M.current.top;h({x:R,y:$})}}return l.useEffect(()=>{const N=R=>{const $=R.target;(v==null?void 0:v.contains($))&&F(R,O)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[k,v,O,F]),l.useEffect(j,[o,j]),ie(v,W),ie(p.content,W),e.jsx(Js,{scope:t,scrollbar:v,hasThumb:s,onThumbChange:Q(a),onThumbPointerUp:Q(i),onThumbPositionChange:j,onThumbPointerDown:Q(d),children:e.jsx(q.div,{...f,ref:D,style:{position:"absolute",...f.style},onPointerDown:b(r.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),M.current=v.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),K(N))}),onPointerMove:b(r.onPointerMove,K),onPointerUp:b(r.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=A.current,p.viewport&&(p.viewport.style.scrollBehavior=""),M.current=null})})})}),Me="ScrollAreaThumb",dt=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=ct(Me,r.__scopeScrollArea);return e.jsx(ee,{present:t||s.hasThumb,children:e.jsx(Qs,{ref:n,...o})})}),Qs=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,style:o,...s}=r,a=B(Me,t),i=ct(Me,t),{onThumbPositionChange:d}=i,c=Y(n,u=>i.onThumbChange(u)),h=l.useRef(void 0),m=ze(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const u=a.viewport;if(u){const f=()=>{if(m(),!h.current){const p=to(u,d);h.current=p,d()}};return d(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,m,d]),e.jsx(q.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:b(r.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),v=u.clientX-p.left,P=u.clientY-p.top;i.onThumbPointerDown({x:v,y:P})}),onPointerUp:b(r.onPointerUp,i.onThumbPointerUp)})});dt.displayName=Me;var sr="ScrollAreaCorner",ut=l.forwardRef((r,n)=>{const t=B(sr,r.__scopeScrollArea),o=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&o?e.jsx(eo,{...r,ref:n}):null});ut.displayName=sr;var eo=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,...o}=r,s=B(sr,t),[a,i]=l.useState(0),[d,c]=l.useState(0),h=!!(a&&d);return ie(s.scrollbarX,()=>{var u;const m=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(m),c(m)}),ie(s.scrollbarY,()=>{var u;const m=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(m),i(m)}),h?e.jsx(q.div,{...o,ref:n,style:{width:a,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function _e(r){return r?parseInt(r,10):0}function mt(r,n){const t=r/n;return isNaN(t)?0:t}function Fe(r){const n=mt(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,o=(r.scrollbar.size-t)*n;return Math.max(o,18)}function ro(r,n,t,o="ltr"){const s=Fe(t),a=s/2,i=n||a,d=s-i,c=t.scrollbar.paddingStart+i,h=t.scrollbar.size-t.scrollbar.paddingEnd-d,m=t.content-t.viewport,u=o==="ltr"?[0,m]:[m*-1,0];return ft([c,h],u)(r)}function mr(r,n,t="ltr"){const o=Fe(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,a=n.scrollbar.size-s,i=n.content-n.viewport,d=a-o,c=t==="ltr"?[0,i]:[i*-1,0],h=Ct(r,c);return ft([0,i],[0,d])(h)}function ft(r,n){return t=>{if(r[0]===r[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(r[1]-r[0]);return n[0]+o*(t-r[0])}}function ht(r,n){return r>0&&r<n}var to=(r,n=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},o=0;return function s(){const a={left:r.scrollLeft,top:r.scrollTop},i=t.left!==a.left,d=t.top!==a.top;(i||d)&&n(),t=a,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function ze(r,n){const t=Q(r),o=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(o.current),[]),l.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(t,n)},[t,n])}function ie(r,n){const t=Q(n);Dt(()=>{let o=0;if(r){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(t)});return s.observe(r),()=>{window.cancelAnimationFrame(o),s.unobserve(r)}}},[r,t])}var no=nt,so=ot,oo=ut;function fr({className:r,children:n,...t}){return e.jsxs(no,{"data-slot":"scroll-area",className:L("relative",r),...t,children:[e.jsx(so,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(ao,{}),e.jsx(oo,{})]})}function ao({className:r,orientation:n="vertical",...t}){return e.jsx(at,{"data-slot":"scroll-area-scrollbar",orientation:n,className:L("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:e.jsx(dt,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const hr=r=>{if(!r)return null;const n=Bt(r,"HH:mm:ss",new Date);return G(n,"hh:mm a")},re={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},lo=r=>{if(!r)return null;const[n,t,o]=r.split("-").map(Number);return new Date(n,t-1,o)},xr=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","12:00 PM","01:00 PM","01:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","05:30 PM","06:00 PM"];function co({appointments:r,onReschedule:n,onConfirm:t,onCancel:o}){var F,j,W,K,N,R,$;const[s,a]=l.useState(new Date),[i,d]=l.useState("month"),[c,h]=l.useState(null),[m,u]=l.useState(!1),f=S=>r==null?void 0:r.filter(C=>me(lo(C==null?void 0:C.appointment_date),S)).sort((C,g)=>C==null?void 0:C.time_slot.localeCompare(g==null?void 0:g.time_slot)),p=(S,C)=>{C.stopPropagation(),h(S),u(!0)},v=()=>{a(i==="month"?Gs(s,1):i==="week"?Us(s,1):we(s,-1))},P=()=>{a(i==="month"?wr(s,1):i==="week"?Nr(s,1):we(s,1))},D=()=>{if(i==="month")return G(s,"MMMM yyyy");if(i==="week"){const S=We(s),C=lr(s);return`${G(S,"MMM d")} - ${G(C,"MMM d, yyyy")}`}else return G(s,"EEEE, MMMM d, yyyy")},M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=()=>{const S=$t(s),C=Ht(S),g=We(S),E=lr(C),y=[];let I=g;for(;I<=E;)y.push(I),I=we(I,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:M.map(w=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:w},w))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((w,x)=>{const _=f(w),z=Gt(w,s),H=me(w,new Date);return e.jsxs("div",{className:L("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!z&&"bg-muted/30 opacity-50",H&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:L("text-sm font-medium mb-2",H&&"text-primary",!z&&"text-muted-foreground"),children:G(w,"d")}),e.jsxs("div",{className:"space-y-1",children:[_.slice(0,3).map(X=>{var le;return e.jsxs("button",{onClick:be=>p(X,be),className:L("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",re[X.status].class),children:[e.jsx("span",{className:"font-medium",children:X.time_slot})," - ",(le=X==null?void 0:X.patient)==null?void 0:le.first_name.split(" ")[0]]},X.id)}),(_==null?void 0:_.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",_.length-3," more"]})]})]},x)})})]})},k=()=>{const S=We(s),C=[];for(let g=0;g<7;g++)C.push(we(S,g));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",C.map(g=>{const E=me(g,new Date);return e.jsxs("div",{className:L("text-center py-2 rounded-lg",E&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:G(g,"EEE")}),e.jsx("div",{className:L("text-lg font-semibold",E&&"text-primary"),children:G(g,"d")})]},g.toISOString())})]}),e.jsx(fr,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:xr.map(g=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:g},g),C.map(E=>{const I=f(E).filter(x=>hr(x.time_slot)===g),w=me(E,new Date);return e.jsx("div",{className:L("min-h-[60px] p-1 border border-border rounded transition-colors  ",w&&"bg-primary/5"),children:I.map(x=>{var _,z;return e.jsxs("button",{onClick:H=>p(x,H),className:L("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02] my-1",re[x.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:(_=x==null?void 0:x.patient)==null?void 0:_.first_name}),e.jsx("div",{className:"truncate opacity-80",children:(z=x==null?void 0:x.appointable)==null?void 0:z.name})]},x.id)})},`${E.toISOString()}-${g}`)})]}))})})]})},O=()=>{const S=f(s),C=me(s,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:L("text-center py-4 rounded-lg mb-4",C&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"EEEE")}),e.jsx("div",{className:L("text-3xl font-bold",C&&"text-primary"),children:G(s,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"MMMM yyyy")})]}),e.jsx(fr,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:xr.map(g=>{const E=S.filter(y=>hr(y.time_slot)===g);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:g}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:E.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:E.map(y=>{var I,w;return e.jsx("button",{onClick:x=>p(y,x),className:L("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01] flex flex-col gap-1",re[y.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:(I=y==null?void 0:y.patient)==null?void 0:I.first_name}),e.jsx("div",{className:"text-sm font-medium",children:(w=y==null?void 0:y.appointable)==null?void 0:w.name})]}),e.jsx("div",{className:"text-right",children:e.jsx(te,{variant:"outline",className:"mt-1",children:re[y.status].label})})]})},y.id)})})})]},g)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"shadow-card w-full",children:e.jsxs(Re,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:D()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(re).map(([S,C])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:L("px-2 py-0.5 rounded text-xs",C.class),children:C.label})},S))}),e.jsx(vr,{value:i,onValueChange:S=>d(S),children:e.jsxs(jr,{className:"h-9",children:[e.jsx(he,{value:"month",className:"px-3",children:"Month"}),e.jsx(he,{value:"week",className:"px-3",children:"Week"}),e.jsx(he,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:v,children:e.jsx(Mt,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",onClick:()=>a(new Date),children:"Today"}),e.jsx(T,{variant:"outline",size:"icon",onClick:P,children:e.jsx(zt,{className:"h-4 w-4"})})]})]})]}),i==="month"&&A(),i==="week"&&k(),i==="day"&&O()]})}),e.jsx(Ee,{open:m,onOpenChange:u,children:e.jsx(De,{className:"sm:max-w-[500px]",children:c&&e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(F=c==null?void 0:c.patient)==null?void 0:F.first_name.split(" ").map(S=>S[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(j=c==null?void 0:c.patient)==null?void 0:j.first_name}),e.jsx(te,{className:L("mt-1",re[c.status].class),children:re[c.status].label})]})]}),e.jsx(ke,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(ne,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:_t(c.appointment_date)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(xe,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:c.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Wt,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((W=c==null?void 0:c.clinic)==null?void 0:W.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Ue,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((K=c==null?void 0:c.appointable)==null?void 0:K.name)??"Next Available Provider"," "]}),(c==null?void 0:c.appointable)&&e.jsx(te,{variant:"outline",children:c==null?void 0:c.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(N=c==null?void 0:c.patient)==null?void 0:N.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:($=(R=c==null?void 0:c.patient)==null?void 0:R.email)==null?void 0:$.toLowerCase()})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[c.status==="pending"&&e.jsx(T,{className:"flex-1",onClick:()=>{t(c),u(!1)},children:"Confirm"}),(c.status==="pending"||c.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",className:"flex-1",onClick:()=>{n(c),u(!1)},children:"Reschedule"}),e.jsx(T,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{o(c),u(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function io({open:r,onOpenChange:n,appointment:t,onCancel:o}){var s,a;return e.jsx(Ee,{open:r,onOpenChange:n,children:e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Ae,{children:[e.jsx(Te,{children:"Cancel Appointment"}),e.jsx(ke,{children:"Are you sure you want to cancel this appointment?"})]}),t&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(s=t==null?void 0:t.patient)==null?void 0:s.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(a=t==null?void 0:t.appointable)==null?void 0:a.name})]})}),e.jsxs(Ne,{children:[e.jsx(T,{variant:"outline",onClick:()=>n(!1),children:"Keep Appointment"}),e.jsxs(T,{variant:"destructive",onClick:o,children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function uo({appointment:r,sendEmail:n,sendSMS:t}){var o;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(Xe,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(o=r==null?void 0:r.patient)==null?void 0:o.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(n||t)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),n&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),"Email"]}),t&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(Be,{className:"h-3 w-3"}),"SMS"]})]})]})}function mo({open:r,onOpenChange:n,appointment:t,onConfirm:o,processing:s,isConfirmed:a}){var D,M,A,k,O,F;const[i,d]=l.useState(""),[c,h]=l.useState(!0),[m,u]=l.useState(!0),[f,p]=l.useState("details"),v=()=>{d(""),h(!0),u(!0),p("details"),n(!1)};l.useEffect(()=>{a&&p("success")},[a]);const P=()=>{if(t){const j=[];c&&j.push("email"),m&&j.push("sms"),o(t,i,j)}};return t?e.jsx(Ee,{open:r,onOpenChange:v,children:e.jsx(De,{className:"max-w-md",children:f==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(ke,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(M=(D=t==null?void 0:t.patient)==null?void 0:D.first_name)==null?void 0:M.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(A=t==null?void 0:t.patient)==null?void 0:A.first_name}),((k=t==null?void 0:t.dentalservice)==null?void 0:k.name)&&e.jsx(te,{variant:"outline",className:"mt-1",children:(O=t==null?void 0:t.dentalservice)==null?void 0:O.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:(F=t==null?void 0:t.appointable)==null?void 0:F.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(Kt,{placeholder:"Add any notes or instructions for the patient...",value:i,onChange:j=>d(j.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(cr,{id:"email",checked:c,onCheckedChange:j=>h(!!j)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(cr,{id:"sms",checked:m,onCheckedChange:j=>u(!!j)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(Ne,{children:[e.jsx(T,{variant:"outline",onClick:v,children:"Cancel"}),e.jsxs(T,{onClick:P,disabled:s,children:[" ",s?e.jsx(Xt,{className:"w-5 animate-spin"}):"Confirm Appointment"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(uo,{appointment:t,sendEmail:c,sendSMS:m}),e.jsx(Ne,{children:e.jsx(T,{onClick:v,className:"w-full",children:"Done"})})]})})}):null}const fo=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function ho({open:r,onOpenChange:n,appointment:t,onReschedule:o}){var M,A,k,O,F;const[s,a]=l.useState(),[i,d]=l.useState(""),[c,h]=l.useState(""),[m,u]=l.useState(""),[f,p]=l.useState("select"),v=()=>{a(void 0),d(""),h(""),u(""),p("select"),n(!1)},P=()=>{s&&i&&p("confirm")},D=()=>{t&&s&&i&&(o(t,s,i,m),v())};return t?e.jsx(Ee,{open:r,onOpenChange:v,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(ke,{children:["Select a new date and time for ",(M=t==null?void 0:t.patient)==null?void 0:M.first_name,"'s"," ",(A=t==null?void 0:t.type)==null?void 0:A.toLowerCase()," appointment"]})]}),f==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(O=(k=t==null?void 0:t.patient)==null?void 0:k.first_name)==null?void 0:O.split(" ").map(j=>j[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(F=t==null?void 0:t.patient)==null?void 0:F.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t==null?void 0:t.time_slot]})]}),e.jsx(te,{variant:"outline",children:t==null?void 0:t.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select New Date"}),e.jsx(Ut,{mode:"single",selected:s,onSelect:a,disabled:j=>j<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:fo.map(j=>e.jsx(T,{type:"button",variant:i===j?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(j),children:j},j))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(nn,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:s&&G(s,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(xe,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:i})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(Ne,{children:f==="select"?e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",onClick:v,children:"Cancel"}),e.jsx(T,{onClick:P,disabled:!s||!i,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"outline",onClick:()=>p("select"),children:"Back"}),e.jsx(T,{onClick:D,children:"Confirm Reschedule"})]})})]})}):null}const pr={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function xo({appointments:r,showActions:n=!0,onReschedule:t,onConfirm:o,onCancel:s}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),n&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(a=>{var i,d,c;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(Qt,{text:(i=a==null?void 0:a.patient)==null?void 0:i.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:a==null?void 0:a.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:a==null?void 0:a.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=a==null?void 0:a.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((c=a==null?void 0:a.clinic)==null?void 0:c.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:L("badge-status",pr[a==null?void 0:a.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),pr[a.status].label]})}),n&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.status==="pending"&&o&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>o(a),children:[e.jsx(Xe,{className:"h-4 w-4"}),"Confirm"]}),(a.status==="pending"||a.status==="confirmed")&&t&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>t(a),children:[e.jsx(rn,{className:"h-4 w-4"}),"Reschedule"]}),(a.status==="pending"||a.status==="confirmed")&&s&&e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>s(a),children:[e.jsx(Cr,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(zs,{children:[e.jsx(Vs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(on,{className:"h-4 w-4"})})}),e.jsxs(Ws,{align:"end",children:[e.jsx(ur,{children:"View Details"}),e.jsx(ur,{children:"Edit Notes"})]})]})]})})]},a.id)})})]})})}const po={pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"};function da({appointments:r,statusFilter:n,monthlyStats:t}){const{auth:o}=xt().props,s=o.user.role,[a,i]=l.useState("calendar"),[d,c]=l.useState(!1),[h,m]=l.useState(null),[u,f]=l.useState(!1),[p,v]=l.useState(!1),[P,D]=l.useState(!1),[M,A]=l.useState(!1),k=g=>{m(g),c(!0)},O=g=>{A(!1),m(g),f(!0)},{data:F,put:j,processing:W}=pt({}),K=g=>{const E=g.replace(/\s+/g," ").replace(/\u202F/g," "),[y,I]=E.split(" ");let[w,x]=y.split(":");return w==="12"&&(w="00"),I==="PM"&&(w=parseInt(w,10)+12),`${w}:${x}`},N=(g,E,y,I)=>{let w="appointments.reschedule";s==="clinic_admin"&&(w="clinic.appointments.reschedule"),s==="clinic_user"&&(w="clinic.user.appointments.reschedule");const x=K(y),_=G(E,"yyyy-MM-dd");Ve.put(route(w,{appointment:g.id}),{new_slot:x,new_dt:_})},R=(g,E,y)=>{let I="appointments.confirm";s==="clinic_admin"&&(I="clinic.appointments.confirm"),s==="clinic_user"&&(I="clinic.user.appointments.confirm"),D(!0),j(route(I,{appointment:h}),{content:E,notifications:y,onFinish:()=>{D(!1),A(!0)}})},$=g=>{m(g),v(!0)},S=()=>{let g="appointments.cancel";h&&(s==="clinic_admin"&&(g="clinic.appointments.cancel"),s==="clinic_user"&&(g="clinic.user.appointments.cancel"),Ve.put(route(g,{appointment:h}),{onFinish:()=>{v(!1)},onSuccess:()=>{v(!1)}}),v(!1))},C=g=>{Ve.get(route("appointments.index",{status:g},{preserveState:!0,replace:!0}))};return e.jsxs(Pt,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:Object.entries(t).map(([g,E])=>e.jsx(Hs,{title:po[g]??g,value:E},g))}),e.jsx($s,{viewMode:a,setViewMode:g=>i(g),statusFilter:n,setStatusFilter:g=>C(g)}),a==="list"?e.jsxs(Pe,{className:"shadow-card",children:[e.jsx(gt,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(vt,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(Re,{className:"p-0 pt-4",children:e.jsx(xo,{appointments:r,onReschedule:k})})]}):e.jsx(co,{appointments:r,onReschedule:k,onConfirm:O,onCancel:$}),e.jsx(ho,{open:d,onOpenChange:c,appointment:h,onReschedule:N}),e.jsx(mo,{open:u,onOpenChange:f,appointment:h,onConfirm:R,processing:P,isConfirmed:M}),e.jsx(io,{open:p,onOpenChange:v,appointment:h,onCancel:S})]})}export{da as default};
