import{r as l,W as f,j as a}from"./app-BDrvQ-Fh.js";import{I as b}from"./ImageUploader-DHmZkdlX.js";import{I as t}from"./InputLabel-Dc8g30Io.js";import{T as g}from"./TextArea-ReiCawfW.js";import{T as N}from"./TextInput-GN7bQiB3.js";import{F as v}from"./flatpickr-CRdh6B4k.js";import{S as D}from"./SubmitButton-B9vQ8E3g.js";import"./app-D_D9UtE4.js";import"./index-Cc0CZ3Ta.js";import"./index-Chjiymov.js";import"./tslib.es6-BUas5LQb.js";import"./button-C9DuKgUG.js";import"./trash-D8BZ9NLJ.js";import"./createLucideIcon-HlBZp8tO.js";import"./loader-C1uvpXws.js";function V(){const o=l.useRef(null),[i,F]=l.useState(!1),[d,c]=l.useState([]),{data:r,setData:s,processing:n,post:p,error:T,reset:x}=f({title:"",description:"",start_date:"",end_date:"",image:""}),m=e=>e.toISOString().split("T")[0],h=e=>{c(e),s("start_date",m(e[0])),s("end_date",m(e[1]))},u=()=>{const e=bootstrap.Modal.getInstance(o.current);x(),e.toggle()},j=e=>{e.preventDefault(),p(route("deals.store"),{forceFormData:!0,onFinish:u})};return a.jsxs("div",{className:"col-sm-auto",children:[a.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDealModal",disabled:i,children:[a.jsx("i",{className:"bi-tag  me-1"})," Add Deal"]}),a.jsx("div",{id:"addDealModal",className:"modal fade modal-lg",ref:o,children:a.jsx("div",{className:"modal-dialog modal-dialog-centered",children:a.jsxs("div",{className:"modal-content",children:[a.jsx("div",{className:"modal-header",children:a.jsx("h5",{className:"modal-title",children:"Add Deal"})}),a.jsx("div",{className:"modal-body",children:a.jsxs("form",{onSubmit:j,noValidate:!0,children:[a.jsxs("div",{className:"row mb-4",children:[a.jsx(t,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Deal Image"}),a.jsxs("div",{className:"col-sm-9",children:[a.jsx(b,{onFileSelect:e=>s("image",e)}),"                                    "]})]}),a.jsxs("div",{className:"row mb-4",children:[a.jsx(t,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Title"}),a.jsx("div",{className:"col-sm-9",children:a.jsx(N,{id:"title",type:"text",name:"title",value:r.title,className:"form-control ",placeholder:"Title",onChange:e=>s("title",e.target.value)})})]}),a.jsxs("div",{className:"row mb-4",children:[a.jsx(t,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Description"}),a.jsx("div",{className:"col-sm-9",children:a.jsx(g,{id:"description",type:"text",name:"description",value:r.description,className:"form-control ",placeholder:"Title",onChange:e=>s("description",e.target.value)})})]}),a.jsxs("div",{className:"row mb-4",children:[a.jsx(t,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Duration"}),a.jsx("div",{className:"col-sm-9",children:a.jsx(v,{value:d,options:{mode:"range",dateFormat:"d-m-Y"},className:"js-flatpickr form-control flatpickr-custom",onChange:h})})]}),a.jsxs("div",{className:"text-end",children:[a.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),a.jsx(D,{processing:n,actionText:"Add Deal"})]})]})})]})})})]})}export{V as default};
