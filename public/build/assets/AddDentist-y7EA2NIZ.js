import{r as l,W as _,j as e,b as i}from"./app-BHQ0zywF.js";import{D as F}from"./DentistIcon-DW2uWpnZ.js";import{I as t}from"./InputLabel-0Lhrt4Vb.js";import"./TextArea-BvX_MmgF.js";import{T as n}from"./TextInput-B9TnIsFd.js";import{S as w}from"./SubmitButton-CbyTX24x.js";import{S as r}from"./react-select.esm-CvZV-lpD.js";import"./app-D_D9UtE4.js";import"./button-D9VuUb7h.js";import"./loader-BMP2fIOz.js";import"./createLucideIcon-bxdoWJOP.js";import"./index-CnyDuYXe.js";import"./index-DTogXhgp.js";import"./floating-ui.dom-g0iQpA8R.js";function z(){const o=l.useRef(null),[m,d]=l.useState([]),[h,x]=l.useState([]),[u,b]=l.useState([]),{data:c,setData:a,post:p,processing:v,errors:y,reset:j}=_({name:"",practise_from:"",phone:"",email:"",clinic_id:"",clinic_branch_id:"",services:[]}),f=async()=>{const s=await i.get(route("dentists.create"));d(s.data.clinics),x(s.data.services)},N=async s=>{const C=await i.get(`/admin/clinicbranches/${s.value}`);a("clinic_id",s.value),b(C.data)},g=s=>{a("services",s)},S=()=>{const s=bootstrap.Modal.getInstance(o.current);j(),s.toggle()},D=s=>{s.preventDefault(),p(route("dentists.store"),{forceFormData:!0,onFinish:S})};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDentistModal",onClick:f,children:[e.jsx(F,{}),"Add Dentist"]}),e.jsx("div",{id:"addDentistModal",className:"modal fade modal-lg","aria-hidden":"false",ref:o,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header ",children:[e.jsx("h5",{className:"modal-title",children:"Add Dentist"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{action:"",onSubmit:D,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"dentistName",className:"col-sm-3 col-form-label form-label",value:"Dentist Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(n,{id:"dentistName",type:"text",name:"dentist_name",value:c.name,className:"form-control ",placeholder:"Dentist Name",onChange:s=>a("name",s.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"dentistName",className:"col-sm-3 col-form-label form-label",value:"Practise From"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(n,{id:"dentistName",type:"date",name:"practise_from",value:c.practise_from,className:"form-control ",placeholder:"",onChange:s=>a("practise_from",s.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"clinicSelect",className:"col-sm-3 col-form-label form-label",value:"Clinic"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:m,onChange:N})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"branchSelect",className:"col-sm-3 col-form-label form-label",value:"Branch"}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("select",{name:"",id:"branchSelect",className:"form-select",onChange:s=>{a("clinic_branch_id",s.target.value)},children:[e.jsx("option",{value:"",children:"Select Branch"}),u.map(s=>e.jsx("option",{value:s.id,children:s.name}))]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(t,{htmlFor:"branchSelect",className:"col-sm-3 col-form-label form-label",value:"Services"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(r,{options:h,isMulti:!0,onChange:g})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx(w,{processing:v,actionText:"Save Dentist"})]})]})})]})})})]})}export{z as default};
