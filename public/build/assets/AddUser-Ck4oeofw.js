import{q as g,r as c,W as w,j as e}from"./app-Ck94QIeQ.js";import{I as t}from"./InputError-BJXZVA3E.js";import{I as r}from"./InputLabel-CS5KretW.js";import{T as o}from"./TextInput-BzhNBufI.js";function S(){const h=g().props.auth.user,[u,x]=c.useState([]);c.useState([]);const[_,m]=c.useState(!1),d=c.useRef(null),{data:l,setData:a,post:p,processing:C,errors:i,reset:j}=w({full_name:"",email:"",phone:"",password:"",password_confirmation:"",clinic_id:"",role:""}),f=()=>{const s=bootstrap.Modal.getInstance(d.current);j(),s.toggle()},b=async()=>{m(!0);try{const s=await axios.get("/admin/allclinics");x(s.data)}catch(s){console.error("Error Fetching Data",s)}finally{m(!1)}},v=s=>{const n=s.target.value;a("clinic_id",n)},N=s=>{const n=h.role==="super_admin"?"clinic-users.store":"users.store";s.preventDefault(),p(route(n),{onFinish:f})};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addClinicModal",onClick:b,children:[e.jsx("i",{className:"bi-hospital me-1"})," Add User"]}),e.jsx("div",{id:"addClinicModal",className:"modal fade modal-lg",ref:d,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Add User"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(r,{htmlFor:"full_name",className:"form-label col-sm-3 col-form-label",value:"Full Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(o,{type:"text",id:"full_name",name:"full_name",className:"form-control",placeholder:"Full Name",onChange:s=>a("full_name",s.target.value),required:!0,value:l.full_name})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(r,{htmlFor:"email",className:"form-label col-sm-3 col-form-label",value:"Email"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(o,{type:"email",id:"email",name:"email",className:"form-control",placeholder:"email@domain.com",onChange:s=>a("email",s.target.value),required:!0})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(r,{htmlFor:"email",className:"form-label col-sm-3 col-form-label",value:"Phone"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(o,{type:"text",id:"phone",name:"phone",className:"form-control",placeholder:"+x(xxx)xxx-xx-xx",onChange:s=>a("phone",s.target.value),required:!0,value:l.phone}),e.jsx(t,{message:i.phone,className:"mt-2"})]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(r,{className:"form-label col-sm-3 col-form-label",htmlFor:"password",value:"Password"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(o,{id:"password",type:"password",name:"password",value:l.password,className:"form-control form-control-lg",placeholder:"8+ characters required",onChange:s=>a("password",s.target.value),required:!0}),e.jsx(t,{message:i.password,className:"invalid-feedback"})]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(r,{htmlFor:"password_confirmation",value:"Confirm Password",className:"form-label col-sm-3 col-form-label"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(o,{id:"password_confirmation",type:"password",name:"password_confirmation",value:l.password_confirmation,className:"form-control form-control-lg mb-3",placeholder:"8+ characters required",onChange:s=>a("password_confirmation",s.target.value),required:!0}),e.jsx(t,{message:i.password_confirmation,className:"invalid-feedback"}),e.jsx("h5",{children:"Password requirements:"}),e.jsx("p",{className:"fs-6 mb-2",children:"Ensure that these requirements are met:"}),e.jsxs("ul",{className:"fs-6",children:[e.jsx("li",{children:"Minimum 8 characters long - the more, the better"}),e.jsx("li",{children:"At least one lowercase character"}),e.jsx("li",{children:"At least one uppercase character"}),e.jsx("li",{children:"At least one number, symbol, or whitespace character"})]})]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{htmlFor:"clinic_master",className:"col-sm-3 col-form-label form-label",children:"Clinic "}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("select",{name:"",id:"clinic_master",className:"form-select",onChange:v,value:l.clinic_id,children:[e.jsx("option",{value:""}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"phoneLabel",className:"col-sm-3 col-form-label form-label",children:"Role "}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("select",{name:"",id:"",className:"form-select",onChange:s=>a("role",s.target.value),value:l.role,children:[e.jsx("option",{value:"",children:"Select User Role"}),e.jsx("option",{value:"clinic_admin",children:"Clinic Admin"}),e.jsx("option",{value:"clinic_user",children:"Clinic User"})]})})]}),e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-sm-12 text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save User"})]})})]})})]})})})]})}export{S as default};
