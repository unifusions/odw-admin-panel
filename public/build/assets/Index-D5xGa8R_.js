import{r as N,j as e,Y as k,y as F}from"./app-h6ehwo7a.js";import{A as O}from"./AuthenticatedLayout-BV9VHTLQ.js";import{c as G,T as L,d as $,F as B,i as _,a as R,b as z}from"./index-B2MK9O-r.js";import H from"./PendingAppointments-D7WnVHhQ.js";import{S as V}from"./SOStatus-DnqjB9ct.js";import"./index-C40zP8_T.js";import"./Sidebar-BEAosURM.js";import"./DentistIcon-Dr9Q3hLE.js";import"./index-V2c_sA3e.js";import"./LegendIndicator-D4o6Z1yT.js";class s extends L{}s.prototype.classes={root:"fc-theme-bootstrap5",tableCellShaded:"fc-theme-bootstrap5-shaded",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"};s.prototype.baseIconClass="bi";s.prototype.iconClasses={close:"bi-x-lg",prev:"bi-chevron-left",next:"bi-chevron-right",prevYear:"bi-chevron-double-left",nextYear:"bi-chevron-double-right"};s.prototype.rtlIconClasses={prev:"bi-chevron-right",next:"bi-chevron-left",prevYear:"bi-chevron-double-right",nextYear:"bi-chevron-double-left"};s.prototype.iconOverrideOption="buttonIcons";s.prototype.iconOverrideCustomButtonOption="icon";s.prototype.iconOverridePrefix="bi-";var W=".fc-theme-bootstrap5 a:not([href]){color:inherit;text-decoration:inherit}.fc-theme-bootstrap5 .fc-list,.fc-theme-bootstrap5 .fc-scrollgrid,.fc-theme-bootstrap5 td,.fc-theme-bootstrap5 th{border:1px solid var(--bs-gray-400)}.fc-theme-bootstrap5 .fc-scrollgrid{border-bottom-width:0;border-right-width:0}.fc-theme-bootstrap5-shaded{background-color:var(--bs-gray-200)}";G(W);var q=$({name:"@fullcalendar/bootstrap5",themeClasses:{bootstrap5:s}});const l=({icon:n,value:i})=>e.jsxs("div",{className:"d-flex mb-4",children:[e.jsx("i",{className:`bi bi-${n} nav-icon`}),e.jsx("div",{className:"flex-grow-1",children:e.jsx("span",{className:"d-block text-dark",children:i})})]});function se({appointments:n,pendingAppointments:i,activeYear:C,activeMonth:S}){var c,m,p,h,u,b,x,v,g;const[d,M]=N.useState(new Date(C,S-1,1)),[t,w]=N.useState(null),D={pending:"#f5ca99",cancelled:"#ed4c78",confirmed:"#00c9a7"},T=o=>{const r=o.view.currentStart;d.getFullYear()===r.getFullYear()&&d.getMonth()===r.getMonth()||(M(r),F.get(route("appointments.index"),{year:r.getFullYear(),month:r.getMonth()+1},{only:["appointments","activeYear","activeMonth","pendingAppointments"],preserveState:!0,preserveScroll:!0,replace:!0}))},Y=o=>{var y;const{id:r,title:a,start:I,end:f,moreInfo:J}=o.event,P=new Date(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),j=f?new Date(f).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"";return o.event.extendedProps.status||((y=o.event._def.extendedProps)==null||y.status),e.jsxs("div",{className:"  custom-event rounded  ",children:[e.jsx("strong",{className:"text-dark",children:a}),e.jsxs("div",{className:"text-dark fs-10",children:[P," ",j&&`- ${j}`]})]})},A=o=>{w({id:o.event.id,title:o.event.title,start:o.event.start.toLocaleString(),end:o.event.end?o.event.end.toLocaleString():"N/A",moreInfo:o.event.extendedProps}),new window.bootstrap.Modal(document.getElementById("eventModal")).show()};return e.jsxs(O,{header:"Appointments",children:[e.jsx(k,{title:"Appointments"}),i>0&&e.jsx(H,{pendingEvents:i}),e.jsx(B,{plugins:[_,R,z,q],themeSystem:"bootstrap5",initialView:"dayGridMonth",initialDate:d,events:n,datesSet:T,eventContent:Y,eventClick:A,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},selectable:!1,slotMinTime:"00:00:00",slotMaxTime:"23:59:00",eventDidMount:o=>{const r=o.event.extendedProps.status,a=D[r]||"#f5ca99";o.el.style.backgroundColor=a,o.el.style.borderColor=a}}),e.jsx("div",{className:"modal fade",id:"eventModal",tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("h3",{className:"modal-title me-3",children:["Appointment # ",t==null?void 0:t.id]}),e.jsx(V,{status:(c=t==null?void 0:t.moreInfo)==null?void 0:c.status})]}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx(l,{icon:"person-circle",value:t==null?void 0:t.title}),e.jsx(l,{icon:"capsule",value:(p=(m=t==null?void 0:t.moreInfo)==null?void 0:m.services)==null?void 0:p.name}),e.jsx(l,{icon:"pin-map",value:(u=(h=t==null?void 0:t.moreInfo)==null?void 0:h.clinic)==null?void 0:u.name}),e.jsxs("div",{className:"d-flex ",children:[e.jsx("div",{class:"avatar avatar-xs avatar-circle me-2",children:e.jsx("img",{class:"avatar-img",src:(x=(b=t==null?void 0:t.moreInfo)==null?void 0:b.dentist)==null?void 0:x.photo_url})}),e.jsx("div",{className:"flex-grow-1",children:e.jsx("span",{className:"d-block text-dark",children:(g=(v=t==null?void 0:t.moreInfo)==null?void 0:v.dentist)==null?void 0:g.name})})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})}export{se as default};
