import{r as i,j as e,y as g,q as v,W as f,Y as b}from"./app-CZNqWUbr.js";import{C as h}from"./Card-BrIJlmFT.js";import{D as _,R as x,C as u}from"./Components-DgYAL9Pb.js";import{I as N}from"./InputLabel-PPFGl_Ra.js";import{P as y}from"./PageHeader-DJ69YeRn.js";import{S as C}from"./ServiceImageHeaderUploader-CzEYGJk_.js";import{S as D}from"./ServiceImageUploader-C8XJq9wW.js";import{T as S}from"./TextArea-C_4ThwBh.js";import{T as o}from"./TextInput-B-Xizkn5.js";import{T as p}from"./TextInputWithLabel-BnriBFAT.js";import{A as w}from"./AuthenticatedLayout-DTZU78aE.js";import"./Breadcrumbs-6_BgrGhT.js";import"./index-C5bPz36A.js";import"./index-Chjiymov.js";import"./index-DMYjD6eu.js";import"./Sidebar-CZx7cy-s.js";import"./DentistIcon-BukdQHqX.js";function T({item:s,category:t,processUrl:l}){const c=i.useRef(null),r=i.useRef(null),[d,m]=i.useState(!1),a=()=>{m(!1),r.current.toggle()},n=j=>{j.preventDefault(),m(!0),g.delete(route(l,s),{onSuccess:a})};return i.useEffect(()=>(c.current&&(r.current=new bootstrap.Modal(c.current)),()=>{r.current&&r.current.dispose()}),[]),e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:a,children:[e.jsx("i",{className:"bi-trash"})," Delete"]}),e.jsx("div",{className:"modal fade modal-lg",ref:c,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsxs("h5",{className:"modal-title",children:["Delete ",t," ?"]})}),e.jsxs("div",{className:"modal-body",children:["Are you sure, you want to delete ",e.jsxs("b",{children:[" ",s.name," "]}),"?"]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3",onClick:a,children:"Close"}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:n,disabled:d,children:[d?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Delete"," "]})]})})]})})})]})}function G(){const{service:s}=v().props,{data:t,setData:l,processing:c,post:r,reset:d}=f({name:s.name||"",medical_name:s.medical_name||"",image_path:s.image_path||"",desc:s.desc||"",cost:s.cost||"",avg_cost:s.avg_cost||"",max_cost:s.max_cost||"",max_avg_cost:s.max_avg_cost||"",display_order:s.display_order||"",header_image_path:s.header_image_path||""}),m=a=>{a.preventDefault();const n=new FormData;t.image_path&&n.append("image_path",t.image_path),n.append("_method","PUT"),g.post(route("services.update",s),{_method:"put",data:t,image_path:t.image_path,forceFormData:!0}),modalRef.current&&modalRef.current.hideModal()};return e.jsxs(w,{header:"Edit Treatment ",children:[e.jsx(b,{title:"Treatments"}),e.jsx(y,{}),e.jsxs(_,{className:"mb-3 justify-content-between",children:[e.jsx("h1",{className:"page-header-title",children:s.name}),e.jsx(T,{item:s,processUrl:"services.destroy",category:"Treatment"})]}),e.jsx("form",{onSubmit:m,children:e.jsxs(x,{children:[e.jsx(u,{lg:4,children:e.jsx(h,{title:"Treatment",children:e.jsxs("ul",{className:"list-group list-group-flush list-group-no-gutters",children:[e.jsxs("li",{className:"list-group-item",children:[e.jsx(C,{onFileSelect:a=>l("header_image_file",a),existingImage:s.header_image_url}),e.jsx(D,{onFileSelect:a=>l("image_file",a),existingImage:s.image_path_url}),e.jsx("h5",{className:"text-center",children:s.name})]}),e.jsxs("li",{class:"list-group-item",children:[e.jsx("div",{class:"d-flex justify-content-between align-items-center",children:e.jsx("h5",{children:"Status"})}),e.jsxs("ul",{class:"list-unstyled list-py-2 text-body",children:[e.jsxs("li",{children:[e.jsx("i",{class:"bi-at me-2"}),"Created At"]}),e.jsxs("li",{children:[e.jsx("i",{class:"bi-phone me-2"}),"Status "]})]})]})]})})}),e.jsx(u,{lg:8,children:e.jsxs(h,{children:[e.jsx(x,{}),e.jsx(p,{id:"service_name",type:"text",value:t.name,placeholder:"Treatment Name",onChange:a=>l("name",a.target.value),label:"Name",className:" mb-4",isSingleRow:!0}),e.jsx(p,{isSingleRow:!0,id:"category_name",type:"text",name:"category_name",value:t.medical_name,className:"form-control ",placeholder:"Medical Name",label:"Medical Name",onChange:a=>l("medical_name",a.target.value)}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"desc",className:"col-sm-3 col-form-label form-label",children:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(S,{name:"desc",className:"form-control",value:t.desc,onChange:a=>l("desc",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"serviceCost",className:"col-sm-3 col-form-label form-label",children:"ODW Cost"}),e.jsx("div",{className:"col-sm-4",children:e.jsx(o,{id:"serviceCost",type:"number",name:"cost",value:t.cost,className:"form-control ",placeholder:"Service Name",onChange:a=>l("cost",a.target.value)})}),e.jsx("div",{className:"col-sm-4",children:e.jsx(o,{id:"serviceMaxCost",type:"number",name:"max_cost",value:t.max_cost,className:"form-control ",placeholder:"Max",onChange:a=>l("max_cost",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(N,{htmlFor:"avgCost",className:"form-label col-sm-3 col-form-label",value:"Average Cost"}),e.jsx("div",{className:"col-sm-4",children:e.jsx(o,{id:"avgCost",type:"number",name:"cost",value:t.avg_cost,className:"form-control ",placeholder:"Average Cost",onChange:a=>l("avg_cost",a.target.value)})}),e.jsx("div",{className:"col-sm-4",children:e.jsx(o,{id:"avgMaxCost",type:"number",name:"cost",value:t.max_avg_cost,className:"form-control ",placeholder:"Max",onChange:a=>l("max_avg_cost",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"firstNameLabel",className:"col-sm-3 col-form-label form-label",children:"Display Order"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(o,{id:"category_name",type:"number",name:"category_name",value:t.display_order,className:"form-control ",placeholder:"Display Order",onChange:a=>l("display_order",a.target.value)})})]}),e.jsx("div",{className:"text-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Treatment"})})]})})]})})]})}export{G as default};
