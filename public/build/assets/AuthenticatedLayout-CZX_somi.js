import{r,j as a,b as y,a as v,q as x,W as k}from"./app-Cah_yPJS.js";import{y as p,L as S}from"./index-Diy6QJ-U.js";import{S as D}from"./Sidebar-CDnCv_wH.js";function E(){const[h,d]=r.useState(!1),[l,t]=r.useState(""),[n,c]=r.useState([]),[o,m]=r.useState(-1);r.useEffect(()=>{const e=s=>{(s.ctrlKey||s.metaKey)&&s.key==="k"?(s.preventDefault(),d(i=>!i)):s.key==="Escape"&&d(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const u=async e=>{const s=e.target.value;if(t(s),s.length<2){c([]),m(-1);return}const i=await y.get(route("search"),{params:{q:s}});console.log(i.data),c(i.data),m(-1)},j=e=>{if(n.length){if(e.key==="ArrowDown")e.preventDefault(),m(s=>(s+1)%n.length);else if(e.key==="ArrowUp")e.preventDefault(),m(s=>(s-1+n.length)%n.length);else if(e.key==="Enter"&&o>=0){e.preventDefault();const s=n[o];s&&(window.location.href=route(s.route.name,s.route.params))}}},f=({item:e})=>a.jsx(v,{class:"dropdown-item",href:e.route,children:a.jsxs("div",{class:"d-flex align-items-center",children:[a.jsx("div",{class:"flex-shrink-0",children:a.jsx("span",{class:"icon icon-soft-dark icon-xs icon-circle",children:a.jsx("i",{class:"bi-geo-alt"})})}),a.jsx("div",{class:"flex-grow-1 text-truncate ms-2",children:a.jsx("span",{children:e.name})},e.id)]})}),b=({item:e})=>a.jsx(v,{class:"dropdown-item",href:e.route,children:a.jsxs("div",{class:"d-flex align-items-center",children:[a.jsx("div",{class:"flex-shrink-0",children:e.photo?a.jsx("img",{class:"avatar avatar-xs avatar-circle",src:e.photo,alt:""}):a.jsx("div",{class:"avatar avatar-xs avatar-soft-info avatar-circle",children:a.jsx("span",{class:"avatar-initials",children:e.name[0]})})}),a.jsx("div",{class:"flex-grow-1 text-truncate ms-2",children:a.jsx("span",{children:e.name})})]})}),g=({group:e,result:s})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{class:"dropdown-header",children:e}),s.map(i=>a.jsx(f,{item:i})),a.jsx("div",{class:"dropdown-divider"})]}),w=({group:e,result:s})=>a.jsxs(a.Fragment,{children:[a.jsx("span",{class:"dropdown-header",children:e}),s.map(i=>a.jsx(b,{item:i})),a.jsx("div",{class:"dropdown-divider"})]}),N=(e,s)=>{switch(e){case"clinics":return s.length>0&&a.jsx(g,{group:e,result:s});default:return s.length>0&&a.jsx(w,{group:e,result:s})}};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"dropdown ms-2",children:[a.jsx("div",{className:"d-none d-lg-block",children:a.jsxs("div",{className:"input-group input-group-merge input-group-borderless input-group-hover-light navbar-input-group",children:[a.jsx("div",{className:"input-group-prepend input-group-text",children:a.jsx("i",{className:"bi-search"})}),a.jsx("input",{type:"search",className:"focus form-control",placeholder:"Search ","aria-label":"Search ",value:l,onChange:u,onKeyDown:j})]})}),Object.keys(n).length>0&&a.jsx(a.Fragment,{children:a.jsx("div",{id:"searchDropdownMenu",class:"hs-form-search-menu-content dropdown-menu dropdown-menu-form-search navbar-dropdown-menu-borderless animated hs-form-search-menu-initialized slideInUp",style:{top:"120%",width:"100%",animationDuration:"300ms"},children:a.jsx("div",{class:"card",children:a.jsx("div",{class:"card-body-height",children:Object.keys(n).map(e=>N(e,n[e]))})})})})]})})}function K({header:h,children:d}){const l=x().props.auth.user,t=x().props.flash,{post:n}=k();r.useState(!1),r.useState(!1);const c=o=>{o.preventDefault(),n(route("logout"))};return r.useEffect(()=>{t.message&&p.success(t.message)},[t.message]),r.useEffect(()=>{t.failed&&p.error(t.failed)},[t.failed]),a.jsx(a.Fragment,{children:a.jsxs("div",{className:"has-navbar-vertical-aside navbar-vertical-aside-show-xl   footer-offset",children:[a.jsx("header",{id:"header",className:"navbar navbar-expand-lg navbar-fixed navbar-height navbar-container navbar-bordered bg-white",children:a.jsxs("div",{className:"navbar-nav-wrap",children:[a.jsx(v,{className:"navbar-brand",href:"#","aria-label":"Front",children:a.jsx("img",{className:"navbar-brand-logo",src:"/images/odw-brand.png",alt:"Logo",height:20})}),a.jsxs("div",{className:"navbar-nav-wrap-content-start",children:[a.jsxs("button",{type:"button",className:"js-navbar-vertical-aside-toggle-invoker navbar-aside-toggler",children:[a.jsx("i",{className:"bi-arrow-bar-left navbar-toggler-short-align","data-bs-template":'<div className="tooltip d-none d-md-block" role="tooltip"><div className="arrow"></div><div className="tooltip-inner"></div></div>',"data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Collapse"}),a.jsx("i",{className:"bi-arrow-bar-right navbar-toggler-full-align","data-bs-template":'<div className="tooltip d-none d-md-block" role="tooltip"><div className="arrow"></div><div className="tooltip-inner"></div></div>',"data-bs-toggle":"tooltip","data-bs-placement":"right",title:"Expand"})]}),h&&a.jsx("div",{className:"fs-2 fw-bold text-dark",children:h}),a.jsx(E,{})]}),a.jsx("div",{className:"navbar-nav-wrap-content-end",children:a.jsx("ul",{className:"navbar-nav",children:a.jsx("li",{className:"nav-item",children:a.jsxs("div",{className:"dropdown",children:[a.jsx("a",{className:"navbar-dropdown-account-wrapper",href:"#!",id:"accountNavbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside","data-bs-dropdown-animation":!0,children:a.jsx("div",{className:"avatar avatar-sm avatar-dark avatar-circle",children:a.jsx("span",{className:"avatar-initials ",children:l.name&&Array.from(l.name)[0]})})}),a.jsxs("div",{className:"dropdown-menu dropdown-menu-end navbar-dropdown-menu navbar-dropdown-menu-borderless navbar-dropdown-account",style:{width:"16rem"},children:[a.jsx("div",{className:"dropdown-item-text",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"avatar avatar-sm avatar-dark avatar-circle",children:a.jsx("span",{className:"avatar-initials ",children:Array.from(l.name)[0]})}),a.jsxs("div",{className:"flex-grow-1 ms-3",children:[a.jsx("h5",{className:"mb-0",children:l.name}),a.jsx("p",{className:"card-text text-body",children:l.email})]})]})}),a.jsx("div",{className:"dropdown-divider"}),a.jsx("a",{className:"dropdown-item",href:"#",children:"Profile & account"}),a.jsx("div",{className:"dropdown-divider"}),a.jsx("form",{onSubmit:c,children:a.jsx("button",{type:"submit",className:"dropdown-item",children:"Logout"})})]})]})})})})]})}),a.jsx(D,{}),a.jsxs("main",{id:"content",role:"main",className:"main",children:[a.jsx("div",{className:"content container-fluid",children:d}),a.jsx("div",{className:"footer",children:a.jsxs("div",{className:"row justify-content-between align-items-center",children:[a.jsx("div",{className:"col",children:a.jsxs("p",{className:"fs-6 mb-0",children:["Â© 2025. ",a.jsx("span",{className:"d-none d-sm-inline-block",children:"OneDentalWorld."})]})}),a.jsx("div",{className:"col-auto",children:a.jsx("div",{className:"d-flex justify-content-end",children:a.jsxs("ul",{className:"list-inline list-separator",children:[a.jsx("li",{className:"list-inline-item",children:a.jsx("a",{className:"list-separator-link",href:"#",children:"FAQ"})}),a.jsx("li",{className:"list-inline-item",children:a.jsx("a",{className:"list-separator-link",href:"#",children:"License"})}),a.jsx("li",{className:"list-inline-item",children:a.jsx("button",{className:"btn btn-ghost-secondary btn btn-icon btn-ghost-secondary rounded-circle",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasKeyboardShortcuts","aria-controls":"offcanvasKeyboardShortcuts",children:a.jsx("i",{className:"bi-command"})})})]})})})]})})]}),a.jsx(S,{})]})})}export{K as A};
