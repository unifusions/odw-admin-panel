import{r as t,W as j,j as e}from"./app-BzFnvfZu.js";import{I as f}from"./ImageUploader-9MJiF3UA.js";import{I as l}from"./InputLabel-CL_gn-xW.js";import{T as N}from"./TextArea-sVtkT8Zn.js";import{T as g}from"./TextInput-CUDkaSkU.js";import{F as v}from"./flatpickr-kwyagMsO.js";import"./index-Chjiymov.js";function A(){const o=t.useRef(null),[m,D]=t.useState(!1),[n,c]=t.useState([]),{data:r,setData:s,processing:d,post:x,error:F,reset:p}=j({title:"",description:"",start_date:"",end_date:"",image:""}),i=a=>a.toISOString().split("T")[0],h=a=>{c(a),s("start_date",i(a[0])),s("end_date",i(a[1]))},b=()=>{const a=bootstrap.Modal.getInstance(o.current);p(),a.toggle()},u=a=>{a.preventDefault(),x(route("deals.store"),{forceFormData:!0,onFinish:b})};return e.jsxs("div",{className:"col-sm-auto",children:[e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#addDealModal",disabled:m,children:[e.jsx("i",{className:"bi-tag  me-1"})," Add Deal"]}),e.jsx("div",{id:"addDealModal",className:"modal fade modal-lg",ref:o,children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",children:"Add Deal"})}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:u,noValidate:!0,children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Deal Image"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx(f,{onFileSelect:a=>s("image",a)}),"                                    "]})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Title"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(g,{id:"title",type:"text",name:"title",value:r.title,className:"form-control ",placeholder:"Title",onChange:a=>s("title",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(N,{id:"description",type:"text",name:"description",value:r.description,className:"form-control ",placeholder:"Title",onChange:a=>s("description",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(l,{htmlFor:"",className:"form-label col-sm-3 col-form-label",value:"Duration"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(v,{value:n,options:{mode:"range",dateFormat:"d-m-Y"},className:"js-flatpickr form-control flatpickr-custom",onChange:h})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3","data-bs-dismiss":"modal",children:"Close"}),e.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:d,children:[d?e.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}):"Save Deal"," "]})]})]})})]})})})]})}export{A as default};
