import{r as l,j as e,q as ft,y as We}from"./app-BAQAwIW-.js";import{C as Pe,d as Re,a as xt,b as pt}from"./card-BbZEX8Rg.js";import{e as gt}from"./select-BUc1TVQI.js";import{d as pr,R as vt,I as bt,T as gr,a as vr,b as he}from"./tabs-C-2i7cU8.js";import{e as Ge,u as X,c as I,B as E}from"./button-ioYCQu1g.js";import{c as ie}from"./createLucideIcon-CvfrgLOc.js";import{a as jt,b as wt,B as te,C as ne,M as Nt,A as Ct}from"./AuthenticatedLayout-Bua1PjBO.js";import{D as Ee,a as De,b as Ae,c as Te,d as ke,e as Ne}from"./dialog-HA_ksmhH.js";import{c as Ue,b,P as Y,e as yt,a as St,u as Mt}from"./index-C1N97cYi.js";import{P as ee}from"./index-C9mIgadg.js";import{h as _t,b as Pt,F as Rt,D as Et,u as Q,R as Dt,P as At,a as lr}from"./Combination-DWhwZL_f.js";import{c as Tt,u as br}from"./index-BB9WNf4R.js";import{C as fe}from"./clock-BCEng6Nj.js";import{B as kt}from"./building-p8tokvI4.js";import{U as Be}from"./user-BWgxgtR9.js";import{P as He}from"./phone-Sn8-hWeg.js";import{M as Ke}from"./mail-Cibj9bDS.js";import{a as jr,b as wr,e as cr,s as It,c as Ot,i as Lt,d as ue,C as Ft}from"./calendar-DdayLaJL.js";import{a as je}from"./addDays--5Ovw2Cz.js";import{f as G,s as Ve}from"./format-CW6KcVUP.js";import{C as Nr}from"./circle-x-CG-qSZHu.js";import{L as Ce}from"./label-dpjDYwpR.js";import{T as zt}from"./textarea-C81q-6JU.js";import{C as ir}from"./checkbox-CI1co4_u.js";import{C as Xe}from"./circle-check-big-QQKjXb6q.js";import{c as Cr,A as Wt,C as Vt,a as $t,R as Gt}from"./index-Bl4poizS.js";import{A as Ut}from"./avatar-_5RhH863.js";import"./app-Bqpq0L9t.js";import"./index-gNGYnTfw.js";import"./index-BTRy030n.js";import"./check-DRh5mlJ1.js";import"./index-COiGAyRe.js";import"./input-BPwbRBZf.js";import"./stethoscope-QFxF8bU_.js";import"./x-YOkWmChY.js";import"./tslib.es6-BUas5LQb.js";import"./index-Bx-WUCzx.js";import"./floating-ui.react-dom-DrPVh3jv.js";import"./floating-ui.dom-g0iQpA8R.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Ht=ie("calendar-clock",Bt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xt=ie("circle-alert",Kt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],qt=ie("ellipsis",Yt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Jt=ie("layout-grid",Zt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],en=ie("list",Qt);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],tn=ie("map",rn);function nn(r){const n=sn(r),t=l.forwardRef((o,s)=>{const{children:a,...i}=o,d=l.Children.toArray(a),c=d.find(an);if(c){const f=c.props.children,m=d.map(u=>u===c?l.Children.count(f)>1?l.Children.only(null):l.isValidElement(f)?f.props.children:null:u);return e.jsx(n,{...i,ref:s,children:l.isValidElement(f)?l.cloneElement(f,void 0,m):null})}return e.jsx(n,{...i,ref:s,children:a})});return t.displayName=`${r}.Slot`,t}function sn(r){const n=l.forwardRef((t,o)=>{const{children:s,...a}=t;if(l.isValidElement(s)){const i=cn(s),d=ln(a,s.props);return s.type!==l.Fragment&&(d.ref=o?Ge(o,i):i),l.cloneElement(s,d)}return l.Children.count(s)>1?l.Children.only(null):null});return n.displayName=`${r}.SlotClone`,n}var on=Symbol("radix.slottable");function an(r){return l.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===on}function ln(r,n){const t={...n};for(const o in n){const s=r[o],a=n[o];/^on[A-Z]/.test(o)?s&&a?t[o]=(...d)=>{const c=a(...d);return s(...d),c}:s&&(t[o]=s):o==="style"?t[o]={...s,...a}:o==="className"&&(t[o]=[s,a].filter(Boolean).join(" "))}return{...r,...t}}function cn(r){var o,s;let n=(o=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?r.ref:(n=(s=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:s.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var $e=["Enter"," "],dn=["ArrowDown","PageUp","Home"],yr=["ArrowUp","PageDown","End"],un=[...dn,...yr],mn={ltr:[...$e,"ArrowRight"],rtl:[...$e,"ArrowLeft"]},hn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ge="Menu",[xe,fn,xn]=Tt(ge),[se,Sr]=Ue(ge,[xn,Cr,pr]),Ie=Cr(),Mr=pr(),[pn,oe]=se(ge),[gn,ve]=se(ge),_r=r=>{const{__scopeMenu:n,open:t=!1,children:o,dir:s,onOpenChange:a,modal:i=!0}=r,d=Ie(n),[c,f]=l.useState(null),m=l.useRef(!1),u=Q(a),h=br(s);return l.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(Gt,{...d,children:e.jsx(pn,{scope:n,open:t,onOpenChange:u,content:c,onContentChange:f,children:e.jsx(gn,{scope:n,onClose:l.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:m,dir:h,modal:i,children:o})})})};_r.displayName=ge;var vn="MenuAnchor",Ye=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r,s=Ie(t);return e.jsx(Wt,{...s,...o,ref:n})});Ye.displayName=vn;var qe="MenuPortal",[bn,Pr]=se(qe,{forceMount:void 0}),Rr=r=>{const{__scopeMenu:n,forceMount:t,children:o,container:s}=r,a=oe(qe,n);return e.jsx(bn,{scope:n,forceMount:t,children:e.jsx(ee,{present:t||a.open,children:e.jsx(At,{asChild:!0,container:s,children:o})})})};Rr.displayName=qe;var U="MenuContent",[jn,Ze]=se(U),Er=l.forwardRef((r,n)=>{const t=Pr(U,r.__scopeMenu),{forceMount:o=t.forceMount,...s}=r,a=oe(U,r.__scopeMenu),i=ve(U,r.__scopeMenu);return e.jsx(xe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:o||a.open,children:e.jsx(xe.Slot,{scope:r.__scopeMenu,children:i.modal?e.jsx(wn,{...s,ref:n}):e.jsx(Nn,{...s,ref:n})})})})}),wn=l.forwardRef((r,n)=>{const t=oe(U,r.__scopeMenu),o=l.useRef(null),s=X(n,o);return l.useEffect(()=>{const a=o.current;if(a)return _t(a)},[]),e.jsx(Je,{...r,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:b(r.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Nn=l.forwardRef((r,n)=>{const t=oe(U,r.__scopeMenu);return e.jsx(Je,{...r,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Cn=nn("MenuContent.ScrollLock"),Je=l.forwardRef((r,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:h,onDismiss:x,disableOutsideScroll:g,...P}=r,D=oe(U,t),S=ve(U,t),A=Ie(t),T=Mr(t),N=fn(t),[j,y]=l.useState(null),k=l.useRef(null),O=X(n,k,D.onContentChange),v=l.useRef(0),M=l.useRef(""),W=l.useRef(0),_=l.useRef(null),C=l.useRef("right"),w=l.useRef(0),V=g?Dt:l.Fragment,F=g?{as:Cn,allowPinchZoom:!0}:void 0,q=p=>{var le,or;const R=M.current+p,$=N().filter(J=>!J.disabled),H=document.activeElement,K=(le=$.find(J=>J.ref.current===H))==null?void 0:le.textValue,ae=$.map(J=>J.textValue),be=In(ae,R,K),de=(or=$.find(J=>J.textValue===be))==null?void 0:or.ref.current;(function J(ar){M.current=ar,window.clearTimeout(v.current),ar!==""&&(v.current=window.setTimeout(()=>J(""),1e3))})(R),de&&setTimeout(()=>de.focus())};l.useEffect(()=>()=>window.clearTimeout(v.current),[]),Pt();const L=l.useCallback(p=>{var $,H;return C.current===(($=_.current)==null?void 0:$.side)&&Ln(p,(H=_.current)==null?void 0:H.area)},[]);return e.jsx(jn,{scope:t,searchRef:M,onItemEnter:l.useCallback(p=>{L(p)&&p.preventDefault()},[L]),onItemLeave:l.useCallback(p=>{var R;L(p)||((R=k.current)==null||R.focus(),y(null))},[L]),onTriggerLeave:l.useCallback(p=>{L(p)&&p.preventDefault()},[L]),pointerGraceTimerRef:W,onPointerGraceIntentChange:l.useCallback(p=>{_.current=p},[]),children:e.jsx(V,{...F,children:e.jsx(Rt,{asChild:!0,trapped:s,onMountAutoFocus:b(a,p=>{var R;p.preventDefault(),(R=k.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:e.jsx(Et,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:u,onInteractOutside:h,onDismiss:x,children:e.jsx(vt,{asChild:!0,...T,dir:S.dir,orientation:"vertical",loop:o,currentTabStopId:j,onCurrentTabStopIdChange:y,onEntryFocus:b(c,p=>{S.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Vt,{role:"menu","aria-orientation":"vertical","data-state":Hr(D.open),"data-radix-menu-content":"",dir:S.dir,...A,...P,ref:O,style:{outline:"none",...P.style},onKeyDown:b(P.onKeyDown,p=>{const $=p.target.closest("[data-radix-menu-content]")===p.currentTarget,H=p.ctrlKey||p.altKey||p.metaKey,K=p.key.length===1;$&&(p.key==="Tab"&&p.preventDefault(),!H&&K&&q(p.key));const ae=k.current;if(p.target!==ae||!un.includes(p.key))return;p.preventDefault();const de=N().filter(le=>!le.disabled).map(le=>le.ref.current);yr.includes(p.key)&&de.reverse(),Tn(de)}),onBlur:b(r.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(v.current),M.current="")}),onPointerMove:b(r.onPointerMove,pe(p=>{const R=p.target,$=w.current!==p.clientX;if(p.currentTarget.contains(R)&&$){const H=p.clientX>w.current?"right":"left";C.current=H,w.current=p.clientX}}))})})})})})})});Er.displayName=U;var yn="MenuGroup",Qe=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(Y.div,{role:"group",...o,ref:n})});Qe.displayName=yn;var Sn="MenuLabel",Dr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(Y.div,{...o,ref:n})});Dr.displayName=Sn;var ye="MenuItem",dr="menu.itemSelect",Oe=l.forwardRef((r,n)=>{const{disabled:t=!1,onSelect:o,...s}=r,a=l.useRef(null),i=ve(ye,r.__scopeMenu),d=Ze(ye,r.__scopeMenu),c=X(n,a),f=l.useRef(!1),m=()=>{const u=a.current;if(!t&&u){const h=new CustomEvent(dr,{bubbles:!0,cancelable:!0});u.addEventListener(dr,x=>o==null?void 0:o(x),{once:!0}),yt(u,h),h.defaultPrevented?f.current=!1:i.onClose()}};return e.jsx(Ar,{...s,ref:c,disabled:t,onClick:b(r.onClick,m),onPointerDown:u=>{var h;(h=r.onPointerDown)==null||h.call(r,u),f.current=!0},onPointerUp:b(r.onPointerUp,u=>{var h;f.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:b(r.onKeyDown,u=>{const h=d.searchRef.current!=="";t||h&&u.key===" "||$e.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Oe.displayName=ye;var Ar=l.forwardRef((r,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:s,...a}=r,i=Ze(ye,t),d=Mr(t),c=l.useRef(null),f=X(n,c),[m,u]=l.useState(!1),[h,x]=l.useState("");return l.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[a.children]),e.jsx(xe.ItemSlot,{scope:t,disabled:o,textValue:s??h,children:e.jsx(bt,{asChild:!0,...d,focusable:!o,children:e.jsx(Y.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:f,onPointerMove:b(r.onPointerMove,pe(g=>{o?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:b(r.onPointerLeave,pe(g=>i.onItemLeave(g))),onFocus:b(r.onFocus,()=>u(!0)),onBlur:b(r.onBlur,()=>u(!1))})})})}),Mn="MenuCheckboxItem",Tr=l.forwardRef((r,n)=>{const{checked:t=!1,onCheckedChange:o,...s}=r;return e.jsx(Fr,{scope:r.__scopeMenu,checked:t,children:e.jsx(Oe,{role:"menuitemcheckbox","aria-checked":Se(t)?"mixed":t,...s,ref:n,"data-state":rr(t),onSelect:b(s.onSelect,()=>o==null?void 0:o(Se(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Tr.displayName=Mn;var kr="MenuRadioGroup",[_n,Pn]=se(kr,{value:void 0,onValueChange:()=>{}}),Ir=l.forwardRef((r,n)=>{const{value:t,onValueChange:o,...s}=r,a=Q(o);return e.jsx(_n,{scope:r.__scopeMenu,value:t,onValueChange:a,children:e.jsx(Qe,{...s,ref:n})})});Ir.displayName=kr;var Or="MenuRadioItem",Lr=l.forwardRef((r,n)=>{const{value:t,...o}=r,s=Pn(Or,r.__scopeMenu),a=t===s.value;return e.jsx(Fr,{scope:r.__scopeMenu,checked:a,children:e.jsx(Oe,{role:"menuitemradio","aria-checked":a,...o,ref:n,"data-state":rr(a),onSelect:b(o.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,t)},{checkForDefaultPrevented:!1})})})});Lr.displayName=Or;var er="MenuItemIndicator",[Fr,Rn]=se(er,{checked:!1}),zr=l.forwardRef((r,n)=>{const{__scopeMenu:t,forceMount:o,...s}=r,a=Rn(er,t);return e.jsx(ee,{present:o||Se(a.checked)||a.checked===!0,children:e.jsx(Y.span,{...s,ref:n,"data-state":rr(a.checked)})})});zr.displayName=er;var En="MenuSeparator",Wr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r;return e.jsx(Y.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});Wr.displayName=En;var Dn="MenuArrow",Vr=l.forwardRef((r,n)=>{const{__scopeMenu:t,...o}=r,s=Ie(t);return e.jsx($t,{...s,...o,ref:n})});Vr.displayName=Dn;var An="MenuSub",[Go,$r]=se(An),me="MenuSubTrigger",Gr=l.forwardRef((r,n)=>{const t=oe(me,r.__scopeMenu),o=ve(me,r.__scopeMenu),s=$r(me,r.__scopeMenu),a=Ze(me,r.__scopeMenu),i=l.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:c}=a,f={__scopeMenu:r.__scopeMenu},m=l.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return l.useEffect(()=>m,[m]),l.useEffect(()=>{const u=d.current;return()=>{window.clearTimeout(u),c(null)}},[d,c]),e.jsx(Ye,{asChild:!0,...f,children:e.jsx(Ar,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Hr(t.open),...r,ref:Ge(n,s.onTriggerChange),onClick:u=>{var h;(h=r.onClick)==null||h.call(r,u),!(r.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:b(r.onPointerMove,pe(u=>{a.onItemEnter(u),!u.defaultPrevented&&!r.disabled&&!t.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{t.onOpenChange(!0),m()},100))})),onPointerLeave:b(r.onPointerLeave,pe(u=>{var x,g;m();const h=(x=t.content)==null?void 0:x.getBoundingClientRect();if(h){const P=(g=t.content)==null?void 0:g.dataset.side,D=P==="right",S=D?-5:5,A=h[D?"left":"right"],T=h[D?"right":"left"];a.onPointerGraceIntentChange({area:[{x:u.clientX+S,y:u.clientY},{x:A,y:h.top},{x:T,y:h.top},{x:T,y:h.bottom},{x:A,y:h.bottom}],side:P}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(u),u.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:b(r.onKeyDown,u=>{var x;const h=a.searchRef.current!=="";r.disabled||h&&u.key===" "||mn[o.dir].includes(u.key)&&(t.onOpenChange(!0),(x=t.content)==null||x.focus(),u.preventDefault())})})})});Gr.displayName=me;var Ur="MenuSubContent",Br=l.forwardRef((r,n)=>{const t=Pr(U,r.__scopeMenu),{forceMount:o=t.forceMount,...s}=r,a=oe(U,r.__scopeMenu),i=ve(U,r.__scopeMenu),d=$r(Ur,r.__scopeMenu),c=l.useRef(null),f=X(n,c);return e.jsx(xe.Provider,{scope:r.__scopeMenu,children:e.jsx(ee,{present:o||a.open,children:e.jsx(xe.Slot,{scope:r.__scopeMenu,children:e.jsx(Je,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:f,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var u;i.isUsingKeyboardRef.current&&((u=c.current)==null||u.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:b(r.onFocusOutside,m=>{m.target!==d.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:b(r.onEscapeKeyDown,m=>{i.onClose(),m.preventDefault()}),onKeyDown:b(r.onKeyDown,m=>{var x;const u=m.currentTarget.contains(m.target),h=hn[i.dir].includes(m.key);u&&h&&(a.onOpenChange(!1),(x=d.trigger)==null||x.focus(),m.preventDefault())})})})})})});Br.displayName=Ur;function Hr(r){return r?"open":"closed"}function Se(r){return r==="indeterminate"}function rr(r){return Se(r)?"indeterminate":r?"checked":"unchecked"}function Tn(r){const n=document.activeElement;for(const t of r)if(t===n||(t.focus(),document.activeElement!==n))return}function kn(r,n){return r.map((t,o)=>r[(n+o)%r.length])}function In(r,n,t){const s=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,a=t?r.indexOf(t):-1;let i=kn(r,Math.max(a,0));s.length===1&&(i=i.filter(f=>f!==t));const c=i.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function On(r,n){const{x:t,y:o}=r;let s=!1;for(let a=0,i=n.length-1;a<n.length;i=a++){const d=n[a],c=n[i],f=d.x,m=d.y,u=c.x,h=c.y;m>o!=h>o&&t<(u-f)*(o-m)/(h-m)+f&&(s=!s)}return s}function Ln(r,n){if(!n)return!1;const t={x:r.clientX,y:r.clientY};return On(t,n)}function pe(r){return n=>n.pointerType==="mouse"?r(n):void 0}var Fn=_r,zn=Ye,Wn=Rr,Vn=Er,$n=Qe,Gn=Dr,Un=Oe,Bn=Tr,Hn=Ir,Kn=Lr,Xn=zr,Yn=Wr,qn=Vr,Zn=Gr,Jn=Br,Le="DropdownMenu",[Qn,Uo]=Ue(Le,[Sr]),z=Sr(),[es,Kr]=Qn(Le),Xr=r=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:s,defaultOpen:a,onOpenChange:i,modal:d=!0}=r,c=z(n),f=l.useRef(null),[m,u]=St({prop:s,defaultProp:a??!1,onChange:i,caller:Le});return e.jsx(es,{scope:n,triggerId:lr(),triggerRef:f,contentId:lr(),open:m,onOpenChange:u,onOpenToggle:l.useCallback(()=>u(h=>!h),[u]),modal:d,children:e.jsx(Fn,{...c,open:m,onOpenChange:u,dir:o,modal:d,children:t})})};Xr.displayName=Le;var Yr="DropdownMenuTrigger",qr=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...s}=r,a=Kr(Yr,t),i=z(t);return e.jsx(zn,{asChild:!0,...i,children:e.jsx(Y.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:Ge(n,a.triggerRef),onPointerDown:b(r.onPointerDown,d=>{!o&&d.button===0&&d.ctrlKey===!1&&(a.onOpenToggle(),a.open||d.preventDefault())}),onKeyDown:b(r.onKeyDown,d=>{o||(["Enter"," "].includes(d.key)&&a.onOpenToggle(),d.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});qr.displayName=Yr;var rs="DropdownMenuPortal",Zr=r=>{const{__scopeDropdownMenu:n,...t}=r,o=z(n);return e.jsx(Wn,{...o,...t})};Zr.displayName=rs;var Jr="DropdownMenuContent",Qr=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=Kr(Jr,t),a=z(t),i=l.useRef(!1);return e.jsx(Vn,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...o,ref:n,onCloseAutoFocus:b(r.onCloseAutoFocus,d=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,d.preventDefault()}),onInteractOutside:b(r.onInteractOutside,d=>{const c=d.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,m=c.button===2||f;(!s.modal||m)&&(i.current=!0)}),style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qr.displayName=Jr;var ts="DropdownMenuGroup",ns=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx($n,{...s,...o,ref:n})});ns.displayName=ts;var ss="DropdownMenuLabel",os=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Gn,{...s,...o,ref:n})});os.displayName=ss;var as="DropdownMenuItem",et=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Un,{...s,...o,ref:n})});et.displayName=as;var ls="DropdownMenuCheckboxItem",cs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Bn,{...s,...o,ref:n})});cs.displayName=ls;var is="DropdownMenuRadioGroup",ds=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Hn,{...s,...o,ref:n})});ds.displayName=is;var us="DropdownMenuRadioItem",ms=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Kn,{...s,...o,ref:n})});ms.displayName=us;var hs="DropdownMenuItemIndicator",fs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Xn,{...s,...o,ref:n})});fs.displayName=hs;var xs="DropdownMenuSeparator",ps=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Yn,{...s,...o,ref:n})});ps.displayName=xs;var gs="DropdownMenuArrow",vs=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(qn,{...s,...o,ref:n})});vs.displayName=gs;var bs="DropdownMenuSubTrigger",js=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Zn,{...s,...o,ref:n})});js.displayName=bs;var ws="DropdownMenuSubContent",Ns=l.forwardRef((r,n)=>{const{__scopeDropdownMenu:t,...o}=r,s=z(t);return e.jsx(Jn,{...s,...o,ref:n,style:{...r.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ns.displayName=ws;var Cs=Xr,ys=qr,Ss=Zr,Ms=Qr,_s=et;function Ps({...r}){return e.jsx(Cs,{"data-slot":"dropdown-menu",...r})}function Rs({...r}){return e.jsx(ys,{"data-slot":"dropdown-menu-trigger",...r})}function Es({className:r,sideOffset:n=4,...t}){return e.jsx(Ss,{children:e.jsx(Ms,{"data-slot":"dropdown-menu-content",sideOffset:n,className:I("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-border p-1 shadow-md",r),...t})})}function ur({className:r,inset:n,variant:t="default",...o}){return e.jsx(_s,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":t,className:I("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...o})}function Ds({viewMode:r,setViewMode:n}){return e.jsx(Pe,{className:"shadow-card mb-6 py-0",children:e.jsx(Re,{className:"p-4",children:e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(gr,{value:r,onValueChange:n,children:e.jsxs(vr,{className:"h-9",children:[e.jsxs(he,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(en,{className:"h-4 w-4"}),"List"]}),e.jsxs(he,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Calendar"]})]})})})})})})}function we({title:r,value:n,badge:t}){return e.jsx(e.Fragment,{children:e.jsx(Pe,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(Re,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:n})]})})})})}function As(r,n,t){return jr(r,-n,t)}function Ts(r,n,t){return wr(r,-n,t)}function ks(r,n){return l.useReducer((t,o)=>n[t][o]??t,r)}var tr="ScrollArea",[rt,Bo]=Ue(tr),[Is,B]=rt(tr),tt=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,type:o="hover",dir:s,scrollHideDelay:a=600,...i}=r,[d,c]=l.useState(null),[f,m]=l.useState(null),[u,h]=l.useState(null),[x,g]=l.useState(null),[P,D]=l.useState(null),[S,A]=l.useState(0),[T,N]=l.useState(0),[j,y]=l.useState(!1),[k,O]=l.useState(!1),v=X(n,W=>c(W)),M=br(s);return e.jsx(Is,{scope:t,type:o,dir:M,scrollHideDelay:a,scrollArea:d,viewport:f,onViewportChange:m,content:u,onContentChange:h,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:y,scrollbarY:P,onScrollbarYChange:D,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:A,onCornerHeightChange:N,children:e.jsx(Y.div,{dir:M,...i,ref:v,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":T+"px",...r.style}})})});tt.displayName=tr;var nt="ScrollAreaViewport",st=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,children:o,nonce:s,...a}=r,i=B(nt,t),d=l.useRef(null),c=X(n,d,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(Y.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});st.displayName=nt;var Z="ScrollAreaScrollbar",ot=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,d=r.orientation==="horizontal";return l.useEffect(()=>(d?a(!0):i(!0),()=>{d?a(!1):i(!1)}),[d,a,i]),s.type==="hover"?e.jsx(Os,{...o,ref:n,forceMount:t}):s.type==="scroll"?e.jsx(Ls,{...o,ref:n,forceMount:t}):s.type==="auto"?e.jsx(at,{...o,ref:n,forceMount:t}):s.type==="always"?e.jsx(nr,{...o,ref:n}):null});ot.displayName=Z;var Os=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const d=s.scrollArea;let c=0;if(d){const f=()=>{window.clearTimeout(c),i(!0)},m=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(c),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(ee,{present:t||a,children:e.jsx(at,{"data-state":a?"visible":"hidden",...o,ref:n})})}),Ls=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=B(Z,r.__scopeScrollArea),a=r.orientation==="horizontal",i=ze(()=>c("SCROLL_END"),100),[d,c]=ks("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,s.scrollHideDelay,c]),l.useEffect(()=>{const f=s.viewport,m=a?"scrollLeft":"scrollTop";if(f){let u=f[m];const h=()=>{const x=f[m];u!==x&&(c("SCROLL"),i()),u=x};return f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,a,c,i]),e.jsx(ee,{present:t||d!=="hidden",children:e.jsx(nr,{"data-state":d==="hidden"?"hidden":"visible",...o,ref:n,onPointerEnter:b(r.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:b(r.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),at=l.forwardRef((r,n)=>{const t=B(Z,r.__scopeScrollArea),{forceMount:o,...s}=r,[a,i]=l.useState(!1),d=r.orientation==="horizontal",c=ze(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,m=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?f:m)}},10);return ce(t.viewport,c),ce(t.content,c),e.jsx(ee,{present:o||a,children:e.jsx(nr,{"data-state":a?"visible":"hidden",...s,ref:n})})}),nr=l.forwardRef((r,n)=>{const{orientation:t="vertical",...o}=r,s=B(Z,r.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[d,c]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=ut(d.viewport,d.content),m={...o,sizes:d,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function u(h,x){return Gs(h,i.current,d,x)}return t==="horizontal"?e.jsx(Fs,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,x=mr(h,d,s.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=u(h,s.dir))}}):t==="vertical"?e.jsx(zs,{...m,ref:n,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,x=mr(h,d);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=u(h))}}):null}),Fs=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:o,...s}=r,a=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),f=X(n,c,a.onScrollbarXChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(ct,{"data-orientation":"horizontal",...s,ref:f,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,u)=>{if(a.viewport){const h=a.viewport.scrollLeft+m.deltaX;r.onWheelScroll(h),ht(h,u)&&m.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_e(i.paddingLeft),paddingEnd:_e(i.paddingRight)}})}})}),zs=l.forwardRef((r,n)=>{const{sizes:t,onSizesChange:o,...s}=r,a=B(Z,r.__scopeScrollArea),[i,d]=l.useState(),c=l.useRef(null),f=X(n,c,a.onScrollbarYChange);return l.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),e.jsx(ct,{"data-orientation":"vertical",...s,ref:f,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fe(t)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,u)=>{if(a.viewport){const h=a.viewport.scrollTop+m.deltaY;r.onWheelScroll(h),ht(h,u)&&m.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_e(i.paddingTop),paddingEnd:_e(i.paddingBottom)}})}})}),[Ws,lt]=rt(Z),ct=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:m,onResize:u,...h}=r,x=B(Z,t),[g,P]=l.useState(null),D=X(n,v=>P(v)),S=l.useRef(null),A=l.useRef(""),T=x.viewport,N=o.content-o.viewport,j=Q(m),y=Q(c),k=ze(u,10);function O(v){if(S.current){const M=v.clientX-S.current.left,W=v.clientY-S.current.top;f({x:M,y:W})}}return l.useEffect(()=>{const v=M=>{const W=M.target;(g==null?void 0:g.contains(W))&&j(M,N)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[T,g,N,j]),l.useEffect(y,[o,y]),ce(g,k),ce(x.content,k),e.jsx(Ws,{scope:t,scrollbar:g,hasThumb:s,onThumbChange:Q(a),onThumbPointerUp:Q(i),onThumbPositionChange:y,onThumbPointerDown:Q(d),children:e.jsx(Y.div,{...h,ref:D,style:{position:"absolute",...h.style},onPointerDown:b(r.onPointerDown,v=>{v.button===0&&(v.target.setPointerCapture(v.pointerId),S.current=g.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),O(v))}),onPointerMove:b(r.onPointerMove,O),onPointerUp:b(r.onPointerUp,v=>{const M=v.target;M.hasPointerCapture(v.pointerId)&&M.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=A.current,x.viewport&&(x.viewport.style.scrollBehavior=""),S.current=null})})})}),Me="ScrollAreaThumb",it=l.forwardRef((r,n)=>{const{forceMount:t,...o}=r,s=lt(Me,r.__scopeScrollArea);return e.jsx(ee,{present:t||s.hasThumb,children:e.jsx(Vs,{ref:n,...o})})}),Vs=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,style:o,...s}=r,a=B(Me,t),i=lt(Me,t),{onThumbPositionChange:d}=i,c=X(n,u=>i.onThumbChange(u)),f=l.useRef(void 0),m=ze(()=>{f.current&&(f.current(),f.current=void 0)},100);return l.useEffect(()=>{const u=a.viewport;if(u){const h=()=>{if(m(),!f.current){const x=Us(u,d);f.current=x,d()}};return d(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,m,d]),e.jsx(Y.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:b(r.onPointerDownCapture,u=>{const x=u.target.getBoundingClientRect(),g=u.clientX-x.left,P=u.clientY-x.top;i.onThumbPointerDown({x:g,y:P})}),onPointerUp:b(r.onPointerUp,i.onThumbPointerUp)})});it.displayName=Me;var sr="ScrollAreaCorner",dt=l.forwardRef((r,n)=>{const t=B(sr,r.__scopeScrollArea),o=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&o?e.jsx($s,{...r,ref:n}):null});dt.displayName=sr;var $s=l.forwardRef((r,n)=>{const{__scopeScrollArea:t,...o}=r,s=B(sr,t),[a,i]=l.useState(0),[d,c]=l.useState(0),f=!!(a&&d);return ce(s.scrollbarX,()=>{var u;const m=((u=s.scrollbarX)==null?void 0:u.offsetHeight)||0;s.onCornerHeightChange(m),c(m)}),ce(s.scrollbarY,()=>{var u;const m=((u=s.scrollbarY)==null?void 0:u.offsetWidth)||0;s.onCornerWidthChange(m),i(m)}),f?e.jsx(Y.div,{...o,ref:n,style:{width:a,height:d,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function _e(r){return r?parseInt(r,10):0}function ut(r,n){const t=r/n;return isNaN(t)?0:t}function Fe(r){const n=ut(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,o=(r.scrollbar.size-t)*n;return Math.max(o,18)}function Gs(r,n,t,o="ltr"){const s=Fe(t),a=s/2,i=n||a,d=s-i,c=t.scrollbar.paddingStart+i,f=t.scrollbar.size-t.scrollbar.paddingEnd-d,m=t.content-t.viewport,u=o==="ltr"?[0,m]:[m*-1,0];return mt([c,f],u)(r)}function mr(r,n,t="ltr"){const o=Fe(n),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,a=n.scrollbar.size-s,i=n.content-n.viewport,d=a-o,c=t==="ltr"?[0,i]:[i*-1,0],f=gt(r,c);return mt([0,i],[0,d])(f)}function mt(r,n){return t=>{if(r[0]===r[1]||n[0]===n[1])return n[0];const o=(n[1]-n[0])/(r[1]-r[0]);return n[0]+o*(t-r[0])}}function ht(r,n){return r>0&&r<n}var Us=(r,n=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},o=0;return function s(){const a={left:r.scrollLeft,top:r.scrollTop},i=t.left!==a.left,d=t.top!==a.top;(i||d)&&n(),t=a,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function ze(r,n){const t=Q(r),o=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(o.current),[]),l.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(t,n)},[t,n])}function ce(r,n){const t=Q(n);Mt(()=>{let o=0;if(r){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(t)});return s.observe(r),()=>{window.cancelAnimationFrame(o),s.unobserve(r)}}},[r,t])}var Bs=tt,Hs=st,Ks=dt;function hr({className:r,children:n,...t}){return e.jsxs(Bs,{"data-slot":"scroll-area",className:I("relative",r),...t,children:[e.jsx(Hs,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(Xs,{}),e.jsx(Ks,{})]})}function Xs({className:r,orientation:n="vertical",...t}){return e.jsx(ot,{"data-slot":"scroll-area-scrollbar",orientation:n,className:I("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...t,children:e.jsx(it,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const re={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},Ys=r=>new Date(r),fr=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];function qs({appointments:r,onReschedule:n,onConfirm:t,onCancel:o}){var j,y,k,O,v,M,W;const[s,a]=l.useState(new Date),[i,d]=l.useState("month"),[c,f]=l.useState(null),[m,u]=l.useState(!1),h=_=>r==null?void 0:r.filter(C=>ue(Ys(C==null?void 0:C.appointment_date),_)).sort((C,w)=>C==null?void 0:C.time_slot.localeCompare(w==null?void 0:w.time_slot)),x=(_,C)=>{C.stopPropagation(),f(_),u(!0)},g=()=>{a(i==="month"?As(s,1):i==="week"?Ts(s,1):je(s,-1))},P=()=>{a(i==="month"?jr(s,1):i==="week"?wr(s,1):je(s,1))},D=()=>{if(i==="month")return G(s,"MMMM yyyy");if(i==="week"){const _=Ve(s),C=cr(s);return`${G(_,"MMM d")} - ${G(C,"MMM d, yyyy")}`}else return G(s,"EEEE, MMMM d, yyyy")},S=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=()=>{const _=It(s),C=Ot(_),w=Ve(_),V=cr(C),F=[];let q=w;for(;q<=V;)F.push(q),q=je(q,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:S.map(L=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:L},L))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:F.map((L,p)=>{const R=h(L),$=Lt(L,s),H=ue(L,new Date);return e.jsxs("div",{className:I("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!$&&"bg-muted/30 opacity-50",H&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:I("text-sm font-medium mb-2",H&&"text-primary",!$&&"text-muted-foreground"),children:G(L,"d")}),e.jsxs("div",{className:"space-y-1",children:[R.slice(0,3).map(K=>{var ae;return e.jsxs("button",{onClick:be=>x(K,be),className:I("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",re[K.status].class),children:[e.jsx("span",{className:"font-medium",children:K.time_slot})," - ",(ae=K==null?void 0:K.patient)==null?void 0:ae.first_name.split(" ")[0]]},K.id)}),(R==null?void 0:R.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",R.length-3," more"]})]})]},p)})})]})},T=()=>{const _=Ve(s),C=[];for(let w=0;w<7;w++)C.push(je(_,w));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",C.map(w=>{const V=ue(w,new Date);return e.jsxs("div",{className:I("text-center py-2 rounded-lg",V&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:G(w,"EEE")}),e.jsx("div",{className:I("text-lg font-semibold",V&&"text-primary"),children:G(w,"d")})]},w.toISOString())})]}),e.jsx(hr,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:fr.map(w=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:w},w),C.map(V=>{const q=h(V).filter(p=>p.time===w),L=ue(V,new Date);return e.jsx("div",{className:I("min-h-[60px] p-1 border border-border rounded transition-colors",L&&"bg-primary/5"),children:q.map(p=>e.jsxs("button",{onClick:R=>x(p,R),className:I("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02]",re[p.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:p.patientName}),e.jsx("div",{className:"truncate opacity-80",children:p.type})]},p.id))},`${V.toISOString()}-${w}`)})]}))})})]})},N=()=>{const _=h(s),C=ue(s,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:I("text-center py-4 rounded-lg mb-4",C&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"EEEE")}),e.jsx("div",{className:I("text-3xl font-bold",C&&"text-primary"),children:G(s,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:G(s,"MMMM yyyy")})]}),e.jsx(hr,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:fr.map(w=>{const V=_.filter(F=>F.time===w);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:w}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:V.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:V.map(F=>e.jsx("button",{onClick:q=>x(F,q),className:I("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01]",re[F.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:F.patientName}),e.jsx("div",{className:"text-sm opacity-80",children:F.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:F.doctor}),e.jsx(te,{variant:"outline",className:"mt-1",children:re[F.status].label})]})]})},F.id))})})]},w)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"shadow-card w-full",children:e.jsxs(Re,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:D()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(re).map(([_,C])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:I("px-2 py-0.5 rounded text-xs",C.class),children:C.label})},_))}),e.jsx(gr,{value:i,onValueChange:_=>d(_),children:e.jsxs(vr,{className:"h-9",children:[e.jsx(he,{value:"month",className:"px-3",children:"Month"}),e.jsx(he,{value:"week",className:"px-3",children:"Week"}),e.jsx(he,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"icon",onClick:g,children:e.jsx(jt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"outline",onClick:()=>a(new Date),children:"Today"}),e.jsx(E,{variant:"outline",size:"icon",onClick:P,children:e.jsx(wt,{className:"h-4 w-4"})})]})]})]}),i==="month"&&A(),i==="week"&&T(),i==="day"&&N()]})}),e.jsx(Ee,{open:m,onOpenChange:u,children:e.jsx(De,{className:"sm:max-w-[500px]",children:c&&e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(j=c==null?void 0:c.patient)==null?void 0:j.first_name.split(" ").map(_=>_[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(y=c==null?void 0:c.patient)==null?void 0:y.first_name}),e.jsx(te,{className:I("mt-1",re[c.status].class),children:re[c.status].label})]})]}),e.jsx(ke,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(ne,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:c.appointment_date})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(fe,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:c.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(kt,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((k=c==null?void 0:c.clinic)==null?void 0:k.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Be,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((O=c==null?void 0:c.appointable)==null?void 0:O.name)??"Next Available Provider"," "]}),(c==null?void 0:c.appointable)&&e.jsx(te,{variant:"outline",children:c==null?void 0:c.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(v=c==null?void 0:c.patient)==null?void 0:v.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[(W=(M=c==null?void 0:c.patient)==null?void 0:M.first_name)==null?void 0:W.toLowerCase().replace(" ","."),"@email.com"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[c.status==="pending"&&e.jsx(E,{className:"flex-1",onClick:()=>{t(c),u(!1)},children:"Confirm"}),(c.status==="pending"||c.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",className:"flex-1",onClick:()=>{n(c),u(!1)},children:"Reschedule"}),e.jsx(E,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{o(c),u(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function Zs({open:r,onOpenChange:n,appointment:t,onCancel:o}){var s,a;return e.jsx(Ee,{open:r,onOpenChange:n,children:e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Ae,{children:[e.jsx(Te,{children:"Cancel Appointment"}),e.jsx(ke,{children:"Are you sure you want to cancel this appointment?"})]}),t&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(s=t==null?void 0:t.patient)==null?void 0:s.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(a=t==null?void 0:t.appointable)==null?void 0:a.name})]})}),e.jsxs(Ne,{children:[e.jsx(E,{variant:"outline",onClick:()=>n(!1),children:"Keep Appointment"}),e.jsxs(E,{variant:"destructive",onClick:o,children:[e.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function Js({appointment:r,sendEmail:n,sendSMS:t}){var o;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(Xe,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(o=r==null?void 0:r.patient)==null?void 0:o.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(n||t)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),n&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(Ke,{className:"h-3 w-3"}),"Email"]}),t&&e.jsxs(te,{variant:"secondary",className:"gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),"SMS"]})]})]})}function Qs({open:r,onOpenChange:n,appointment:t,onConfirm:o}){var g,P,D,S,A,T;const[s,a]=l.useState(""),[i,d]=l.useState(!0),[c,f]=l.useState(!0),[m,u]=l.useState("details"),h=()=>{a(""),d(!0),f(!0),u("details"),n(!1)},x=()=>{if(t){const N=[];i&&N.push("email"),c&&N.push("sms"),o(t,s,N),u("success")}};return t?e.jsx(Ee,{open:r,onOpenChange:h,children:e.jsx(De,{className:"max-w-md",children:m==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(ke,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(P=(g=t==null?void 0:t.patient)==null?void 0:g.first_name)==null?void 0:P.split(" ").map(N=>N[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(D=t==null?void 0:t.patient)==null?void 0:D.first_name}),((S=t==null?void 0:t.dentalservice)==null?void 0:S.name)&&e.jsx(te,{variant:"outline",className:"mt-1",children:(A=t==null?void 0:t.dentalservice)==null?void 0:A.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:t==null?void 0:t.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:(T=t==null?void 0:t.appointable)==null?void 0:T.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(zt,{placeholder:"Add any notes or instructions for the patient...",value:s,onChange:N=>a(N.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(ir,{id:"email",checked:i,onCheckedChange:N=>d(!!N)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(ir,{id:"sms",checked:c,onCheckedChange:N=>f(!!N)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(He,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(Ne,{children:[e.jsx(E,{variant:"outline",onClick:h,children:"Cancel"}),e.jsx(E,{onClick:x,children:"Confirm Appointment"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Js,{appointment:t,sendEmail:i,sendSMS:c}),e.jsx(Ne,{children:e.jsx(E,{onClick:h,className:"w-full",children:"Done"})})]})})}):null}const eo=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function ro({open:r,onOpenChange:n,appointment:t,onReschedule:o}){var S,A,T,N,j;const[s,a]=l.useState(),[i,d]=l.useState(""),[c,f]=l.useState(""),[m,u]=l.useState(""),[h,x]=l.useState("select"),g=()=>{a(void 0),d(""),f(""),u(""),x("select"),n(!1)},P=()=>{s&&i&&x("confirm")},D=()=>{t&&s&&i&&(o(t,s,i,m),g())};return t?e.jsx(Ee,{open:r,onOpenChange:g,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Ae,{children:[e.jsxs(Te,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(ke,{children:["Select a new date and time for ",(S=t==null?void 0:t.patient)==null?void 0:S.first_name,"'s"," ",(A=t==null?void 0:t.type)==null?void 0:A.toLowerCase()," appointment"]})]}),h==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(N=(T=t==null?void 0:t.patient)==null?void 0:T.first_name)==null?void 0:N.split(" ").map(y=>y[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(j=t==null?void 0:t.patient)==null?void 0:j.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t==null?void 0:t.appointment_date," at ",t==null?void 0:t.time_slot]})]}),e.jsx(te,{variant:"outline",children:t==null?void 0:t.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select New Date"}),e.jsx(Ft,{mode:"single",selected:s,onSelect:a,disabled:y=>y<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ce,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:eo.map(y=>e.jsx(E,{type:"button",variant:i===y?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(y),children:y},y))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Xt,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t==null?void 0:t.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:s&&G(s,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(fe,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:i})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(Ne,{children:h==="select"?e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",onClick:g,children:"Cancel"}),e.jsx(E,{onClick:P,disabled:!s||!i,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"outline",onClick:()=>x("select"),children:"Back"}),e.jsx(E,{onClick:D,children:"Confirm Reschedule"})]})})]})}):null}const xr={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function to({appointments:r,showActions:n=!0,onReschedule:t,onConfirm:o,onCancel:s}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),n&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(a=>{var i,d,c;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(Ut,{text:(i=a==null?void 0:a.patient)==null?void 0:i.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:a==null?void 0:a.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:a==null?void 0:a.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=a==null?void 0:a.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((c=a==null?void 0:a.clinic)==null?void 0:c.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:I("badge-status",xr[a==null?void 0:a.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),xr[a.status].label]})}),n&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.status==="pending"&&o&&e.jsxs(E,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>o(a),children:[e.jsx(Xe,{className:"h-4 w-4"}),"Confirm"]}),(a.status==="pending"||a.status==="confirmed")&&t&&e.jsxs(E,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>t(a),children:[e.jsx(Ht,{className:"h-4 w-4"}),"Reschedule"]}),(a.status==="pending"||a.status==="confirmed")&&s&&e.jsxs(E,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>s(a),children:[e.jsx(Nr,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(Ps,{children:[e.jsx(Rs,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(qt,{className:"h-4 w-4"})})}),e.jsxs(Es,{align:"end",children:[e.jsx(ur,{children:"View Details"}),e.jsx(ur,{children:"Edit Notes"})]})]})]})})]},a.id)})})]})})}function Ho({appointments:r,pendingAppointments:n}){const{auth:t}=ft().props,o=t.user.role,[s,a]=l.useState("calendar"),[i,d]=l.useState(!1),[c,f]=l.useState(null),[m,u]=l.useState(!1),[h,x]=l.useState(!1),g=j=>{f(j),d(!0)},P=j=>{f(j),u(!0)},D=j=>{const y=j.replace(/\s+/g," ").replace(/\u202F/g," "),[k,O]=y.split(" ");let[v,M]=k.split(":");return v==="12"&&(v="00"),O==="PM"&&(v=parseInt(v,10)+12),`${v}:${M}`},S=(j,y,k,O)=>{let v="appointments.reschedule";o==="clinic_admin"&&(v="clinic.appointments.reschedule"),o==="clinic_user"&&(v="clinic.user.appointments.reschedule");const M=D(k),W=G(y,"yyyy-MM-dd");We.put(route(v,{appointment:j.id}),{new_slot:M,new_dt:W})},A=(j,y,k)=>{let O="appointments.confirm";o==="clinic_admin"&&(O="clinic.appointments.confirm"),o==="clinic_user"&&(O="clinic.user.appointments.confirm"),We.put(route(O,{appointment:c}))},T=j=>{f(j),x(!0)},N=()=>{let j="appointments.cancel";c&&(o==="clinic_admin"&&(j="clinic.appointments.cancel"),o==="clinic_user"&&(j="clinic.user.appointments.cancel"),We.put(route(j,{appointment:c}),{onFinish:()=>{f(null),x(!1)}}))};return e.jsxs(Ct,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[e.jsx(we,{title:"Confirmed",value:r.length}),e.jsx(we,{title:"Pending",value:r.length}),e.jsx(we,{title:"Completed",value:r.length}),e.jsx(we,{title:"Cancelled",value:r.length})]}),e.jsx(Ds,{viewMode:s,setViewMode:j=>a(j)}),s==="list"?e.jsxs(Pe,{className:"shadow-card",children:[e.jsx(xt,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(pt,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(Re,{className:"p-0 pt-4",children:e.jsx(to,{appointments:r,onReschedule:g})})]}):e.jsx(qs,{appointments:r,onReschedule:g,onConfirm:P,onCancel:T}),e.jsx(ro,{open:i,onOpenChange:d,appointment:c,onReschedule:S}),e.jsx(Qs,{open:m,onOpenChange:u,appointment:c,onConfirm:A}),e.jsx(Zs,{open:h,onOpenChange:x,appointment:c,onCancel:N})]})}export{Ho as default};
