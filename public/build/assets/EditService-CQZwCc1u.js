import{r as i,W as p,j as e,y as x}from"./app-CGl8m2OM.js";import{I as g}from"./InputLabel-BXW2sO52.js";import{T as t}from"./TextInput-CwJvtomz.js";import u from"./ServiceModal-DccE8l48.js";import{T as _}from"./TextArea-Cjh3Uc6I.js";import{S as v,a as f}from"./ServiceImageHeaderUploader-BFCgV7jt.js";import"./index-Bv5qbOix.js";import"./index-Chjiymov.js";function T({service:l}){const[d,r]=i.useState(null),m=i.useRef(null),{data:s,setData:o,processing:b,post:j,reset:N}=p({name:l.name||"",medical_name:l.medical_name||"",image_path:l.image_path||"",desc:l.desc||"",cost:l.cost||"",avg_cost:l.avg_cost||"",max_cost:l.max_cost||"",max_avg_cost:l.max_avg_cost||"",display_order:l.display_order||"",header_image_path:l.header_image_path||""}),c=()=>{m.current&&m.current.hideModal(),r(null)},h=a=>{a.preventDefault();const n=new FormData;s.image_path&&n.append("image_path",s.image_path),n.append("_method","PUT"),x.post(route("services.update",l),{_method:"put",data:s,image_path:s.image_path,forceFormData:!0}),m.current&&m.current.hideModal(),r(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",class:"btn btn-white btn-sm",onClick:()=>r(`editServiceModal-${l.id}`),children:[e.jsx("i",{class:"bi-pencil-fill me-1"})," Edit"]}),e.jsx(u,{id:`editServiceModal-${l.id}`,activeModal:d,onClose:c,title:l.name,ref:m,children:e.jsxs("form",{action:"",onSubmit:h,noValidate:!0,children:[console.log(s),e.jsx(v,{onFileSelect:a=>o("header_image_file",a),existingImage:s.header_image_path}),e.jsx(f,{onFileSelect:a=>o("image_file",a),existingImage:s.image_path}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"service_name",className:"col-sm-3 col-form-label form-label",children:"Category Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(t,{id:"service_name",type:"text",name:"service_name",value:s.name,className:"form-control ",placeholder:"Service Name",onChange:a=>o("name",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"firstNameLabel",className:"col-sm-3 col-form-label form-label",children:"Medical Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(t,{id:"category_name",type:"text",name:"category_name",value:s.medical_name,className:"form-control ",placeholder:"Medical Name",onChange:a=>o("medical_name",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"desc",className:"col-sm-3 col-form-label form-label",children:"Description"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(_,{name:"desc",className:"form-control",value:s.desc,onChange:a=>o("desc",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"serviceCost",className:"col-sm-3 col-form-label form-label",children:"ODW Cost"}),e.jsx("div",{className:"col-sm-4",children:e.jsx(t,{id:"serviceCost",type:"number",name:"cost",value:s.cost,className:"form-control ",placeholder:"Service Name",onChange:a=>o("cost",a.target.value)})}),e.jsx("div",{className:"col-sm-4",children:e.jsx(t,{id:"serviceMaxCost",type:"number",name:"max_cost",value:s.max_cost,className:"form-control ",placeholder:"Max",onChange:a=>o("max_cost",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx(g,{htmlFor:"avgCost",className:"form-label col-sm-3 col-form-label",value:"Average Cost"}),e.jsx("div",{className:"col-sm-4",children:e.jsx(t,{id:"avgCost",type:"number",name:"cost",value:s.avg_cost,className:"form-control ",placeholder:"Average Cost",onChange:a=>o("avg_cost",a.target.value)})}),e.jsx("div",{className:"col-sm-4",children:e.jsx(t,{id:"avgMaxCost",type:"number",name:"cost",value:s.max_avg_cost,className:"form-control ",placeholder:"Max",onChange:a=>o("max_avg_cost",a.target.value)})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("label",{for:"firstNameLabel",className:"col-sm-3 col-form-label form-label",children:"Display Order"}),e.jsx("div",{className:"col-sm-9",children:e.jsx(t,{id:"category_name",type:"number",name:"category_name",value:s.display_order,className:"form-control ",placeholder:"Display Order",onChange:a=>o("display_order",a.target.value)})})]}),e.jsxs("div",{className:"text-end",children:[e.jsx("button",{type:"button",className:"btn btn-white me-3",onClick:c,children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Update Service"})]})]})},l.id)]})}export{T as default};
