import{j as e,r as i,q as ts,y as ve}from"./app-rKIe7vKN.js";import{C as ie,d as de,a as ls,b as ns}from"./card-BWsWMhk7.js";import{e as as}from"./select-Bk7b-VVd.js";import{T as We,a as He,b as ee}from"./tabs-CtgUGFIR.js";import{u as J,c as M,B as y}from"./button-BSUTEGjt.js";import{c as Q}from"./createLucideIcon-Ch-CKtN6.js";import{u as os,P as me,p as U,b as cs,d as is,B as $,C as q,M as ds,q as ms,r as hs,s as xs,t as Ee,A as us}from"./AuthenticatedLayout-DDacw6vI.js";import{D as he,a as xe,b as ue,c as fe,d as ge,e as ne}from"./dialog-DjcDdYIm.js";import{c as fs,P as re,a as G,e as gs}from"./index-JBSBpJX5.js";import{C as se}from"./clock-Crj0Oe6K.js";import{B as js}from"./building-DnOCFwX_.js";import{U as Ne}from"./user-B38F2G0i.js";import{P as we}from"./phone-DN6IpmGu.js";import{M as ye}from"./mail-CqdsXda3.js";import{a as Fe,b as Ie,e as Te,s as bs,c as vs,i as ps,d as Z,C as Ns}from"./calendar-BASGEt54.js";import{a as te}from"./addDays--5Ovw2Cz.js";import{f as L,s as pe}from"./format-CW6KcVUP.js";import{C as Ve}from"./circle-x-Dwunjchj.js";import{L as ae}from"./label-Bz2byNvm.js";import{T as ws}from"./textarea-Cs1KB3t1.js";import{C as De}from"./checkbox-CUDTaOkv.js";import{C as Se}from"./circle-check-big-BtORCrJg.js";import{A as ys}from"./avatar-DpOurrBF.js";import"./app-Bqpq0L9t.js";import"./index-TmGRm4kw.js";import"./index-YciY5Mju.js";import"./chevron-down-CLFkn5Iq.js";import"./check-BJ2uqbu5.js";import"./index-BivP8Wze.js";import"./floating-ui.dom-CHyJ_zCg.js";import"./tslib.es6-BUas5LQb.js";import"./input-C7za4xCp.js";import"./stethoscope-BCLDccv4.js";import"./x-BYy-9k9a.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Cs=Q("calendar-clock",Ss);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ms=Q("circle-alert",Ps);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],As=Q("ellipsis",ks);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Es=Q("layout-grid",_s);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ds=Q("list",Ts);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ls=Q("map",Rs);function Os({viewMode:r,setViewMode:a}){return e.jsx(ie,{className:"shadow-card mb-6 py-0",children:e.jsx(de,{className:"p-4",children:e.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(We,{value:r,onValueChange:a,children:e.jsxs(He,{className:"h-9",children:[e.jsxs(ee,{value:"list",className:"gap-1.5 px-3",children:[e.jsx(Ds,{className:"h-4 w-4"}),"List"]}),e.jsxs(ee,{value:"calendar",className:"gap-1.5 px-3",children:[e.jsx(Es,{className:"h-4 w-4"}),"Calendar"]})]})})})})})})}function le({title:r,value:a,badge:s}){return e.jsx(e.Fragment,{children:e.jsx(ie,{className:"shadow-card cursor-pointer hover:shadow-card-hover transition-shadow py-0",children:e.jsx(de,{className:"flex items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:a})]})})})})}function zs(r,a,s){return Fe(r,-a,s)}function Ws(r,a,s){return Ie(r,-a,s)}function Hs(r,a){return i.useReducer((s,c)=>a[s][c]??s,r)}var Ce="ScrollArea",[Be,Vr]=fs(Ce),[Fs,O]=Be(Ce),Xe=i.forwardRef((r,a)=>{const{__scopeScrollArea:s,type:c="hover",dir:t,scrollHideDelay:l=600,...o}=r,[d,n]=i.useState(null),[x,m]=i.useState(null),[u,h]=i.useState(null),[f,b]=i.useState(null),[k,D]=i.useState(null),[P,A]=i.useState(0),[E,v]=i.useState(0),[j,w]=i.useState(!1),[R,_]=i.useState(!1),g=J(a,z=>n(z)),C=os(t);return e.jsx(Fs,{scope:s,type:c,dir:C,scrollHideDelay:l,scrollArea:d,viewport:x,onViewportChange:m,content:u,onContentChange:h,scrollbarX:f,onScrollbarXChange:b,scrollbarXEnabled:j,onScrollbarXEnabledChange:w,scrollbarY:k,onScrollbarYChange:D,scrollbarYEnabled:R,onScrollbarYEnabledChange:_,onCornerWidthChange:A,onCornerHeightChange:v,children:e.jsx(re.div,{dir:C,...o,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":E+"px",...r.style}})})});Xe.displayName=Ce;var Ye="ScrollAreaViewport",Ue=i.forwardRef((r,a)=>{const{__scopeScrollArea:s,children:c,nonce:t,...l}=r,o=O(Ye,s),d=i.useRef(null),n=J(a,d,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:t}),e.jsx(re.div,{"data-radix-scroll-area-viewport":"",...l,ref:n,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...r.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});Ue.displayName=Ye;var H="ScrollAreaScrollbar",$e=i.forwardRef((r,a)=>{const{forceMount:s,...c}=r,t=O(H,r.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:o}=t,d=r.orientation==="horizontal";return i.useEffect(()=>(d?l(!0):o(!0),()=>{d?l(!1):o(!1)}),[d,l,o]),t.type==="hover"?e.jsx(Is,{...c,ref:a,forceMount:s}):t.type==="scroll"?e.jsx(Vs,{...c,ref:a,forceMount:s}):t.type==="auto"?e.jsx(qe,{...c,ref:a,forceMount:s}):t.type==="always"?e.jsx(Pe,{...c,ref:a}):null});$e.displayName=H;var Is=i.forwardRef((r,a)=>{const{forceMount:s,...c}=r,t=O(H,r.__scopeScrollArea),[l,o]=i.useState(!1);return i.useEffect(()=>{const d=t.scrollArea;let n=0;if(d){const x=()=>{window.clearTimeout(n),o(!0)},m=()=>{n=window.setTimeout(()=>o(!1),t.scrollHideDelay)};return d.addEventListener("pointerenter",x),d.addEventListener("pointerleave",m),()=>{window.clearTimeout(n),d.removeEventListener("pointerenter",x),d.removeEventListener("pointerleave",m)}}},[t.scrollArea,t.scrollHideDelay]),e.jsx(me,{present:s||l,children:e.jsx(qe,{"data-state":l?"visible":"hidden",...c,ref:a})})}),Vs=i.forwardRef((r,a)=>{const{forceMount:s,...c}=r,t=O(H,r.__scopeScrollArea),l=r.orientation==="horizontal",o=be(()=>n("SCROLL_END"),100),[d,n]=Hs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(d==="idle"){const x=window.setTimeout(()=>n("HIDE"),t.scrollHideDelay);return()=>window.clearTimeout(x)}},[d,t.scrollHideDelay,n]),i.useEffect(()=>{const x=t.viewport,m=l?"scrollLeft":"scrollTop";if(x){let u=x[m];const h=()=>{const f=x[m];u!==f&&(n("SCROLL"),o()),u=f};return x.addEventListener("scroll",h),()=>x.removeEventListener("scroll",h)}},[t.viewport,l,n,o]),e.jsx(me,{present:s||d!=="hidden",children:e.jsx(Pe,{"data-state":d==="hidden"?"hidden":"visible",...c,ref:a,onPointerEnter:G(r.onPointerEnter,()=>n("POINTER_ENTER")),onPointerLeave:G(r.onPointerLeave,()=>n("POINTER_LEAVE"))})})}),qe=i.forwardRef((r,a)=>{const s=O(H,r.__scopeScrollArea),{forceMount:c,...t}=r,[l,o]=i.useState(!1),d=r.orientation==="horizontal",n=be(()=>{if(s.viewport){const x=s.viewport.offsetWidth<s.viewport.scrollWidth,m=s.viewport.offsetHeight<s.viewport.scrollHeight;o(d?x:m)}},10);return K(s.viewport,n),K(s.content,n),e.jsx(me,{present:c||l,children:e.jsx(Pe,{"data-state":l?"visible":"hidden",...t,ref:a})})}),Pe=i.forwardRef((r,a)=>{const{orientation:s="vertical",...c}=r,t=O(H,r.__scopeScrollArea),l=i.useRef(null),o=i.useRef(0),[d,n]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=Ze(d.viewport,d.content),m={...c,sizes:d,onSizesChange:n,hasThumb:x>0&&x<1,onThumbChange:h=>l.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function u(h,f){return qs(h,o.current,d,f)}return s==="horizontal"?e.jsx(Bs,{...m,ref:a,onThumbPositionChange:()=>{if(t.viewport&&l.current){const h=t.viewport.scrollLeft,f=Re(h,d,t.dir);l.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{t.viewport&&(t.viewport.scrollLeft=h)},onDragScroll:h=>{t.viewport&&(t.viewport.scrollLeft=u(h,t.dir))}}):s==="vertical"?e.jsx(Xs,{...m,ref:a,onThumbPositionChange:()=>{if(t.viewport&&l.current){const h=t.viewport.scrollTop,f=Re(h,d);l.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{t.viewport&&(t.viewport.scrollTop=h)},onDragScroll:h=>{t.viewport&&(t.viewport.scrollTop=u(h))}}):null}),Bs=i.forwardRef((r,a)=>{const{sizes:s,onSizesChange:c,...t}=r,l=O(H,r.__scopeScrollArea),[o,d]=i.useState(),n=i.useRef(null),x=J(a,n,l.onScrollbarXChange);return i.useEffect(()=>{n.current&&d(getComputedStyle(n.current))},[n]),e.jsx(Ke,{"data-orientation":"horizontal",...t,ref:x,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":je(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.x),onDragScroll:m=>r.onDragScroll(m.x),onWheelScroll:(m,u)=>{if(l.viewport){const h=l.viewport.scrollLeft+m.deltaX;r.onWheelScroll(h),ss(h,u)&&m.preventDefault()}},onResize:()=>{n.current&&l.viewport&&o&&c({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:n.current.clientWidth,paddingStart:ce(o.paddingLeft),paddingEnd:ce(o.paddingRight)}})}})}),Xs=i.forwardRef((r,a)=>{const{sizes:s,onSizesChange:c,...t}=r,l=O(H,r.__scopeScrollArea),[o,d]=i.useState(),n=i.useRef(null),x=J(a,n,l.onScrollbarYChange);return i.useEffect(()=>{n.current&&d(getComputedStyle(n.current))},[n]),e.jsx(Ke,{"data-orientation":"vertical",...t,ref:x,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":je(s)+"px",...r.style},onThumbPointerDown:m=>r.onThumbPointerDown(m.y),onDragScroll:m=>r.onDragScroll(m.y),onWheelScroll:(m,u)=>{if(l.viewport){const h=l.viewport.scrollTop+m.deltaY;r.onWheelScroll(h),ss(h,u)&&m.preventDefault()}},onResize:()=>{n.current&&l.viewport&&o&&c({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:n.current.clientHeight,paddingStart:ce(o.paddingTop),paddingEnd:ce(o.paddingBottom)}})}})}),[Ys,Ge]=Be(H),Ke=i.forwardRef((r,a)=>{const{__scopeScrollArea:s,sizes:c,hasThumb:t,onThumbChange:l,onThumbPointerUp:o,onThumbPointerDown:d,onThumbPositionChange:n,onDragScroll:x,onWheelScroll:m,onResize:u,...h}=r,f=O(H,s),[b,k]=i.useState(null),D=J(a,g=>k(g)),P=i.useRef(null),A=i.useRef(""),E=f.viewport,v=c.content-c.viewport,j=U(m),w=U(n),R=be(u,10);function _(g){if(P.current){const C=g.clientX-P.current.left,z=g.clientY-P.current.top;x({x:C,y:z})}}return i.useEffect(()=>{const g=C=>{const z=C.target;(b==null?void 0:b.contains(z))&&j(C,v)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[E,b,v,j]),i.useEffect(w,[c,w]),K(b,R),K(f.content,R),e.jsx(Ys,{scope:s,scrollbar:b,hasThumb:t,onThumbChange:U(l),onThumbPointerUp:U(o),onThumbPositionChange:w,onThumbPointerDown:U(d),children:e.jsx(re.div,{...h,ref:D,style:{position:"absolute",...h.style},onPointerDown:G(r.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),P.current=b.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),_(g))}),onPointerMove:G(r.onPointerMove,_),onPointerUp:G(r.onPointerUp,g=>{const C=g.target;C.hasPointerCapture(g.pointerId)&&C.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=A.current,f.viewport&&(f.viewport.style.scrollBehavior=""),P.current=null})})})}),oe="ScrollAreaThumb",Je=i.forwardRef((r,a)=>{const{forceMount:s,...c}=r,t=Ge(oe,r.__scopeScrollArea);return e.jsx(me,{present:s||t.hasThumb,children:e.jsx(Us,{ref:a,...c})})}),Us=i.forwardRef((r,a)=>{const{__scopeScrollArea:s,style:c,...t}=r,l=O(oe,s),o=Ge(oe,s),{onThumbPositionChange:d}=o,n=J(a,u=>o.onThumbChange(u)),x=i.useRef(void 0),m=be(()=>{x.current&&(x.current(),x.current=void 0)},100);return i.useEffect(()=>{const u=l.viewport;if(u){const h=()=>{if(m(),!x.current){const f=Gs(u,d);x.current=f,d()}};return d(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[l.viewport,m,d]),e.jsx(re.div,{"data-state":o.hasThumb?"visible":"hidden",...t,ref:n,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:G(r.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),b=u.clientX-f.left,k=u.clientY-f.top;o.onThumbPointerDown({x:b,y:k})}),onPointerUp:G(r.onPointerUp,o.onThumbPointerUp)})});Je.displayName=oe;var Me="ScrollAreaCorner",Qe=i.forwardRef((r,a)=>{const s=O(Me,r.__scopeScrollArea),c=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&c?e.jsx($s,{...r,ref:a}):null});Qe.displayName=Me;var $s=i.forwardRef((r,a)=>{const{__scopeScrollArea:s,...c}=r,t=O(Me,s),[l,o]=i.useState(0),[d,n]=i.useState(0),x=!!(l&&d);return K(t.scrollbarX,()=>{var u;const m=((u=t.scrollbarX)==null?void 0:u.offsetHeight)||0;t.onCornerHeightChange(m),n(m)}),K(t.scrollbarY,()=>{var u;const m=((u=t.scrollbarY)==null?void 0:u.offsetWidth)||0;t.onCornerWidthChange(m),o(m)}),x?e.jsx(re.div,{...c,ref:a,style:{width:l,height:d,position:"absolute",right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:0,...r.style}}):null});function ce(r){return r?parseInt(r,10):0}function Ze(r,a){const s=r/a;return isNaN(s)?0:s}function je(r){const a=Ze(r.viewport,r.content),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,c=(r.scrollbar.size-s)*a;return Math.max(c,18)}function qs(r,a,s,c="ltr"){const t=je(s),l=t/2,o=a||l,d=t-o,n=s.scrollbar.paddingStart+o,x=s.scrollbar.size-s.scrollbar.paddingEnd-d,m=s.content-s.viewport,u=c==="ltr"?[0,m]:[m*-1,0];return es([n,x],u)(r)}function Re(r,a,s="ltr"){const c=je(a),t=a.scrollbar.paddingStart+a.scrollbar.paddingEnd,l=a.scrollbar.size-t,o=a.content-a.viewport,d=l-c,n=s==="ltr"?[0,o]:[o*-1,0],x=as(r,n);return es([0,o],[0,d])(x)}function es(r,a){return s=>{if(r[0]===r[1]||a[0]===a[1])return a[0];const c=(a[1]-a[0])/(r[1]-r[0]);return a[0]+c*(s-r[0])}}function ss(r,a){return r>0&&r<a}var Gs=(r,a=()=>{})=>{let s={left:r.scrollLeft,top:r.scrollTop},c=0;return function t(){const l={left:r.scrollLeft,top:r.scrollTop},o=s.left!==l.left,d=s.top!==l.top;(o||d)&&a(),s=l,c=window.requestAnimationFrame(t)}(),()=>window.cancelAnimationFrame(c)};function be(r,a){const s=U(r),c=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(c.current),[]),i.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(s,a)},[s,a])}function K(r,a){const s=U(a);gs(()=>{let c=0;if(r){const t=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(s)});return t.observe(r),()=>{window.cancelAnimationFrame(c),t.unobserve(r)}}},[r,s])}var Ks=Xe,Js=Ue,Qs=Qe;function Le({className:r,children:a,...s}){return e.jsxs(Ks,{"data-slot":"scroll-area",className:M("relative",r),...s,children:[e.jsx(Js,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),e.jsx(Zs,{}),e.jsx(Qs,{})]})}function Zs({className:r,orientation:a="vertical",...s}){return e.jsx($e,{"data-slot":"scroll-area-scrollbar",orientation:a,className:M("flex touch-none p-px transition-colors select-none",a==="vertical"&&"h-full w-2.5 border-l border-l-transparent",a==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",r),...s,children:e.jsx(Je,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Y={confirmed:{label:"Confirmed",class:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},pending:{label:"Pending",class:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"},cancelled:{label:"Cancelled",class:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},completed:{label:"Completed",class:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"}},er=r=>new Date(r),Oe=["08:00 AM","09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"];function sr({appointments:r,onReschedule:a,onConfirm:s,onCancel:c}){var j,w,R,_,g,C,z;const[t,l]=i.useState(new Date),[o,d]=i.useState("month"),[n,x]=i.useState(null),[m,u]=i.useState(!1),h=S=>r==null?void 0:r.filter(p=>Z(er(p==null?void 0:p.appointment_date),S)).sort((p,N)=>p==null?void 0:p.time_slot.localeCompare(N==null?void 0:N.time_slot)),f=(S,p)=>{p.stopPropagation(),x(S),u(!0)},b=()=>{l(o==="month"?zs(t,1):o==="week"?Ws(t,1):te(t,-1))},k=()=>{l(o==="month"?Fe(t,1):o==="week"?Ie(t,1):te(t,1))},D=()=>{if(o==="month")return L(t,"MMMM yyyy");if(o==="week"){const S=pe(t),p=Te(t);return`${L(S,"MMM d")} - ${L(p,"MMM d, yyyy")}`}else return L(t,"EEEE, MMMM d, yyyy")},P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=()=>{const S=bs(t),p=vs(S),N=pe(S),W=Te(p),T=[];let V=N;for(;V<=W;)T.push(V),V=te(V,1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:P.map(F=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:F},F))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T.map((F,I)=>{const B=h(F),ke=ps(F,t),Ae=Z(F,new Date);return e.jsxs("div",{className:M("min-h-[120px] p-2 border border-border rounded-lg transition-colors",!ke&&"bg-muted/30 opacity-50",Ae&&"bg-primary/5 border-primary"),children:[e.jsx("div",{className:M("text-sm font-medium mb-2",Ae&&"text-primary",!ke&&"text-muted-foreground"),children:L(F,"d")}),e.jsxs("div",{className:"space-y-1",children:[B.slice(0,3).map(X=>{var _e;return e.jsxs("button",{onClick:rs=>f(X,rs),className:M("w-full text-left px-2 py-1 rounded text-xs truncate transition-all hover:scale-[1.02]",Y[X.status].class),children:[e.jsx("span",{className:"font-medium",children:X.time_slot})," - ",(_e=X==null?void 0:X.patient)==null?void 0:_e.first_name.split(" ")[0]]},X.id)}),(B==null?void 0:B.length)>3&&e.jsxs("div",{className:"text-xs text-muted-foreground pl-2",children:["+",B.length-3," more"]})]})]},I)})})]})},E=()=>{const S=pe(t),p=[];for(let N=0;N<7;N++)p.push(te(S,N));return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-2",children:[e.jsx("div",{className:"w-20 shrink-0"})," ",p.map(N=>{const W=Z(N,new Date);return e.jsxs("div",{className:M("text-center py-2 rounded-lg",W&&"bg-primary/10"),children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:L(N,"EEE")}),e.jsx("div",{className:M("text-lg font-semibold",W&&"text-primary"),children:L(N,"d")})]},N.toISOString())})]}),e.jsx(Le,{className:"h-[500px]",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:Oe.map(N=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 shrink-0 text-xs text-muted-foreground py-3 text-right pr-2",children:N},N),p.map(W=>{const V=h(W).filter(I=>I.time===N),F=Z(W,new Date);return e.jsx("div",{className:M("min-h-[60px] p-1 border border-border rounded transition-colors",F&&"bg-primary/5"),children:V.map(I=>e.jsxs("button",{onClick:B=>f(I,B),className:M("w-full text-left px-2 py-1.5 rounded text-xs transition-all hover:scale-[1.02]",Y[I.status].class),children:[e.jsx("div",{className:"font-medium truncate",children:I.patientName}),e.jsx("div",{className:"truncate opacity-80",children:I.type})]},I.id))},`${W.toISOString()}-${N}`)})]}))})})]})},v=()=>{const S=h(t),p=Z(t,new Date);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:M("text-center py-4 rounded-lg mb-4",p&&"bg-primary/10"),children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:L(t,"EEEE")}),e.jsx("div",{className:M("text-3xl font-bold",p&&"text-primary"),children:L(t,"d")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:L(t,"MMMM yyyy")})]}),e.jsx(Le,{className:"h-[500px]",children:e.jsx("div",{className:"space-y-1",children:Oe.map(N=>{const W=S.filter(T=>T.time===N);return e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("div",{className:"w-20 shrink-0 text-sm text-muted-foreground py-3 text-right",children:N}),e.jsx("div",{className:"flex-1 min-h-[70px] p-2 border border-border rounded-lg",children:W.length===0?e.jsx("div",{className:"text-sm text-muted-foreground/50 py-2",children:"No appointments"}):e.jsx("div",{className:"space-y-2",children:W.map(T=>e.jsx("button",{onClick:V=>f(T,V),className:M("w-full text-left p-3 rounded-lg transition-all hover:scale-[1.01]",Y[T.status].class),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:T.patientName}),e.jsx("div",{className:"text-sm opacity-80",children:T.type})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:T.doctor}),e.jsx($,{variant:"outline",className:"mt-1",children:Y[T.status].label})]})]})},T.id))})})]},N)})})})]})};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"shadow-card w-full",children:e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-foreground",children:D()}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"  flex flex-wrap gap-4",children:Object.entries(Y).map(([S,p])=>e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:M("px-2 py-0.5 rounded text-xs",p.class),children:p.label})},S))}),e.jsx(We,{value:o,onValueChange:S=>d(S),children:e.jsxs(He,{className:"h-9",children:[e.jsx(ee,{value:"month",className:"px-3",children:"Month"}),e.jsx(ee,{value:"week",className:"px-3",children:"Week"}),e.jsx(ee,{value:"day",className:"px-3",children:"Day"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:"outline",size:"icon",onClick:b,children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx(y,{variant:"outline",onClick:()=>l(new Date),children:"Today"}),e.jsx(y,{variant:"outline",size:"icon",onClick:k,children:e.jsx(is,{className:"h-4 w-4"})})]})]})]}),o==="month"&&A(),o==="week"&&E(),o==="day"&&v()]})}),e.jsx(he,{open:m,onOpenChange:u,children:e.jsx(xe,{className:"sm:max-w-[500px]",children:n&&e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(j=n==null?void 0:n.patient)==null?void 0:j.first_name.split(" ").map(S=>S[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{children:(w=n==null?void 0:n.patient)==null?void 0:w.first_name}),e.jsx($,{className:M("mt-1",Y[n.status].class),children:Y[n.status].label})]})]}),e.jsx(ge,{children:"Appointment Details"})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(q,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-medium",children:n.appointment_date})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(se,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-medium",children:n.time_slot})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(js,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinic"}),e.jsxs("p",{className:"font-medium",children:[((R=n==null?void 0:n.clinic)==null?void 0:R.name)??"NA"," "]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[e.jsx(Ne,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider  "}),e.jsxs("p",{className:"font-medium",children:[((_=n==null?void 0:n.appointable)==null?void 0:_.name)??"Next Available Provider"," "]}),(n==null?void 0:n.appointable)&&e.jsx($,{variant:"outline",children:n==null?void 0:n.appointable_label})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(g=n==null?void 0:n.patient)==null?void 0:g.phone_number})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[(z=(C=n==null?void 0:n.patient)==null?void 0:C.first_name)==null?void 0:z.toLowerCase().replace(" ","."),"@email.com"]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-border",children:[n.status==="pending"&&e.jsx(y,{className:"flex-1",onClick:()=>{s(n),u(!1)},children:"Confirm"}),(n.status==="pending"||n.status==="confirmed")&&e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"outline",className:"flex-1",onClick:()=>{a(n),u(!1)},children:"Reschedule"}),e.jsx(y,{variant:"outline",className:"text-destructive hover:bg-destructive/10",onClick:()=>{c(n),u(!1)},children:"Cancel Appointment"})]})]})]})]})})})]})}function rr({open:r,onOpenChange:a,appointment:s,onCancel:c}){var t,l;return e.jsx(he,{open:r,onOpenChange:a,children:e.jsxs(xe,{className:"max-w-md",children:[e.jsxs(ue,{children:[e.jsx(fe,{children:"Cancel Appointment"}),e.jsx(ge,{children:"Are you sure you want to cancel this appointment?"})]}),s&&e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[e.jsx("p",{className:"font-medium",children:(t=s==null?void 0:s.patient)==null?void 0:t.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s.time_slot]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(l=s==null?void 0:s.appointable)==null?void 0:l.name})]})}),e.jsxs(ne,{children:[e.jsx(y,{variant:"outline",onClick:()=>a(!1),children:"Keep Appointment"}),e.jsxs(y,{variant:"destructive",onClick:c,children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Cancel Appointment"]})]})]})})}function tr({appointment:r,sendEmail:a,sendSMS:s}){var c;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 mb-4",children:e.jsx(Se,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Appointment Confirmed!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[(c=r==null?void 0:r.patient)==null?void 0:c.first_name,"'s appointment has been confirmed for"," ",r==null?void 0:r.appointment_date," at ",r==null?void 0:r.time_slot,"."]}),(a||s)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Notifications sent via:"}),a&&e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),"Email"]}),s&&e.jsxs($,{variant:"secondary",className:"gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),"SMS"]})]})]})}function lr({open:r,onOpenChange:a,appointment:s,onConfirm:c}){var b,k,D,P,A,E;const[t,l]=i.useState(""),[o,d]=i.useState(!0),[n,x]=i.useState(!0),[m,u]=i.useState("details"),h=()=>{l(""),d(!0),x(!0),u("details"),a(!1)},f=()=>{if(s){const v=[];o&&v.push("email"),n&&v.push("sms"),c(s,t,v),u("success")}};return s?e.jsx(he,{open:r,onOpenChange:h,children:e.jsx(xe,{className:"max-w-md",children:m==="details"?e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-primary"}),"Confirm Appointment"]}),e.jsx(ge,{children:"Confirm this appointment and optionally notify the patient"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(k=(b=s==null?void 0:s.patient)==null?void 0:b.first_name)==null?void 0:k.split(" ").map(v=>v[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-foreground",children:(D=s==null?void 0:s.patient)==null?void 0:D.first_name}),((P=s==null?void 0:s.dentalservice)==null?void 0:P.name)&&e.jsx($,{variant:"outline",className:"mt-1",children:(A=s==null?void 0:s.dentalservice)==null?void 0:A.name})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:s==null?void 0:s.time_slot})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{children:(E=s==null?void 0:s.appointable)==null?void 0:E.name})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ae,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4"}),"Confirmation Notes (Optional)"]}),e.jsx(ws,{placeholder:"Add any notes or instructions for the patient...",value:t,onChange:v=>l(v.target.value),className:"resize-none",rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Send Confirmation To Patient"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(De,{id:"email",checked:o,onCheckedChange:v=>d(!!v)}),e.jsxs("label",{htmlFor:"email",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Email Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation email to patient"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-border",children:[e.jsx(De,{id:"sms",checked:n,onCheckedChange:v=>x(!!v)}),e.jsxs("label",{htmlFor:"sms",className:"flex items-center gap-2 flex-1 cursor-pointer",children:[e.jsx(we,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"SMS Notification"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send confirmation SMS to patient"})]})]})]})]})]})]}),e.jsxs(ne,{children:[e.jsx(y,{variant:"outline",onClick:h,children:"Cancel"}),e.jsx(y,{onClick:f,children:"Confirm Appointment"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(tr,{appointment:s,sendEmail:o,sendSMS:n}),e.jsx(ne,{children:e.jsx(y,{onClick:h,className:"w-full",children:"Done"})})]})})}):null}const nr=["08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM"];function ar({open:r,onOpenChange:a,appointment:s,onReschedule:c}){var P,A,E,v,j;const[t,l]=i.useState(),[o,d]=i.useState(""),[n,x]=i.useState(""),[m,u]=i.useState(""),[h,f]=i.useState("select"),b=()=>{l(void 0),d(""),x(""),u(""),f("select"),a(!1)},k=()=>{t&&o&&f("confirm")},D=()=>{s&&t&&o&&(c(s,t,o,m),b())};return s?e.jsx(he,{open:r,onOpenChange:b,children:e.jsxs(xe,{className:"max-w-2xl",children:[e.jsxs(ue,{children:[e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"Reschedule Appointment"]}),e.jsxs(ge,{children:["Select a new date and time for ",(P=s==null?void 0:s.patient)==null?void 0:P.first_name,"'s"," ",(A=s==null?void 0:s.type)==null?void 0:A.toLowerCase()," appointment"]})]}),h==="select"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Appointment"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-sm font-medium text-primary",children:(v=(E=s==null?void 0:s.patient)==null?void 0:E.first_name)==null?void 0:v.split(" ").map(w=>w[0]).join("")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:(j=s==null?void 0:s.patient)==null?void 0:j.first_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s==null?void 0:s.appointment_date," at ",s==null?void 0:s.time_slot]})]}),e.jsx($,{variant:"outline",children:s==null?void 0:s.appointable_label})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Select New Date"}),e.jsx(Ns,{mode:"single",selected:t,onSelect:l,disabled:w=>w<new Date,className:"rounded-lg border border-border pointer-events-auto"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{children:"Select Time Slot"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:nr.map(w=>e.jsx(y,{type:"button",variant:o===w?"default":"outline",size:"sm",className:"text-xs",onClick:()=>d(w),children:w},w))})]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ms,{className:"h-5 w-5 text-amber-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-600",children:"Confirm Reschedule"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please verify the new appointment details before confirming."})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Original"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s==null?void 0:s.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.time_slot})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border-2 border-primary bg-primary/5",children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-2",children:"New"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(q,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:t&&L(t,"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium",children:o})]})]})]})]}),m&&e.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Reason"}),e.jsx("p",{className:"text-sm",children:m})]})]}),e.jsx(ne,{children:h==="select"?e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"outline",onClick:b,children:"Cancel"}),e.jsx(y,{onClick:k,disabled:!t||!o,children:"Review Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"outline",onClick:()=>f("select"),children:"Back"}),e.jsx(y,{onClick:D,children:"Confirm Reschedule"})]})})]})}):null}const ze={confirmed:{label:"Confirmed",class:"badge-confirmed"},pending:{label:"Pending",class:"badge-pending"},cancelled:{label:"Cancelled",class:"badge-cancelled"},completed:{label:"Completed",class:"badge-completed"}};function or({appointments:r,showActions:a=!0,onReschedule:s,onConfirm:c,onCancel:t}){return e.jsx("div",{className:"data-table ",children:e.jsxs("table",{className:"w-full  ",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"20%",children:"Patient"}),e.jsx("th",{width:"25%",children:"Date & Time"}),e.jsx("th",{width:"20%",children:"Dentist"}),e.jsx("th",{width:"20%",children:"Clinic"}),e.jsx("th",{width:"5%",children:"Status"}),a&&e.jsx("th",{width:"5%",className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(l=>{var o,d,n;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors  ",children:[e.jsx("td",{children:e.jsx(ys,{text:(o=l==null?void 0:l.patient)==null?void 0:o.first_name})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.appointment_date})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{children:l==null?void 0:l.time_slot})]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((d=l==null?void 0:l.appointable)==null?void 0:d.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ls,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:((n=l==null?void 0:l.clinic)==null?void 0:n.name)??"Not assigned"})]})}),e.jsx("td",{children:e.jsxs("span",{className:M("badge-status",ze[l==null?void 0:l.status].class),children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-current"}),ze[l.status].label]})}),a&&e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.status==="pending"&&c&&e.jsxs(y,{variant:"ghost",size:"sm",className:"gap-1.5 text-primary hover:text-primary",onClick:()=>c(l),children:[e.jsx(Se,{className:"h-4 w-4"}),"Confirm"]}),(l.status==="pending"||l.status==="confirmed")&&s&&e.jsxs(y,{variant:"ghost",size:"sm",className:"gap-1.5",onClick:()=>s(l),children:[e.jsx(Cs,{className:"h-4 w-4"}),"Reschedule"]}),(l.status==="pending"||l.status==="confirmed")&&t&&e.jsxs(y,{variant:"ghost",size:"sm",className:"gap-1.5 text-destructive hover:text-destructive",onClick:()=>t(l),children:[e.jsx(Ve,{className:"h-4 w-4"}),"Cancel"]}),e.jsxs(ms,{children:[e.jsx(hs,{asChild:!0,children:e.jsx(y,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(As,{className:"h-4 w-4"})})}),e.jsxs(xs,{align:"end",children:[e.jsx(Ee,{children:"View Details"}),e.jsx(Ee,{children:"Edit Notes"})]})]})]})})]},l.id)})})]})})}function Br({appointments:r,pendingAppointments:a}){const{auth:s}=ts().props,c=s.user.role,[t,l]=i.useState("calendar"),[o,d]=i.useState(!1),[n,x]=i.useState(null),[m,u]=i.useState(!1),[h,f]=i.useState(!1),b=j=>{x(j),d(!0)},k=j=>{x(j),u(!0)},D=j=>{const w=j.replace(/\s+/g," ").replace(/\u202F/g," "),[R,_]=w.split(" ");let[g,C]=R.split(":");return g==="12"&&(g="00"),_==="PM"&&(g=parseInt(g,10)+12),`${g}:${C}`},P=(j,w,R,_)=>{let g="appointments.reschedule";c==="clinic_admin"&&(g="clinic.appointments.reschedule"),c==="clinic_user"&&(g="clinic.user.appointments.reschedule");const C=D(R),z=L(w,"yyyy-MM-dd");ve.put(route(g,{appointment:j.id}),{new_slot:C,new_dt:z})},A=(j,w,R)=>{let _="appointments.confirm";c==="clinic_admin"&&(_="clinic.appointments.confirm"),c==="clinic_user"&&(_="clinic.user.appointments.confirm"),ve.put(route(_,{appointment:n}))},E=j=>{x(j),f(!0)},v=()=>{let j="appointments.cancel";n&&(c==="clinic_admin"&&(j="clinic.appointments.cancel"),c==="clinic_user"&&(j="clinic.user.appointments.cancel"),ve.put(route(j,{appointment:n}),{onFinish:()=>{x(null),f(!1)}}))};return e.jsxs(us,{pageTitle:"Appointments",subTitle:"Review and manage patient appointment requests",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-6",children:[e.jsx(le,{title:"Confirmed",value:r.length}),e.jsx(le,{title:"Pending",value:r.length}),e.jsx(le,{title:"Completed",value:r.length}),e.jsx(le,{title:"Cancelled",value:r.length})]}),e.jsx(Os,{viewMode:t,setViewMode:j=>l(j)}),t==="list"?e.jsxs(ie,{className:"shadow-card",children:[e.jsx(ls,{className:"pb-0",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(ns,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),"All Appointments"]})})}),e.jsx(de,{className:"p-0 pt-4",children:e.jsx(or,{appointments:r,onReschedule:b})})]}):e.jsx(sr,{appointments:r,onReschedule:b,onConfirm:k,onCancel:E}),e.jsx(ar,{open:o,onOpenChange:d,appointment:n,onReschedule:P}),e.jsx(lr,{open:m,onOpenChange:u,appointment:n,onConfirm:A}),e.jsx(rr,{open:h,onOpenChange:f,appointment:n,onCancel:v})]})}export{Br as default};
